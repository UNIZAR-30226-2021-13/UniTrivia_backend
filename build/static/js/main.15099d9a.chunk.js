(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{189:function(e,a,t){},256:function(e,a,t){},268:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(12),i=t.n(r),s=(t(189),t(7)),c=t(74),l=t(50),d=t(13),u=t.n(d),h=t(8),j=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},b=function(){return sessionStorage.getItem("token")||null},p=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},g=t(338),m=t(308),x=t(304),f=t(333),O=t(306),v=t(337),y=t(301),k=t(334),w=t(303),C=t(64),S=t.n(C),R=t(42),A=t(302),z=t(1);function W(){return Object(z.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var I=Object(A.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",width:"100%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"},error:{width:"100%",position:"absolute",textAlign:"center",color:"white",backgroundColor:"red"}}}));var E=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},P=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=(t[0],t[1]),r=E(""),i=E(""),c=Object(n.useState)(!1),l=Object(s.a)(c,2),d=l[0],j=l[1],b=Object(n.useState)(null),p=Object(s.a)(b,2),C=p[0],A=p[1],P=Object(n.useState)(!1),D=Object(s.a)(P,2),T=D[0],N=D[1],J=Object(n.useState)(!1),F=Object(s.a)(J,2),q=F[0],M=F[1],B=I();return Object(z.jsxs)(w.a,{container:!0,component:"main",className:B.root,children:[Object(z.jsx)(x.a,{}),d?Object(z.jsx)("div",{className:B.error,children:C}):null,Object(z.jsx)(w.a,{item:!0,xs:!1,className:B.image}),Object(z.jsx)("div",{className:B.fondo,children:Object(z.jsxs)("div",{className:B.paper,children:[Object(z.jsx)(g.a,{className:B.avatar,children:Object(z.jsx)(S.a,{})}),Object(z.jsx)(R.a,{component:"h1",variant:"h5",children:"Acceder"}),Object(z.jsxs)("form",{className:B.form,noValidate:!0,children:[Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===T,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Usuario",name:"username",autoComplete:"username",autoFocus:!0},r),{},{helperText:T?"introduce el usario":""})),Object(z.jsx)(f.a,Object(h.a)({error:!0===q,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",helperText:q?"introduce la contrase\xf1a":""},i)),Object(z.jsx)(O.a,{control:Object(z.jsx)(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(z.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){A(null),o(!0),""===r.value?N(!0):N(!1),""===i.value?M(!0):M(!1),""!==r.value&&""!==i.value&&u.a.get("https://unitrivia.herokuapp.com/api/login",{headers:{username:r.value,password:i.value}}).then((function(a){var t,n;o(!1),console.log(a),t=a.data,n=r.value,sessionStorage.setItem("token",t),sessionStorage.setItem("user",JSON.stringify(n)),e.history.push("/menu")})).catch((function(e){o(!1),e.response.status,j(!0),A("El Ususario o la contrase\xf1a se han introducido incorrectamente")}))},children:"Acceder"}),Object(z.jsxs)(w.a,{container:!0,children:[Object(z.jsx)(w.a,{item:!0,xs:!0,children:Object(z.jsx)(y.a,{href:"/changepassword",variant:"body2",children:"Olvidaste la contrase\xf1a?"})}),Object(z.jsx)(w.a,{item:!0,children:Object(z.jsx)(y.a,{href:"/register",variant:"body2",children:"No tienes cuenta? Reg\xedstrate"})})]}),Object(z.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){A(null),o(!0),u.a.get("https://unitrivia.herokuapp.com/api/logAsGuest").then((function(a){var t;o(!1),t=a.data,sessionStorage.setItem("token",t),e.history.push("/menu")})).catch((function(e){o(!1),alert(e.message),401===e.response.status?(A(e.response.data.message),console.log(e)):(j(!0),A("Something went wrong. Please try again later."),console.log(e))}))},children:"Acceder como invitado"}),Object(z.jsx)(k.a,{mt:5,children:Object(z.jsx)(W,{})})]})]})})]})},D=t(15),T=(t(309),t(310),t(307));Object(A.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var N,J=t(16),F=t(76),q=J.a.nav(N||(N=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}));var M=function(e){return Object(n.useEffect)((function(){null!=j()&&e.history.push("/menu")}),[]),Object(z.jsx)(o.a.Fragment,{children:Object(z.jsxs)(w.a,{container:!0,children:[Object(z.jsx)(w.a,{item:!0,xs:4,children:Object(z.jsxs)(q,{open:!0,children:[Object(z.jsx)("h1",{children:"UNITRIVIA"}),Object(z.jsx)("h2",{}),Object(z.jsxs)(m.a,{href:"/Play",children:[Object(z.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83d\udd13"}),"LOGIN"]}),Object(z.jsxs)(m.a,{href:"/Register",children:[Object(z.jsx)("span",{role:"img","aria-label":"price",children:"\u270f\ufe0f"}),"SIGN UP"]}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsxs)(w.a,{container:!0,style:{align:"center"},children:[Object(z.jsx)(w.a,{item:!0,xs:6,children:Object(z.jsx)(F.a,{trigger:Object(z.jsxs)(m.a,{style:{fontSize:"1rem"},children:[Object(z.jsx)("span",{role:"img","aria-label":"price",children:"\ud83c\udfa8\ufe0f"}),"Autores"]}),position:"right bottom",children:Object(z.jsxs)("div",{children:[Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"ALEJANDRO ARTAL"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"DANIEL BENED\xcd"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"DIEGO BIELSA"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"\xd3SCAR G\xd3MEZ"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"IB\xd3N CA\xd1ETE"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"V\xcdCTOR HERNANDEZ"})})]})})}),Object(z.jsx)(w.a,{item:!0,xs:6,children:Object(z.jsx)(F.a,{contentStyle:{width:"1000px",height:"600px"},trigger:Object(z.jsxs)(m.a,{style:{fontSize:"1rem"},children:[Object(z.jsx)("span",{role:"img","aria-label":"price",children:"\u2694"}),"Reglas"]}),position:"right bottom",children:Object(z.jsxs)("div",{style:{width:"1000px",height:"600px"},children:[Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"El juego permite de 2-6 jugadores."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Se jugar\xe1 de forma individual."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Las preguntas contar\xe1n con un l\xedmite de tiempo de 60 segundos."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"El juego se desarrollar\xe1 sobre un tablero reducido."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"El orden de comienzo de los jugadores ser\xe1 aleatorio."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Cuando llegue el turno del jugador, realizar\xe1 una tirada de dados, en funci\xf3n del valor le permitir\xe1 moverse hacia cualquier direcci\xf3n legal."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Un movimiento legal est\xe1 definido por:"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Se puede mover en sentido horario o antihorario y en caso de estar en un radio avanzar hacia el anillo o el centro pero no se puede ni ocupar ni atravesar esta casilla."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Se puede ir de un radio al anillo exterior."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"No se puede invertir el sentido en medio de un movimiento."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"No se puede volver a los radios una vez has salido al anillo exterior."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Si el jugador cae en una casilla de dado el jugador deber\xe1 tirar de nuevo y realizar un movimiento en cualquier direcci\xf3n legal"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Si el jugador cae en una casilla normal se le plantea una pregunta correspondiente a la categor\xeda del color, en caso de responder correctamente podr\xe1 tirar de nuevo."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Si el jugador cae en una casilla de quesito se le plantea una pregunta correspondiente a la categor\xeda del color, en caso de responder correctamente podr\xe1 tirar de nuevo y ganar\xe1 un quesito del color correspondiente en caso de no tenerlo."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Si el jugador responde err\xf3neamente a la pregunta dar\xe1 por finalizado su turno."})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"Cuando un jugador consigue los 6 quesitos se proclama vencedor y acaba el juego."})})]})})})]})]})}),Object(z.jsx)(w.a,{item:!0,xs:6,style:{height:"80vh",width:"120vh",display:"flex"},children:Object(z.jsx)("img",{src:"/images/tablero/tablero.png"})})]})})},B=t(65);var U=function(e){var a=e.component,t=Object(B.a)(e,["component"]);return Object(z.jsx)(l.b,Object(h.a)(Object(h.a)({},t),{},{render:function(e){return b()?Object(z.jsx)(a,Object(h.a)({},e)):Object(z.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var G=t(311);function V(){return Object(z.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var H=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var L=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},_=function(e){var a=L(""),t=L(""),o=L(""),r=Object(n.useState)(null),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(!1),v=Object(s.a)(O,2),y=v[0],C=v[1],A=Object(n.useState)(!1),W=Object(s.a)(A,2),I=W[0],E=W[1],P=H();return Object(z.jsxs)(G.a,{component:"main",maxWidth:"xs",className:P.root,children:[Object(z.jsx)(x.a,{}),Object(z.jsxs)("div",{className:P.paper,children:[Object(z.jsx)(R.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(z.jsx)(g.a,{className:P.avatar,children:Object(z.jsx)(S.a,{})}),Object(z.jsx)(R.a,{component:"h1",variant:"h5",children:"He olvidado mi contrase\xf1a"}),Object(z.jsxs)("form",{className:P.form,noValidate:!0,children:[Object(z.jsxs)(w.a,{container:!0,spacing:2,children:[Object(z.jsx)(w.a,{item:!0,xs:12,spacing:2,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:b,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},a),{},{helperText:b?"Introduzca el usuario":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,spacing:2,children:Object(z.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==a.value?p(!0):(p(!1),u.a.get("https://unitrivia.herokuapp.com/api/login/recover/question",{headers:{username:a.value}}).then((function(e){console.log(e),l(e.data)})).catch((function(e){alert("Error al recuperar pregunta, usuario no existe")})))}catch(e){alert(e.message)}},children:"Recuperar pregunta"})}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,{variant:"outlined",disabled:!0,fullWidth:!0,value:c,id:"question",name:"question",defaultValue:"---",label:"Pregunta de seguridad"})}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:I,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},t),{},{helperText:I?"Introduzca la respuesta":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:y,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Nueva contrase\xf1a",type:"password",id:"password"},o),{},{helperText:y?"Introduzca la nueva contrase\xf1a":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12})]}),Object(z.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==a.value||""==t.value||""==o.value?(""==a.value?p(!0):p(!1),""==t.value?E(!0):E(!1),""==o.value?C(!0):C(!1)):(p(!1),E(!1),C(!1),u.a.post("https://unitrivia.herokuapp.com/api/login/recover/password",{},{headers:{username:a.value,res:t.value,newpassword:o.value}}).then((function(a){e.history.push("/login")})).catch((function(e){alert("Error al validar respuesta, revise la respuesta introducida")})))}catch(n){alert(n.message)}},children:"Confirmar"})]})]}),Object(z.jsx)(k.a,{mt:5,children:Object(z.jsx)(V,{})})]})};function X(){return Object(z.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(z.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var Y=Object(A.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",height:"110%",width:"200%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"}}})),Q=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}};function K(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=(t[0],t[1]),r=Object(n.useState)(null),i=Object(s.a)(r,2),c=(i[0],i[1]),l=Q(""),d=Q(""),j=Q(""),b=Q(""),p=Q(""),x=Q(""),O=Object(n.useState)(!1),v=Object(s.a)(O,2),C=v[0],A=v[1],W=Object(n.useState)(!1),I=Object(s.a)(W,2),E=I[0],P=I[1],D=Object(n.useState)(!1),T=Object(s.a)(D,2),N=T[0],J=T[1],F=Object(n.useState)(!1),q=Object(s.a)(F,2),M=q[0],B=q[1],U=Object(n.useState)(!1),G=Object(s.a)(U,2),V=G[0],H=G[1],L=Object(n.useState)(!1),_=Object(s.a)(L,2),K=_[0],Z=_[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),oe=Object(s.a)(ne,2),re=oe[0],ie=oe[1],se=(new RegExp("/S+@S+.S+/"),Y());return Object(z.jsxs)(w.a,{container:!0,component:"main",className:se.root,children:[Object(z.jsx)(w.a,{item:!0,xs:!1,className:se.image}),Object(z.jsx)("div",{className:se.fondo,children:Object(z.jsxs)("div",{className:se.paper,children:[Object(z.jsx)(R.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(z.jsx)(g.a,{className:se.avatar,children:Object(z.jsx)(S.a,{})}),Object(z.jsx)(R.a,{component:"h1",variant:"h5",children:"Reg\xedstrate"}),Object(z.jsxs)("form",{className:se.form,noValidate:!0,children:[Object(z.jsxs)(w.a,{container:!0,spacing:2,children:[Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===C,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},l),{},{helperText:C?"introduce el usario":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===N,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"},d),{},{helperText:N?"introduce el email":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===E,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"},j),{},{helperText:E?"introduce la contrase\xf1a":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===K||!0===ae,variant:"outlined",required:!0,fullWidth:!0,name:"reppassword",label:"Repetir contrase\xf1a",type:"password",id:"reppassword",autoComplete:"current-password"},b),{},{helperText:!0===K||!0===ae?re:""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===M,variant:"outlined",required:!0,fullWidth:!0,id:"question",label:"Pregunta de seguridad",name:"question"},p),{},{helperText:M?"introduce la pregunta de seguridad":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12,children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===V,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},x),{},{helperText:V?"introduce la respuesta a la pregunta de seguridad":""}))}),Object(z.jsx)(w.a,{item:!0,xs:12})]}),Object(z.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){c(null),o(!0),""===l.value?A(!0):A(!1),""===j.value?P(!0):P(!1),""===d.value?J(!0):J(!1),""===p.value?B(!0):B(!1),""===x.value?H(!0):H(!1),""===b.value?(te(!0),ie("introduce la contrase\xf1a")):te(!1),j.value!==b.value?(Z(!0),ie("las contrase\xf1as no coinciden")):Z(!1),""!==l.value&&""!==j.value&&""!==d.value&&""!==p.value&&""!==x.value&&j.value===b.value&&u.a.post("https://unitrivia.herokuapp.com/api/register",{},{headers:{username:l.value,password:j.value,email:d.value,preg:p.value,res:x.value}}).then((function(a){console.log(a.data),console.log(a),o(!1),e.history.push("/login")})).catch((function(e){o(!1),console.log(e.response),400===e.response.status?(c(e.response.data.message),alert("usuario existente")):c("Something went wrong. Please try again later.")}))},children:"Registrarse"}),Object(z.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(z.jsx)(w.a,{item:!0,children:Object(z.jsx)(y.a,{href:"/login",variant:"body2",children:"Ya tienes una cuenta? Accede"})})})]})]})}),Object(z.jsx)(k.a,{mt:5,children:Object(z.jsx)(X,{})})]})}var Z,$,ee,ae,te=t(312),ne=t(313),oe=(J.a.button(Z||(Z=Object(D.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),J.a.div($||($=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),J.a.nav(ee||(ee=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),re=(J.a.a(ae||(ae=Object(D.a)(["\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n"]))),Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));var ie=function(){return re(),Object(z.jsx)(te.a,{children:Object(z.jsx)(ne.a,{children:Object(z.jsxs)(oe,{open:!0,children:[Object(z.jsx)("h1",{children:"UNITRIVIA"}),Object(z.jsx)("h2",{children:"MEN\xda"}),Object(z.jsxs)(m.a,{href:"/Play",children:[Object(z.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83c\udfae\ufe0f"}),"JUGAR"]}),Object(z.jsxs)(m.a,{href:"/profile",disabled:null==j(),children:[Object(z.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udc87\u200d\u2640\ufe0f"}),"PERFIL"]}),Object(z.jsxs)(m.a,{href:"/Login",onClick:p,children:[Object(z.jsx)("span",{role:"img","aria-label":"contact",children:"\u274c"}),"CERRAR SESI\xd3N"]})]})})})},se=t(165),ce=(t(216),Object(A.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(13),height:e.spacing(13)}}})));var le=function(e){var a=ce(),t=e,n="/images/avatars/"+e.avatar+".jpg",o="/images/banners/"+e.banner+".jpg",r="/images/fichas/"+e.ficha+".png";return console.log(n),console.log(o),console.log(r),Object(z.jsx)(te.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(z.jsx)(ne.a,{children:Object(z.jsxs)(k.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(z.jsxs)(w.a,{container:!0,spacing:3,children:[Object(z.jsx)(w.a,{item:!0,md:6,xs:6,children:Object(z.jsx)(g.a,{title:"Avatar",src:n,className:a.large})}),Object(z.jsx)(w.a,{item:!0,sm:3,xs:6,children:Object(z.jsx)(g.a,{title:"Forma Ficha",src:r,className:a.large})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)("img",{title:"Banner",src:o,sx:{alignItems:"center",display:"flex",flexDirection:"row"},width:"800",height:"300"})})]}),Object(z.jsx)(R.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:t.user}),Object(z.jsx)(R.a,{color:"textSecondary",variant:"body1",children:"".concat(t.mail," ")})]})})}))},de=t(314),ue=t(315);var he=function(e){var a=e;return Object(z.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(z.jsxs)(te.a,{children:[Object(z.jsx)(de.a,{subheader:"Informaci\xf3n del usuario",title:"Perfil"}),Object(z.jsx)(ue.a,{}),Object(z.jsx)(ne.a,{children:Object(z.jsxs)(w.a,{container:!0,spacing:3,children:[Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,value:a.user,disabled:!0,id:"outlined-disabled",label:"Usuario",defaultValue:"Hello World",variant:"outlined"})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,value:a.mail,disabled:!0,id:"outlined-disabled",label:"Email",defaultValue:"Hello World",variant:"outlined"})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,value:a.pregu,disabled:!0,id:"outlined-disabled",label:"Pregunta de seguridad",defaultValue:"Hello World",variant:"outlined"})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,value:a.resu,disabled:!0,id:"outlined-disabled",label:"Respuesta",defaultValue:"Hello World",variant:"outlined"})})]})}),Object(z.jsx)(ue.a,{})]})}))},je=t(88),be=function(e){var a=Object(n.useState)({oldpassword:"",password:"",confirm:""}),t=Object(s.a)(a,2),o=t[0],r=t[1],i=function(e){r(Object(h.a)(Object(h.a)({},o),{},Object(je.a)({},e.target.name,e.target.value)))},c=function(){u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/password",{},{headers:{jwt:b(),newpassword:o.password,oldpassword:o.oldpassword}}).then((function(e){console.log(e),alert("Contrase\xf1a cambiada exitosamente"),window.location.reload(!0)})).catch((function(e){alert(e.message)}))};return Object(z.jsx)("form",Object(h.a)(Object(h.a)({},e),{},{onSubmit:c,children:Object(z.jsxs)(te.a,{children:[Object(z.jsx)(de.a,{subheader:"Update password",title:"Password"}),Object(z.jsx)(ue.a,{}),Object(z.jsxs)(ne.a,{children:[Object(z.jsx)(f.a,{fullWidth:!0,label:"Old password",margin:"normal",name:"oldpassword",onChange:i,type:"password",value:o.oldpassword,variant:"outlined"}),Object(z.jsx)(f.a,{fullWidth:!0,label:"New Password",margin:"normal",name:"password",onChange:i,type:"password",value:o.password,variant:"outlined"}),Object(z.jsx)(f.a,{fullWidth:!0,label:"Confirm new password",margin:"normal",name:"confirm",onChange:i,type:"password",value:o.confirm,variant:"outlined"})]}),Object(z.jsx)(ue.a,{}),Object(z.jsx)(k.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(z.jsx)(m.a,{color:"primary",variant:"contained",onClick:c,children:"Update"})})]})}))};var pe=function(e){var a=e;return Object(z.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(z.jsxs)(te.a,{children:[Object(z.jsx)(de.a,{subheader:"Estad\xedsticas del usuario",title:"Estad\xedsticas"}),Object(z.jsx)(ue.a,{}),Object(z.jsx)(ne.a,{children:Object(z.jsxs)(w.a,{container:!0,spacing:3,children:[Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,label:"Partidas jugadas",name:"firstName",defaultValue:"0",value:a.jugadas,variant:"outlined",disabled:!0})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,label:"Coins",name:"question",value:a.coins,defaultValue:"0",variant:"outlined",disabled:!0})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,label:"Partidas ganadas",name:"email",defaultValue:"0",value:a.ganadas,variant:"outlined",disabled:!0})}),Object(z.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(z.jsx)(f.a,{fullWidth:!0,label:"Partidas Perdidas",name:"question",value:a.jugadas-a.ganadas,defaultValue:"0",variant:"outlined",disabled:!0})})]})}),Object(z.jsx)(ue.a,{})]})}))},ge=t(305),me=t(316),xe=t(317),fe=t(318),Oe=t(321),ve=t(322),ye=t(68),ke=t(319),we=t(320),Ce=[],Se=[],Re=[],Ae=Object(A.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function ze(e){var a=e.index,t=e.style,n="/images/avatars/"+Ce[a]+".jpg";return Object(z.jsxs)(me.a,{button:!0,style:t,onClick:function(){console.log("avatar clickado"),console.log(String(Ce[a])),!0===window.confirm("Presione en OK para cambiar su Avatar")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/avatar",{},{headers:{jwt:b(),idavatar:String(Ce[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar avatar")}))},children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{src:n})}),Object(z.jsx)(fe.a,{primary:Ce[a]})]},a)}function We(e){var a=e.index,t=e.style,n="/images/banners/"+Se[a]+".jpg";return Object(z.jsxs)(me.a,{button:!0,style:t,onClick:function(){console.log("banner clickado"),console.log(String(Se[a])),!0===window.confirm("Presione en OK para cambiar su Banner")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/banner",{},{headers:{jwt:b(),idbanner:String(Se[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar banner")}))},children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)("img",{src:n,width:"300",height:"50"})}),Object(z.jsx)(fe.a,{primary:Se[a]})]},a)}function Ie(e){var a=e.index,t=e.style,n="/images/fichas/"+Re[a]+".png";return Object(z.jsxs)(me.a,{button:!0,style:t,onClick:function(){console.log("ficha clickado"),console.log(String(Re[a])),!0===window.confirm("Presione en OK para cambiar su Forma de Ficha")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/formFicha",{},{headers:{jwt:b(),idformficha:String(Re[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{src:n})}),Object(z.jsx)(fe.a,{primary:Re[a]})]},a)}var Ee=function(e){var a=e.comprados,t=e.coins,o=Ae(),r=Object(n.useState)(!1),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),g=p[0],x=p[1];if(null!=a){console.log(a),console.log(t),Ce=[],Se=[],Re=[];for(var f=0;f<a.length;f++){var O=a[f];"a"==O[0]?Ce.push(O):"b"==O[0]?Se.push(O):"f"==O[0]&&Re.push(O)}}return Object(z.jsxs)(te.a,{children:[Object(z.jsx)(de.a,{subheader:"Objetos adquiridos por el usuario",title:"Objetos"}),Object(z.jsxs)(ge.a,{children:[Object(z.jsxs)("div",{className:o.demo,children:[Object(z.jsxs)(me.a,{button:!0,onClick:function(){l(!c)},children:[Object(z.jsx)(fe.a,{primary:"Avatares"}),c?Object(z.jsx)(ke.a,{}):Object(z.jsx)(we.a,{})]}),Object(z.jsx)(Oe.a,{in:c,timeout:"auto",children:Object(z.jsx)(ye.a,{height:100,width:800,itemSize:46,itemCount:Ce.length,children:ze})})]}),Object(z.jsxs)("div",{className:o.demo,children:[Object(z.jsxs)(me.a,{button:!0,onClick:function(){j(!h)},children:[Object(z.jsx)(fe.a,{primary:"Banners"}),h?Object(z.jsx)(ke.a,{}):Object(z.jsx)(we.a,{})]}),Object(z.jsx)(Oe.a,{in:h,timeout:"auto",children:Object(z.jsx)(ye.a,{height:100,width:800,itemSize:46,itemCount:Se.length,children:We})})]}),Object(z.jsxs)("div",{className:o.demo,children:[Object(z.jsxs)(me.a,{button:!0,onClick:function(){x(!g)},children:[Object(z.jsx)(fe.a,{primary:"Formas de ficha"}),g?Object(z.jsx)(ke.a,{}):Object(z.jsx)(we.a,{})]}),Object(z.jsx)(Oe.a,{in:g,timeout:"auto",children:Object(z.jsx)(ye.a,{height:100,width:800,itemSize:46,itemCount:Re.length,children:Ie})})]})]}),Object(z.jsxs)(ve.a,{children:[Object(z.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Avatar")},children:"Obtener Avatares"}),Object(z.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Banner")},children:"Obtener Banners"}),Object(z.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Ficha")},children:"Obtener Fichas"})]})]})},Pe=t(323),De=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Te=function(e){De();var a=Object(n.useState)(null),t=Object(s.a)(a,2),o=t[0],r=t[1],i=Object(n.useState)(),c=Object(s.a)(i,2),l=c[0],d=c[1],h=Object(n.useState)(null),j=Object(s.a)(h,2),g=j[0],x=j[1],f=Object(n.useState)(null),O=Object(s.a)(f,2),v=O[0],y=O[1],C=Object(n.useState)(null),S=Object(s.a)(C,2),R=S[0],A=S[1],W=Object(n.useState)(null),I=Object(s.a)(W,2),E=I[0],P=I[1],D=Object(n.useState)(null),N=Object(s.a)(D,2),J=N[0],F=N[1],q=Object(n.useState)(null),M=Object(s.a)(q,2),B=M[0],U=M[1],V=Object(n.useState)(null),H=Object(s.a)(V,2),L=H[0],_=H[1],X=Object(n.useState)(null),Y=Object(s.a)(X,2),Q=Y[0],K=Y[1],Z=Object(n.useState)(null),$=Object(s.a)(Z,2),ee=$[0],ae=$[1];return Object(n.useEffect)((function(){console.log(b()),u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){r(e.data.preg),d(e.data.res),x(e.data.cns),y(e.data.ng),A(e.data.fich),P(e.data.bnr),F(e.data.rfs),U(e.data.avtr),_(e.data.nj),K(e.data.mail),ae(e.data._id),console.log(e.data),console.log(e)})).catch((function(e,a){console.log(e.response)}))}),[]),Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(se.a,{children:Object(z.jsx)("title",{children:"Account | Material Kit"})}),Object(z.jsxs)(T.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/menu",children:[Object(z.jsx)(Pe.a,{color:"primary"}),"Volver"]}),Object(z.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(z.jsx)(G.a,{maxWidth:"lg",children:Object(z.jsxs)(w.a,{container:!0,spacing:3,children:[Object(z.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(z.jsx)(le,{user:ee,mail:Q,avatar:B,banner:E,ficha:R})}),Object(z.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(z.jsx)(he,{user:ee,mail:Q,pregu:o,resu:l})}),Object(z.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(z.jsx)(pe,{jugadas:L,ganadas:v,coins:g})}),Object(z.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(z.jsx)(Ee,{comprados:J,coins:g,onResponse:function(a){console.log(a),"Avatar"===a?e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Avatar"}}):"Banner"===a?e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Banner"}}):"Ficha"===a&&e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Ficha"}})}.bind()})}),Object(z.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(z.jsx)(k.a,{sx:{pt:3},children:Object(z.jsx)(be,{})})}),Object(z.jsx)(m.a,{color:"primary",variant:"contained",onClick:function(){try{!0===window.confirm("Presione en OK para borrar cuenta para siempre")&&u.a.delete("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(a){console.log(a),p(),e.history.push("/login")})).catch((function(e){alert(e.message),console.log(e)}))}catch(a){alert(a.message)}},children:"Borrar usuario"})]})})})]})};var Ne,Je,Fe,qe=function(e){var a=e.component,t=Object(B.a)(e,["component"]);return Object(z.jsx)(l.b,Object(h.a)(Object(h.a)({},t),{},{render:function(e){return b()&&j()?Object(z.jsx)(a,Object(h.a)({},e)):Object(z.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Me=t(79),Be=(t(247),t(335)),Ue=t(324),Ge=t(325),Ve=t(326),He="https://unitrivia.herokuapp.com/api/partida",Le=void 0,_e=(J.a.button(Ne||(Ne=Object(D.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),J.a.div(Je||(Je=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),J.a.nav(Fe||(Fe=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),Xe=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Ye=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},Qe=function(e){var a=Xe(),t=Object(n.useState)(null),o=Object(s.a)(t,2),r=(o[0],o[1],Object(n.useState)(!1)),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),p=j[0],g=j[1],x=Ye("");Object(n.useEffect)((function(){}),[]);var O=function(){l(!c)};return u.a.get(He+"/reconexion",{headers:{jwt:b()}}).then((function(e){g(""!==e.data)})).catch((function(e,a){console.log(e.response)})),Object(z.jsx)(te.a,{children:Object(z.jsx)(ne.a,{children:Object(z.jsxs)(_e,{open:!0,children:[Object(z.jsx)("h1",{children:"UNITRIVIA"}),Object(z.jsx)("h2",{children:"JUGAR"}),Object(z.jsxs)(m.a,{onClick:function(){(Le=Object(Me.io)(He,{extraHeaders:{jwt:b(),operacion:"buscarPartida"}})).on("connect",(function(){console.log(Le.connected),console.log(Le.disconnected),console.log(Le.nsp),console.log(Le),!0===Le.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:p,children:[Object(z.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83d\udd0e"}),"PARTIDA ALEATORIA"]}),Object(z.jsxs)(m.a,{onClick:function(){console.log("comienza crearSala"),(Le=Object(Me.io)(He,{extraHeaders:{jwt:b(),operacion:"crearSala",priv:"true"}})).on("connect",(function(){console.log(Le.connected),console.log(Le.disconnected),console.log(Le.nsp),console.log(Le),!0===Le.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:p,children:[Object(z.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udee0"}),"CREAR SALA"]}),Object(z.jsxs)(m.a,{onClick:O,disabled:p,children:[Object(z.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83e\udd1d"}),"UNIRSE A SALA"]}),Object(z.jsxs)(Be.a,{isOpen:1==c,children:[Object(z.jsx)(Ue.a,{children:"Escriba el c\xf3digo de sala"}),Object(z.jsx)(Ge.a,{children:Object(z.jsx)("form",{className:a.form,noValidate:!0,children:Object(z.jsx)(f.a,Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"C\xf3digo",name:"code",autoComplete:"Codigo",autoFocus:!0},x))})}),Object(z.jsxs)(Ve.a,{children:[Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var a=x.value;console.log(a),(Le=Object(Me.io)(He,{extraHeaders:{jwt:b(),operacion:"unirseSala",sala:a}})).on("connect",(function(){console.log(Le.connected),console.log(Le.disconnected),console.log(Le.nsp),console.log(Le),!0===Le.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},children:"Confirmar C\xf3digo"}),Object(z.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",onClick:O,children:"Cerrar"})]})]}),Object(z.jsxs)(m.a,{onClick:function(){console.log(Le),Le=void 0,console.log(Le);Le=Object(Me.io)(He,{extraHeaders:{jwt:b(),operacion:"reconexion"}}),console.log(Le),Le.on("connect",(function(){1==Le.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("no conectado"),alert("Fallo al reconectar a partida"))}))},disabled:!p,children:[Object(z.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83d\udd04"}),"RECONECTAR"]}),Object(z.jsxs)("a",{href:"/Menu",children:[Object(z.jsx)("span",{role:"img","aria-label":"contact",children:"\u2b05"}),"ATR\xc1S"]})]})})})},Ke=t(58);t(255);var Ze=function(e){return console.log("estoy en chat"),console.log(Le),Le.on("nuevoJugador",(function(e){var a=e.jugador;Object(Ke.addResponseMessage)("El jugador "+a+" ha entrado a la sala.")})),Le.on("reconexionJugador",(function(e){var a=e.jugador;Object(Ke.addResponseMessage)("El jugador "+a+" se ha reconectado.")})),Le.on("abandonoSala",(function(e){Object(Ke.addResponseMessage)("El jugador "+e+" ha abandonado la sala.")})),Le.on("jugadorSale",(function(e){Object(Ke.addResponseMessage)("El jugador "+e+" ha abandonado la partida")})),Le.on("chat",(function(e){var a="Mensaje de "+e.usuario+": "+e.msg;Object(Ke.addResponseMessage)(a)})),Object(z.jsx)("div",{className:"Chat",children:Object(z.jsx)(Ke.Widget,{handleNewUserMessage:function(e){console.log("New message incomig! ".concat(e)),Le.emit("mensaje","".concat(e))},title:"CHAT",subtitle:"Chat de la sala actual"})})};t(256);var $e=function(e){var a=[];return console.log(e.color),e.color.forEach((function(e){a.push(Object(z.jsx)("div",{className:"piece "+e}))})),Object(z.jsx)("div",{className:"cheese",children:a})},ea=t(327);Object(A.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var aa,ta,na=t(96),oa=t(97),ra=t(99),ia=t(98),sa=t(78),ca=t(169),la=t.n(ca),da=t(171),ua=J.a.h1(aa||(aa=Object(D.a)(["\n  margin-top: 4em;\n  font-size: 48px;\n"]))),ha=J.a.p(ta||(ta=Object(D.a)(["\n  font-size: 24px;\n  margin-bottom: 3em;\n"])));var ja,ba,pa,ga,ma=function(e){var a;return a=1===e.pts?"CORRECTA":"INCORRECTA",Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ua,{children:"Resultado"}),Object(z.jsxs)(ha,{children:["Respuesta ",a]})]})},xa=J.a.div(ja||(ja=Object(D.a)(["\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n"]))),fa=J.a.div(ba||(ba=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),Oa=J.a.button(pa||(pa=Object(D.a)(["\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n"]))),va=J.a.div(ga||(ga=Object(D.a)(["\n  width: 70%;\n  margin: 0 auto;\n"])));var ya=function(e){var a=e.pregunta.pregunta.pregunta,t=e.pregunta.pregunta.resps_inc,o=e.pregunta.pregunta.resp_c;console.log(o);var r=Object(n.useState)([]),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(0),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(0),p=Object(s.a)(b,2),g=p[0],m=p[1],x=function(a){console.log(a);var t=a.target.innerText;console.log(a.target.innerText),console.log(c[h]),console.log(t),c[h].answer===t?(m(g+1),e.onResponse({result:1,casillaInfo:e.pregunta})):(console.log("fallaste"+c[h].answer+" "+t),e.onResponse({result:0,casillaInfo:e.pregunta})),j(h+1)};return Object(n.useEffect)((function(){var e,n={question:a,options:(e=[].concat(Object(da.a)(t),[o]),e.sort((function(){return Math.random()-.5}))),answer:o};l([n])}),[]),Object(z.jsx)("div",{children:Object(z.jsxs)(xa,{children:[c[h]&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(va,{dangerouslySetInnerHTML:{__html:c[h].question}}),Object(z.jsx)(fa,{children:c[h].options.map((function(e,a){return Object(z.jsx)(Oa,{dangerouslySetInnerHTML:{__html:e},onClick:x},a)}))})]}),1===h&&Object(z.jsx)(ma,{pts:g})]})})},ka=t(80),wa=t.n(ka);function Ca(e,a,t,n){for(var o=[],r=wa()("rgb(".concat(e,", ").concat(a,", ").concat(t,")")).toHsl(),i=9;i>1;i-=8/n)r.l=.1*i,o.push(wa()(r).toRgb());return o}function Sa(e){return wa()(e).toRgb()}function Ra(e,a){return{inside:function(t){return t>=e&&t<=a}}}function Aa(e){return wa()(e).toRgbString()}function za(e,a){return e-a/2}function Wa(e,a,t){var n;return 59===e&&56===a&&135===t?n=0:255===e&&255===a&&255===t?n=1:0===e&&136===a&&19===t?n=2:0===e&&145===a&&226===t?n=3:255===e&&100===a&&0===t?n=10:255===e&&255===a&&254===t?n=11:236===e&&215===a&&0===t?n=12:0===e&&136===a&&18===t?n=13:0===e&&145===a&&225===t?n=20:255===e&&255===a&&253===t?n=21:255===e&&100===a&&1===t?n=22:0===e&&145===a&&224===t?n=23:0===e&&136===a&&17===t?n=30:255===e&&255===a&&252===t?n=31:236===e&&215===a&&1===t?n=32:59===e&&56===a&&134===t?n=33:255===e&&0===a&&235===t?n=40:255===e&&255===a&&251===t?n=41:255===e&&0===a&&234===t?n=42:59===e&&56===a&&133===t?n=43:236===e&&215===a&&2===t?n=50:255===e&&255===a&&250===t?n=51:255===e&&0===a&&233===t?n=52:255===e&&100===a&&2===t?n=53:255===e&&100===a&&3===t?n=63:236===e&&215===a&&3===t?n=62:0===e&&145===a&&223===t?n=61:255===e&&0===a&&237===t?n=73:0===e&&136===a&&16===t?n=72:0===e&&145===a&&221===t?n=71:59===e&&56===a&&132===t?n=83:255===e&&0===a&&238===t?n=82:255===e&&100===a&&4===t?n=81:236===e&&215===a&&4===t?n=93:255===e&&0===a&&236===t?n=92:0===e&&145===a&&222===t?n=91:255===e&&100===a&&5===t?n=103:59===e&&56===a&&131===t?n=102:0===e&&136===a&&15===t?n=101:0===e&&136===a&&14===t?n=113:59===e&&56===a&&130===t?n=112:255===e&&0===a&&239===t&&(n=111),n}function Ia(e,a){var t={x:0,y:0};switch(e){case 0:t.x=222.5,t.y=4.6875+7*a;break;case 1:t.x=284.5,t.y=11.6875+7*a;break;case 2:t.x=344.5,t.y=23.6875+7*a;break;case 3:t.x=401.5,t.y=57.6875+7*a;break;case 10:t.x=435.5,t.y=111.6875+7*a;break;case 11:t.x=449.5,t.y=166.6875+7*a;break;case 12:t.x=454.5,t.y=220.6875+7*a;break;case 13:t.x=451.5,t.y=278.6875+7*a;break;case 20:t.x=436.5,t.y=332.6875+7*a;break;case 21:t.x=404.5,t.y=378.6875+7*a;break;case 22:t.x=343.5,t.y=428.6875+7*a;break;case 23:t.x=287.5,t.y=448.6875+7*a;break;case 30:t.x=229.5,t.y=450.6875+7*a;break;case 31:t.x=175.5,t.y=443.6875+7*a;break;case 32:t.x=124.5,t.y=423.6875+7*a;break;case 33:t.x=82.5,t.y=385.6875+7*a;break;case 40:t.x=38.5,t.y=341.6875+7*a;break;case 41:t.x=15.5,t.y=286.6875+7*a;break;case 42:t.x=5.5,t.y=223.6875+7*a;break;case 43:t.x=15.5,t.y=167.6875+7*a;break;case 50:t.x=49.5,t.y=108.6875+7*a;break;case 51:t.x=82.5,t.y=67.6875+7*a;break;case 52:t.x=118.5,t.y=38.6875+7*a;break;case 53:t.x=169.5,t.y=13.6875+7*a;break;case 61:t.x=230.5,t.y=62.6875+7*a;break;case 62:t.x=230.5,t.y=113.6875+7*a;break;case 63:t.x=231.5,t.y=161.6875+7*a;break;case 71:t.x=377.5,t.y=145.6875+7*a;break;case 72:t.x=330.5,t.y=170.6875+7*a;break;case 73:t.x=293.5,t.y=194.6875+7*a;break;case 81:t.x=390.5,t.y=300.6875+7*a;break;case 82:t.x=343.5,t.y=277.6875+7*a;break;case 83:t.x=310.5,t.y=259.6875+7*a;break;case 91:t.x=232.5,t.y=392.6875+7*a;break;case 92:t.x=236.5,t.y=340.6875+7*a;break;case 93:t.x=235.5,t.y=309.6875+7*a;break;case 101:t.x=92.5,t.y=319.6875+7*a;break;case 102:t.x=135.5,t.y=293.6875+7*a;break;case 103:t.x=179.5,t.y=267.6875+7*a;break;case 111:t.x=94.5,t.y=145.6875+7*a;break;case 112:t.x=136.5,t.y=169.6875+7*a;break;case 113:t.x=179.5,t.y=195.6875+7*a;break;case 777:t.x=250,t.y=250+7*a}return t}var Ea=t(336),Pa=t(100),Da=t(168),Ta=2*Math.PI,Na=Ta/4,Ja=function(e){Object(ra.a)(t,e);var a=Object(ia.a)(t);function t(e){var n;return Object(na.a)(this,t),(n=a.call(this,e)).pregunta=!0,n.handleResponseFromQuiz=function(e){console.log(e),console.log(e.result),n.setState({botonCerrar:!1}),n.setState({pintarQuesito:!0}),Le.emit("actualizarJugada",{casilla:e.casillaInfo.casilla.num,quesito:"Quesito"===e.casillaInfo.casilla.tipo&&1===e.result?e.casillaInfo.casilla.categoria:"",finTurno:0===e.result},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),console.log(e.info)})),1===e.result&&(n.props.activarDado(),u.a.post("https://unitrivia.herokuapp.com/api/tienda/insertarMonedas",{},{headers:{cantidad:1,jwt:b()}}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))),1===e.result&&"Quesito"===e.casillaInfo.casilla.tipo&&n.props.onResponse({quesito:e.casillaInfo.casilla.categoria,user:j()}),n.setState({contestada:!0})},n.handleOpen=function(){n.state.open=!0},n.handleClose=function(){n.setState({open:!1}),n.setState({botonCerrar:!0}),n.setState({contestada:!1})},n.state={rgb:null,innerWheelOpen:!1,centerCircleOpen:!1,numPlayers:0,positionsX:[250,250,250,250,250,250],positionsY:[250,260,270,280,290,300],puedoMover:!1,playerName:["1","2","3","4","5","6"],dado:0,quienSoy:0,posiblesJugadas:null,casillaActualInfo:null,desactivado:!0,open:!1,imagenes:[],mostrarFicha:!1,pintarQuesito:!1,prueba:!1,botonCerrar:!0,contestada:!1},n.outerWheelBounds=null,n.innerWheelBounds=null,n.centerCircleBounds=null,n.outerWheelRadius=null,n.innerWheelRadius=null,n.centerCircleRadius=null,n.firstSpacerRadius=null,n.secondSpacerRadius=null,n.canvasEl=null,n.ctx=null,n.onCanvasHover=n.onCanvasHover.bind(Object(sa.a)(n)),n.onCanvasClick=n.onCanvasClick.bind(Object(sa.a)(n)),n}return Object(oa.a)(t,[{key:"getRelativeMousePos",value:function(e,a){var t=this.props.radius,n=this.canvasEl.getBoundingClientRect(),o=2*t,r=2*t,i={x:e-n.left,y:a-n.top};return{fromCenter:Math.sqrt((i.x-r/2)*(i.x-r/2)+(i.y-o/2)*(i.y-o/2)),onCanvas:i}}},{key:"initCanvas",value:function(){this.state.numPlayers=this.props.numPlayers;var e=this.props.radius,a=2*e,t=2*e;this.ctx.clearRect(0,0,a,t),this.drawOuterWheel(1),this.drawSpacers()}},{key:"componentWillMount",value:function(){var e=this.props,a=e.radius,t=e.lineWidth,n=e.padding;this.outerWheelRadius=a,this.innerWheelRadius=this.outerWheelRadius-t-n,this.centerCircleRadius=this.innerWheelRadius-t-n,this.firstSpacerRadius=this.outerWheelRadius-t,this.secondSpacerRadius=this.innerWheelRadius-t,this.outerWheelBounds=Ra(a-t,a),this.innerWheelBounds=Ra(this.innerWheelRadius-this.centerCircleRadius,this.innerWheelRadius),this.centerCircleBounds=Ra(0,this.centerCircleRadius),this.firstSpacerBounds=Ra(this.firstSpacerRadius-n,this.firstSpacerRadius),this.secondSpacerBounds=Ra(this.secondSpacerRadius-n,this.secondSpacerRadius)}},{key:"componentDidMount",value:function(){var e=this;if(this.props.onRef(this),this.canvasEl=document.getElementById("colour-picker"),this.ctx=this.canvasEl.getContext("2d"),this.props.preset){var a=Sa(this.props.presetColour);this.setState({rgb:a},(function(){e.drawInnerWheel(),e.drawOuterWheel(1),e.drawRadius(),e.drawSpacers(),e.drawCenterCircle()}))}else this.drawOuterWheel(1),this.drawSpacers();Le.on("jugada",(function(a){console.log(a);for(var t=0,n=0;n<e.state.numPlayers;n++)e.state.playerName[n]===a.user&&(t=n);var o=Ia(a.casilla,t),r=e.state.positionsX;r[t]=o.x;var i=e.state.positionsY;i[t]=o.y,e.setState({positionsX:r,positionsY:i}),e.inicializarTablero(),console.log("AQUIIIII "+a.ques),e.props.onResponse({quesito:a.ques,user:a.user})}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCanvasHover",value:function(e){var a=e.clientX,t=e.clientY,n=this.getRelativeMousePos(a,t);this.outerWheelBounds.inside(n.fromCenter)||this.innerWheelBounds.inside(n.fromCenter)&&this.state.innerWheelOpen?this.canvasEl.style.cursor="crosshair":this.centerCircleBounds.inside(n.fromCenter)&&this.state.centerCircleOpen?this.canvasEl.style.cursor="pointer":this.canvasEl.style.cursor="auto"}},{key:"onCanvasClick",value:function(e){var a=e.clientX,t=e.clientY,n=this.getRelativeMousePos(a,t);this.outerWheelBounds.inside(n.fromCenter)?this.outerWheelClicked(n.onCanvas):this.innerWheelBounds.inside(n.fromCenter)&&this.innerWheelClicked(n.onCanvas)}},{key:"outerWheelClicked",value:function(e){var a=this,t=this.props,n=(t.radius,t.colours),o=this.ctx.getImageData(e.x,e.y,1,1).data,r=Object(s.a)(o,4),i=r[0],c=r[1],l=r[2],d=r[3];console.log("opac="+d);var u={r:i,g:c,b:l},h=Aa(u);if(this.pregunta=!1,this.props.onColourSelected(h),console.log(o),1,console.log(Wa(i,c,l)),console.log(n[7]),console.log(Aa(n[7])),console.log(e.x+" "+e.y),console.log(this.state.puedoMover),this.state.desactivado=!1,255===d&&!0===this.state.puedoMover){for(var j=0;j<this.state.posiblesJugadas.length;j++){console.log("nume"+this.state.posiblesJugadas[j].casilla.num);var b=this.state.posiblesJugadas;b[j].casilla.num===Wa(i,c,l)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[j],this.setState({casillaActualInfo:b[j]}))}"Dado"===this.state.casillaActualInfo.casilla.tipo?(this.props.activarDado(),this.state.desactivado=!0,this.state.puedoMover=!0,Le.emit("actualizarJugada",{casilla:this.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!1},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),a.props.activarDado()}))):(this.state.puedoMover=!1,this.handleOpen()),this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}this.setState({rgb:u,innerWheelOpen:!0,centerCircleOpen:!1},(function(){}))}},{key:"innerWheelClicked",value:function(e){var a=this.ctx.getImageData(e.x,e.y,1,1).data,t=Object(s.a)(a,4),n=t[0],o=t[1],r=t[2],i=t[3],c={r:n,g:o,b:r},l=Aa(c);if(console.log(a),console.log(Wa(n,o,r)),console.log(e.x+" "+e.y),this.props.onColourSelected(l),this.state.desactivado=!1,this.setState({rgb:c,centerCircleOpen:!0},(function(){})),255===i&&!0===this.state.puedoMover){console.log("asdf"),this.state.puedoMover=!1,this.handleOpen();for(var d=0;d<this.state.posiblesJugadas.length;d++)console.log("nume"+this.state.posiblesJugadas[d].casilla.num),this.state.posiblesJugadas[d].casilla.num===Wa(n,o,r)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[d]);this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}}},{key:"clear",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({rgb:"#ffffff",innerWheelOpen:!1,centerCircleOpen:!1},(function(){e.initCanvas(),e.drawCenterCircle(),a&&a()}))}},{key:"dibujarTablero",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.drawInnerWheel();Math.floor(24*Math.random()),Math.floor(24*Math.random());this.drawOuterWheel(1,e),this.drawRadius(.1,e),this.drawSpacers(),this.drawCenterCircle(),this.drawPlayers()}},{key:"jugada",value:function(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){t&&t()})),console.log("dado"+e),Le.emit("posiblesJugadas",e,(function(t){if(console.log("Posibles jugadas con dado: "+e.toString()),console.log(t.res),console.log(t.info),a.state.posiblesJugadas=t.info,console.log(a.state.posiblesJugadas),"err"!==t.res){"No es el turno."===t.info?(console.log("no turno"),a.state.puedoMover=!1,alert("No es tu turno")):a.state.puedoMover=!0,console.log(t.info.length),console.log(t.info[0]);for(var n=[],o=0;o<t.info.length;o++)n[o]=t.info[o].casilla.num;console.log(n[0]),a.state.puedoMover&&a.dibujarTablero(n)}else"No es el turno."===t.info&&(console.log("no turno"),a.state.puedoMover=!1,alert("No es tu turno"));a.props.desactivarDado()}))}},{key:"inicializarTablero",value:function(){this.drawInnerWheel(),this.drawOuterWheel(1),this.drawRadius(),this.drawSpacers(),console.log("inicializando"),this.drawCenterCircle()}},{key:"setQuienSoy",value:function(e){this.setState({quiensoy:e})}},{key:"setValores",value:function(e,a,t){var n=[],o=[];console.log(e);for(var r=0;r<a;r++)o.push(e[r].nombre),n.push(e[r].ficha);console.log("quiensoy: "+t),this.setState({quienSoy:t}),this.setState({playerName:o,numPlayers:a}),this.setState({imagenes:n}),console.log(this.state.imagenes)}},{key:"iniciarPartida",value:function(){var e=this;this.props.radius;console.log(this.state.playerName),this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){})),console.log(this.state.positionsX),console.log(this.state.positionsY),Le.emit("comenzarPartida",(function(a){console.log(a),console.log("Al comenzar partida: "+a.res+" "+a.info),"ok"===a.res&&e.inicializarTablero()}))}},{key:"cargarPartida",value:function(e,a){console.log(e);for(var t=0;t<e.length;t++){var n=Ia(e[t],t),o=this.state.positionsX;o[t]=n.x;var r=this.state.positionsY;r[t]=n.y,this.setState({positionsX:o,positionsY:r})}console.log(this.state.positionsX),console.log(this.state.playerName),this.inicializarTablero()}},{key:"drawOuterWheel",value:function(e,a){var t=this,n=this.props,o=n.radius,r=n.colours,i=n.lineWidth,s=2*o,c=2*o,l=za(o,i),d=r.map((function(e){return Sa(e)}));d.forEach((function(n,o){t.ctx.beginPath();var r=Ta/d.length*o,u=Ta/d.length*(o+1);if(t.ctx.arc(c/2,s/2,l,r+3,u+3),t.ctx.lineWidth=i,null!=a){var h=.1;a.forEach((function(e,a){Wa(n.r,n.g,n.b)===e&&(h=1),t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")")})),1!=h&&(t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")")),console.log("opacidad= "+h)}else t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(e,")");t.ctx.stroke(),t.ctx.closePath()}))}},{key:"drawSpacers",value:function(){this.props.spacers&&this.drawSpacer(this.firstSpacerRadius)}},{key:"drawSpacer",value:function(e){var a=this.props,t=a.radius,n=a.padding,o=a.spacers,r=o.colour,i=o.shadowColour,s=o.shadowBlur,c=2*t,l=2*t,d=za(e,n);this.ctx.beginPath(),this.ctx.arc(l/2,c/2,d,0,Ta),this.ctx.lineWidth=n,this.ctx.shadowColor=i,this.ctx.shadowBlur=s,this.ctx.strokeStyle=r,this.ctx.stroke(),this.ctx.closePath(),this.ctx.shadowColor="transparent"}},{key:"drawRadius",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.drawRad(-27,-90,0,["#ff6403","#ecd703","#0091df"],e,a),this.drawRad(27,90,180,["#ecd704","#ff00ec","#0091de"],e,a),this.drawRad(65,-70,60,["#ff00ed","#008810","#0091dd"],e,a),this.drawRad(94,20,120,["#3b3884","#ff00ee","#ff6404"],e,a),this.drawRad(-65,70,240,["#ff6405","#3b3883","#00880f"],e,a),this.drawRad(-94,-20,-60,["#00880e","#3b3882","#ff00ef"],e,a)}},{key:"drawRad",value:function(e,a,t,n){var o=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=this.props.radius;this.ctx.beginPath();var c=[e],l=[a];this.ctx.translate(s+c[0],s+l[0]),this.ctx.rotate(t*Math.PI/180),this.ctx.translate(-(s+c[0]),-(s+l[0]));for(var d=function(){var e=Sa(n[u]);if(0!=i.length){var a=0;i.forEach((function(t,n){Wa(e.r,e.g,e.b)===t&&(o.ctx.fillStyle="rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,",",1,")"),a=1)})),1!=a&&(o.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",",.1,")"))}else o.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",").concat(r,")");o.ctx.fillRect(s+c[0],s+l[0]-50*u,50,50),o.ctx.stroke()},u=0;u<3;u++)d();this.ctx.setTransform(1,0,0,1,0,0),this.ctx.closePath()}},{key:"changePosition",value:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Ia(this.state.casillaActualInfo.casilla.num,t);console.log("player"+t);var o=this.state.positionsX;o[t]=n.x;var r=this.state.positionsY;r[t]=n.y,this.setState({positionsX:o,positionsY:r})}},{key:"drawInnerWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=a;var t=this.state.rgb,n=t.r,o=t.g,r=t.b,i=this.props,s=i.radius,c=i.lineWidth,l=i.shades,d=(i.animated,2*s),u=2*s,h=za(this.innerWheelRadius,c);this.ctx.clearRect(0,0,u,d);var j=Ca(n,o,r,l);function b(){var e=this;j.forEach((function(a,t){e.ctx.beginPath();var n=Ta/j.length*t+Na,o=Ta/j.length*(t+1)+.5*Math.PI;e.ctx.arc(u/2,d/2,h,n,o),e.ctx.lineWidth=c,e.ctx.strokeStyle="rgb(".concat(a.r,", ").concat(a.g,", ").concat(a.b,")"),e.ctx.stroke(),e.ctx.closePath()}))}function p(){var t=this;j.forEach((function(a,n){t.ctx.beginPath();var o=Ta/j.length*n+Na,r=Ta/j.length*(n+1)+.5*Math.PI;t.ctx.arc(u/2,d/2,h,o,r),t.ctx.lineWidth=c*e,t.ctx.strokeStyle="rgb(".concat(a.r,", ").concat(a.g,", ").concat(a.b,")"),t.ctx.stroke(),t.ctx.closePath()})),(e+=.1)<1&&a(p)}p=p.bind(this),b=b.bind(this)}},{key:"drawCenterCircle",value:function(){var e=this.state.rgb,a=this.props.radius,t=2*a,n=2*a;this.ctx.lineWidth=0,this.ctx.beginPath(),this.ctx.arc(n/2,t/2,50,0,2*Math.PI),this.ctx.fillStyle="rgb(".concat(255,", ",255,", ",255,")"),this.ctx.fill(),this.ctx.lineWidth=.1,this.ctx.strokeStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"),this.ctx.stroke(),this.ctx.closePath(),this.drawPlayers()}},{key:"cargarImagen",value:function(){for(var e=this,a=[],t=0;t<this.state.imagenes.length;t++){var n=new Image;n.onload=function(){e.setState({prueba:!e.state.prueba})},n.src="/images/fichas/"+this.state.imagenes[t]+".png",a.push(n)}return a}},{key:"drawPlayers",value:function(){console.log("dibujando players");this.props.radius;this.ctx.beginPath(),console.log("imagen");var e=this.cargarImagen();console.log(this.state.numPlayers),console.log("imagenes"),console.log(this.state.imagenes),console.log(e);for(var a=0;a<this.state.numPlayers;a++)console.log(this.state.positionsX[a]),console.log(this.state.positionsY[a]),this.ctx.drawImage(e[a],this.state.positionsX[a],this.state.positionsY[a],25,25);this.ctx.closePath()}},{key:"getPosiblesJugadas",value:function(){return this.state.casillaActualInfo}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this,a=this.props,t=a.radius;return a.dynamicCursor?Object(z.jsxs)("div",{children:[Object(z.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,onMouseMove:this.onCanvasHover,width:"".concat(2*t,"px"),height:"".concat(2*t,"px")}),Object(z.jsx)("div",{children:Object(z.jsx)(la.a,{variant:"popover",popupId:"demo-popup-popover",children:function(a){return Object(z.jsx)("div",{children:Object(z.jsx)(Ea.a,{open:e.getOpen(),onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:e.getOpen(),children:Object(z.jsx)(te.a,{style:{color:Pa.a[500]},children:Object(z.jsxs)(ne.a,{children:[Object(z.jsx)(R.a,{align:"left",children:"Responda a la pregunta."}),Object(z.jsx)("div",{align:"right",children:Object(z.jsx)(Da.CountdownCircleTimer,{onComplete:function(){console.log("timer"),e.state.contestada||Le.emit("actualizarJugada",{casilla:e.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!0},(function(a){console.log("Jugada actualizada: "+a.res+" "+a.info),e.props.activarDado()})),e.handleClose()},isPlaying:!0,duration:60,initialRemainingTime:60,colors:"#A30000",size:80})}),Object(z.jsx)(ya,{pregunta:e.getPosiblesJugadas(),onResponse:e.handleResponseFromQuiz,children:" "}),Object(z.jsx)(m.a,{onClick:e.handleClose,style:{color:"red"},disabled:e.state.botonCerrar,children:"CERRAR"})]})})})})}})})]}):Object(z.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,width:"".concat(2*t,"px"),height:"".concat(2*t,"px")})}}]),t}(n.Component);Ja.defaultProps={colours:["#ff00ea","#3b3885","#ecd702","#fffffa","#ff00e9","#ff6402","#3b3887","#ffffff","#008813","#0091e2","#ff6400","#fffffe","#ecd700","#008812","#0091e1","#fffffd","#ff6401","#0091e0","#008811","#fffffc","#ecd701","#3b3886","#ff00eb","#fffffb"],shades:16,padding:0,dynamicCursor:!0,preset:!1,animate:!1};var Fa=Ja,qa=t(170),Ma=t.n(qa),Ba=(t(264),t.p+"static/media/dado.80ec73e2.mp3"),Ua=(t(265),t(328)),Ga=t(329),Va=t(330),Ha=t(331),La=t(332),_a=t(6),Xa=t.p+"static/media/ascensor.fabbf54a.mp3",Ya=t(102),Qa=t.n(Ya),Ka="rgb(255, 255, 255)",Za=function(e){Object(ra.a)(t,e);var a=Object(ia.a)(t);function t(e){var n;return Object(na.a)(this,t),(n=a.call(this,e)).state={selectedColour:Ka,dado:0,play:!1,turno:"",admin:"",open:!1,datosJugadores:[{avatar:"",nombre:"",coloresAcertados:[],banner:"",ficha:""}],desconectados:[],coloresAcertados:[],jugadores:[],codigoSala:null,username:"",esprimero:!0,nuevoJugador:!1,puedoTirar:!1,sounds:!1,music:!1,partidaEmpezada:!1,yes:!0},n.cambiarSonido=function(){n.setState({sounds:!n.state.sounds})},n.cambiarMusica=function(){n.setState({music:!n.state.music})},n.audio=new Audio(Ba),n.rellenarQuesitos=function(e){},n.listarJugadores=function(e){console.log("Entrando a listar jugadores...");var a=n.state.desconectados,t=n.state.datosJugadores;return console.log(a),Object(z.jsx)(ge.a,{dense:!0,className:e.root,children:t.map((function(e){var t="";t=a.includes(e.nombre)?"#D64728":"#000000",console.log(t);var n,o="checkbox-list-secondary-label-".concat(e);return n="banner0"===e.banner||"banner4"===e.banner?"black":"white",Object(z.jsx)("div",{style:{backgroundImage:"url(/images/banners/"+e.banner+".jpg)",backgroundSize:"cover",color:n,blockSize:100,alignContent:"stretch",border:"solid",borderColor:"black",textSizeAdjust:"auto"},children:Object(z.jsxs)(me.a,{children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{altP:"Remy Sharp",src:"/images/fichas/"+e.ficha+".png"})}),Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{altP:"Remy Sharp",src:"/images/avatars/"+e.avatar+".jpg"})}),Object(z.jsx)(fe.a,{id:o,disableTypography:!0,primary:Object(z.jsx)(R.a,{type:"body2",style:{color:t},children:e.nombre})}),Object(z.jsx)(ea.a,{children:Object(z.jsx)($e,{color:e.coloresAcertados})})]},e)})}))})},n.botonEmpezar=function(){if(n.state.username===n.state.admin&&!n.state.partidaEmpezada)return Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:n.iniciarPartidaa,children:"Empezar Partida"})},n.togglePlay=function(){n.setState({play:!n.state.play},(function(){n.state.sounds?n.audio.play():n.audio.pause()}))},n.iniciarPartidaa=function(){for(var e=0,a=0;a<n.state.jugadores.length;a++)n.state.jugadores[a]===j()&&(e=a);console.log(n.state.jugadores),console.log(n.colourWheel),n.colourWheel.setValores(n.state.datosJugadores,n.state.datosJugadores.length,e),n.colourWheel.iniciarPartida((function(){n.setState({selectedColour:Ka})})),n.setState({partidaEmpezada:!0})},n.jugada=function(){var e=n.state.dado;console.log("num"+n.state.dado),n.colourWheel.jugada(e,(function(){n.setState({selectedColour:Ka})}))},n.rollDoneCallback=function(e){console.log("You rolled a ".concat(e)),n.setState({dado:e}),console.log("sacaste un "+n.state.dado),n.jugada()},n.rollDoneCallback2=function(e){setTimeout((function(){n.rollDoneCallback(e)}),1e3)},n.turn=function(){return Object(z.jsx)("h1",{children:n.state.turno})},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1});n.heGanado()},n.handleQuesitos=function(e){var a;switch(console.log(e),console.log("quesito de"+e.quesito),e.quesito){case"Historia":a="yellow";break;case"Deportes":a="orange";break;case"Entretenimiento":a="pink";break;case"Ciencias":a="green";break;case"Geografia":a="blue";break;case"Cultura General":a="purple"}for(var t=!1,o=0;o<n.state.coloresAcertados.length;o++)console.log(n.state.coloresAcertados[o]),console.log(e.quesito),n.state.coloresAcertados[o]===a&&(t=!0);if(""!==e.quesito&&!t){var r=n.state.coloresAcertados;r.push(a),n.setState({coloresAcertados:r});for(var i=n.state.datosJugadores,s=0;s<i.length;s++)i[s].nombre===e.user&&i[s].coloresAcertados.push(a);n.setState({datosJugadores:i})}},u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){if(n.setState({username:e.data._id}),console.log(n.state.jugadores),console.log(e.data._id),console.log("no se que poner ",e.data._id,n.state.esprimero,n.state.jugadores.length,n.state.jugadores),0===n.state.jugadores.length&&n.state.esprimero){console.log("Es el primero, lo ponemos como admin");var a=n.state.jugadores.concat(e.data._id);n.setState({jugadores:a,admin:e.data._id,datosJugadores:[{avatar:e.data.avtr,banner:e.data.bnr,ficha:e.data.fich,nombre:e.data._id,coloresAcertados:[]}]})}else 1===n.state.jugadores.length&&n.state.esprimero?n.setState({admin:e.data._id}):console.log("Se intenta meter un usuario que ya estaba")})).catch((function(e){console.log(e.response)})),n}return Object(oa.a)(t,[{key:"activarDado",value:function(){this.setState({puedoTirar:!0})}},{key:"desactivarDado",value:function(){this.setState({puedoTirar:!1})}},{key:"componentDidMount",value:function(){var e=this;Le.on("nuevoJugador",(function(a){console.log("Cargando nuevo jugador...");var t=a.jugador;if(!e.state.jugadores.includes(t)){var n,o,r;null==a.imgs||""===a.imgs.ficha?(n="ficha0",o="banner0",r="avatar0"):(n=a.imgs.ficha,o=a.imgs.banner,r=a.imgs.avatar);var i=e.state.datosJugadores.concat({ficha:n,nombre:a.jugador,banner:o,avatar:r,coloresAcertados:[]});console.log(i),e.setState({datosJugadores:i});var s=e.state.jugadores.concat(t);e.setState({jugadores:s})}})),Le.on("cargarJugadores",(function(a){console.log(a),console.log(a.jugadores.usuario);for(var t=[],n=[],o=0;o<a.jugadores.length;o++){var r=void 0,i=void 0,s=void 0;null==a.jugadores[o].imgs||""===a.jugadores[o].imgs?(r="ficha0",i="banner0",s="avatar0"):(r=a.jugadores[o].imgs.ficha,i=a.jugadores[o].imgs.banner,s=a.jugadores[o].imgs.avatar),t.push(a.jugadores[o]),n.push({nombre:a.jugadores[o].usuario,ficha:r,banner:i,avatar:s,coloresAcertados:[]})}console.log(t),console.log(n),t.length>1?e.setState({admin:"",esprimero:!1,datosJugadores:n}):e.setState({admin:e.state.username,esprimero:!0,datosJugadores:n})})),Le.on("reconexionJugador",(function(a){var t=e.state.desconectados,n=e.state.datosJugadores,o=a.jugador,r=t.indexOf(o);r>-1?(t.splice(r,1),e.setState({desconectados:t})):n.some((function(e){return e.nombre===o}))?console.log("AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS"):console.log("ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA")})),Le.on("estadoPartida",(function(a){console.log(a);for(var t=[],n=0;n<a.jugadores.length;n++){for(var o=[],r=0;r<a.jugadores[n].quesitos.length;r++)switch(a.jugadores[n].quesitos[r]){case"Historia":o.push("yellow");break;case"Deportes":o.push("orange");break;case"Entretenimiento":o.push("pink");break;case"Ciencias":o.push("green");break;case"Geografia":o.push("blue");break;case"Cultura General":o.push("purple")}t.push({ficha:a.jugadores[n].imgs.ficha,nombre:a.jugadores[n].usuario,banner:a.jugadores[n].imgs.banner,avatar:a.jugadores[n].imgs.avatar,coloresAcertados:o})}console.log(t),e.setState({admin:t[0].nombre,esprimero:!1,datosJugadores:t}),console.log("Volviendo a la partida");for(var i=[],s=0;s<a.jugadores.length;s++)i.push(a.jugadores[s].casilla);for(var c=0,l=0;l<e.state.datosJugadores.length;l++)e.state.datosJugadores[l].nombre===j()&&(c=l);e.setState({partidaEmpezada:!0}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,c),console.log(i),e.colourWheel.cargarPartida(i,c),e.colourWheel.drawPlayers()})),Le.on("abandonoSala",(function(a){console.log("Entramos en abandono de sala "+e.state.jugadores);for(var t,n=e.state.datosJugadores,o=0,r=n.length,i=0;i<r;i++)n[i].nombre===a&&(o=i),n[i].nombre===a&&(t=i);o>-1?(console.log("Hemos sacado el index del jugador que abandona"),n.splice(o,1),e.setState({datosJugadores:n}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,t)):(console.log("ha dado error el indexOf"),e.setState({jugadores:n}))})),Le.on("jugadorSale",(function(a){console.log("Jugador saliendo...");var t=e.state.desconectados;t.includes(a)?console.log("POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO"):(t.push(a),console.log(t),e.setState({desconectados:t}))})),Le.on("cambioLider",(function(a){var t=a.antiguo,n=a.nuevo;console.log("Antiguo lider: "+t+" nuevo: "+n);var o=e.state.datosJugadores;console.log(o);var r=0,i=o.length;console.log(o[0]);for(var s=0;s<i;s++)o[s].nombre==t&&(r=s);r>-1?(console.log("Hemos sacado el index del jugador que abandona(en cambio Lider)"),o.splice(r,1),e.setState({jugadores:o,admin:n})):console.log("ha dado error el indexOf")})),this.audio.addEventListener("ended",(function(){return e.setState({play:!1})})),Le.on("turno",(function(a){console.log("Turno de: "+a),console.log(j()),e.setState({turno:a}),a!==j()&&j()||e.activarDado()})),Le.on("finDelJuego",(function(a){console.log("Fin del juego, gana: "+a),e.handleOpen()})),Le.emit("obtenerIdSala",(function(a){e.setState({codigoSala:a})})),Le.on("comienzoPartida",(function(){console.log("Comienza la partida");for(var a=0,t=0;t<e.state.datosJugadores.length;t++)e.state.datosJugadores[t].nombre===j()&&(a=t);e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,a),console.log("dibujand"),e.colourWheel.inicializarTablero()}))}},{key:"componentWillUnmount",value:function(){var e=this;this.audio.removeEventListener("ended",(function(){return e.setState({play:!1})}))}},{key:"heGanado",value:function(){var e=this,a=this.state.datosJugadores,t=a.findIndex((function(a){return a.nombre===e.state.username}));return 6===a[t].coloresAcertados.length}},{key:"finPartida",value:function(){var e=this.state.datosJugadores;e.sort((function(e,a){var t=e.coloresAcertados.length,n=a.coloresAcertados.length;return n<t?-1:n>t?1:0}));for(var a="RESULTADOS: \n",t=1,n=0,o=0;o<e.length;o++)o>0&&e[o].coloresAcertados.length<e[o-1].coloresAcertados.length?(t+=n,n=1):n++,a+=t.toString()+". "+e[o].nombre+"\n";return a}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this,a=this.props.classes;this.state.selectedColour,new Audio("../music/dado.mp3");return Object(z.jsxs)(w.a,{container:!0,children:[Object(z.jsx)(w.a,{item:!0,xs:2,direction:"row",children:Object(z.jsx)(te.a,{children:Object(z.jsx)(ne.a,{children:Object(z.jsxs)("div",{style:{height:"fit-content"},children:[Object(z.jsx)("h2",{children:"Sala"}),Object(z.jsx)("div",{children:this.listarJugadores(a)}),Object(z.jsx)("div",{children:Object(z.jsxs)("h6",{style:{font:"arial"},children:["C\xd3DIGO: ",this.state.codigoSala]})}),Object(z.jsx)("div",{children:this.botonEmpezar()})]})})})}),Object(z.jsx)(w.a,{item:!0,xs:8,children:Object(z.jsx)(te.a,{style:{color:Pa.a[500]},children:Object(z.jsxs)(ne.a,{children:[Object(z.jsxs)("div",{children:[Object(z.jsxs)(T.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/Play",children:[Object(z.jsx)(Pe.a,{color:"primary"}),"Volver"]}),Object(z.jsx)(F.a,{trigger:Object(z.jsx)(T.a,{color:"secondary",variant:"contained",children:Object(z.jsx)(Ua.a,{color:"primary"})}),position:"right top",children:Object(z.jsxs)("div",{children:[Object(z.jsx)("h5",{children:"INFORMACI\xd3N"}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"AMARILLO: historia"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"VERDE: Ciencias"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"ROSA: Entretenimiento"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"MORADO: Cultura General"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"NARANJA: Deportes"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"AZUL: Geografia"})}),Object(z.jsx)("li",{children:Object(z.jsx)("font",{size:2,children:"BLANCO: tira otra vez"})})]})}),Object(z.jsx)(T.a,{onClick:this.cambiarSonido,children:this.state.sounds?Object(z.jsx)(Ga.a,{color:"primary"}):Object(z.jsx)(Va.a,{color:"primary"})}),Object(z.jsx)(T.a,{onClick:this.cambiarMusica,color:"secondary",children:this.state.music?Object(z.jsx)(Ha.a,{color:"primary"}):Object(z.jsx)(La.a,{color:"primary"})}),Object(z.jsx)(Qa.a,{url:Xa,playStatus:this.state.music?Qa.a.status.PLAYING:Qa.a.status.PAUSED,playFromPosition:300,loop:!0,volume:20})]}),Object(z.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",backgroundColor:"#353833",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(z.jsx)("div",{style:{textAlign:"center",color:"#FFFFFF"},children:Object(z.jsx)("h1",{children:Object(z.jsx)("span",{children:"UniTrivia"})})}),Object(z.jsx)("div",{style:{textAlign:"right",color:"#FFFFFF"},children:this.state.turno===this.state.username?Object(z.jsx)("h2",{children:"Tu turno!"}):Object(z.jsxs)("h2",{children:["Turno de :",this.state.turno]})}),Object(z.jsx)(Fa,{numPlayers:this.state.jugadores.length,playerName:this.state.jugadores,radius:250,padding:10,lineWidth:50,onColourSelected:function(a){return e.setState({selectedColour:a})},onRef:function(a){return e.colourWheel=a},spacers:{colour:"#FFFFFF",shadowColour:"grey",shadowBlur:5},preset:!0,presetColour:this.state.selectedColour,animated:!0,desactivarDado:this.desactivarDado.bind(this),activarDado:this.activarDado.bind(this),onResponse:this.handleQuesitos}),Object(z.jsxs)(Be.a,{isOpen:this.getOpen(),onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:!0,children:[Object(z.jsx)("h2",{children:"Fin de la partida"}),Object(z.jsx)("div",{children:this.finPartida()}),Object(z.jsx)("div",{children:Object(z.jsx)(m.a,{variant:"primary",href:"/menu",onClick:this.handleClose,children:"Aceptar"})})]}),Object(z.jsxs)(m.a,{style:{cursor:"pointer",fontSize:20,fontWeight:"500",color:"#FFFFFF",marginTop:20},onClick:this.togglePlay,disabled:!this.state.puedoTirar,children:[Object(z.jsx)(m.a,{onClick:function(){e.reactDice.rollAll()},children:"tirar dado"}),Object(z.jsx)(Ma.a,{numDice:1,rollDone:this.rollDoneCallback2,ref:function(a){return e.reactDice=a},outline:!0,faceColor:"white",dotColor:"black",rollTime:2,sound:this.state.sounds?"../music/dado.mp3":"",disableIndividual:!this.state.puedoTirar})]})]})]})})})]})}}]),t}(n.Component),$a=Object(_a.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(Za),et=function(e){e.children;return Object(n.useEffect)((function(){window.onpopstate=function(){alert("Acaba de abandonar la partida"),window.location.reload(!0)}})),null};var at,tt,nt=function(e){return console.log("Estoy en game"),console.log(Le),Object(z.jsxs)(w.a,{container:!0,spacing:2,children:[Object(z.jsx)($a,{}),Object(z.jsx)(Ze,{}),Object(z.jsx)(et,{})]})},ot=(J.a.button(at||(at=Object(D.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),J.a.div(tt||(tt=Object(D.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),rt=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var it,st,ct=function(){rt();var e=function(e){return Object(z.jsxs)("h7",{children:["Jugador ",e]})};return Object(z.jsxs)(ot,{children:[Object(z.jsx)("h3",{children:"Crear Sala"}),"Codigo de la Sala",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("h6",{children:"XWDWED"}),Object(z.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(z.jsx)("div",{style:{marginTop:100},children:Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Game",children:"Empezar Partida"})}),Object(z.jsx)("div",{style:{marginTop:100},children:Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},lt=(J.a.button(it||(it=Object(D.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),J.a.div(st||(st=Object(D.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),dt=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var ut,ht,jt=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){console.log(o),r(e.target.value)}}},bt=function(){dt();var e=jt("");return Object(z.jsxs)(lt,{children:[Object(z.jsx)("h3",{children:"Unirse a Sala"}),"Introduce el c\xf3digo de la sala",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("div",{children:Object(z.jsx)("div",{children:Object(z.jsx)(f.a,Object(h.a)(Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"codigo",label:"Codigo",name:"codigo",autoComplete:"codigo",autoFocus:!0},e),{},{label:"C\xf3digo de la sala"}))})}),Object(z.jsx)("div",{style:{marginTop:10},children:Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Sala",children:"Unirme"})}),Object(z.jsx)("div",{style:{marginTop:100},children:Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},pt=(J.a.button(ut||(ut=Object(D.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),J.a.div(ht||(ht=Object(D.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),gt=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var mt=function(){gt();var e=function(e){return Object(z.jsxs)("h7",{children:["Jugador ",e]})};return Object(z.jsxs)(pt,{children:[Object(z.jsxs)("h3",{children:["Sala ",Object(z.jsx)("h6",{children:"XWDWED"})," "]}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(z.jsx)("div",{style:{marginTop:100},children:Object(z.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Salirse"})})]})},xt=Object(A.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));var ft=function(e){var a=[],t=[],o=Object(n.useState)(null),r=Object(s.a)(o,2),i=r[0],c=r[1],l=Object(n.useState)(null),d=Object(s.a)(l,2),h=d[0],j=d[1],p=void 0,m=xt(),x=e.location.state.actual_coins;console.log(x);var f=e.location.state.comprados;console.log(f);var O=e.location.state.tipo;console.log(O);var v=null;if("Avatar"===O){v="Bienvenido a la Tienda de Avatares";for(var y=0;y<f.length;y++){var k=f[y];"a"==k[0]&&a.push(k)}}else if("Banner"===O){v="Bienvenido a la Tienda de Banners";for(var C=0;C<f.length;C++){var S=f[C];"b"===S[0]&&a.push(S)}}else if("Ficha"===O){v="Bienvenido a la Tienda de Formas de Ficha";for(var R=0;R<f.length;R++){var A=f[R];"f"===A[0]&&a.push(A)}}return console.log(a),Object(n.useEffect)((function(){u.a.get("https://unitrivia.herokuapp.com/api/tienda/catalogo",{headers:{tipo:O}}).then((function(e){p=e.data,console.log(p),console.log(e.data),console.log(e);for(var n=0,o=0;o<p.length;o++){for(var r=!1,i=0;i<a.length;i++)console.log(p[o].nombre),p[o].nombre===a[i]&&(r=!0);r||(t[n]=p[o],n++)}0===t.length&&alert("Ya tienes todos los objetos"),console.log(t.length),j(t),c(t.length)})).catch((function(e,a){console.log(e.response),console.log(a)}))}),[]),Object(z.jsxs)(te.a,{children:[Object(z.jsxs)(T.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/profile",children:[Object(z.jsx)(Pe.a,{color:"primary"}),"Volver"]}),Object(z.jsxs)(w.a,{container:!0,spacing:2,children:[Object(z.jsx)(w.a,{xs:6,children:Object(z.jsx)(de.a,{subheader:"Objetos que hay actualmente en la tienda",title:v})}),Object(z.jsx)(w.a,{xs:6,children:Object(z.jsx)(de.a,{subheader:x,title:"Coins"})})]}),Object(z.jsx)(ge.a,{children:Object(z.jsx)("div",{className:m.demo,children:Object(z.jsx)(ye.a,{height:300,width:1500,itemSize:80,itemCount:i,children:function(e){var a=e.index,t=e.style;console.log(h);var n=h[a].precio+" coins",o=function(){(console.log("clickado "+h[a].nombre),h[a].precio>x)?alert("No dispone de suficientes coins para comprar este objeto"):!0===window.confirm("Presione en OK para comprar "+h[a].nombre+" por "+h[a].precio+" coins")&&u.a.post("https://unitrivia.herokuapp.com/api/tienda/comprar",{},{headers:{nombre:h[a].nombre,jwt:b()}}).then((function(e){alert("Adquirido"),setTimeout((function(){console.log("esperamos server reaccione")}),1e3),window.history.go(-1)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},r=void 0;return"Avatar"===O?(r="/images/avatars/"+h[a].nombre+".jpg",Object(z.jsxs)(me.a,{button:!0,style:t,onClick:o,children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{src:r})}),Object(z.jsx)(fe.a,{primary:h[a].nombre,secondary:n})]},a)):"Banner"===O?(r="/images/banners/"+h[a].nombre+".jpg",Object(z.jsx)("div",{children:Object(z.jsxs)(me.a,{button:!0,style:t,onClick:o,children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)("img",{src:r,width:"600",height:"75"})}),Object(z.jsx)(fe.a,{primary:h[a].nombre,secondary:n})]},a)})):"Ficha"===O?(r="/images/fichas/"+h[a].nombre+".png",Object(z.jsxs)(me.a,{button:!0,style:t,onClick:o,children:[Object(z.jsx)(xe.a,{children:Object(z.jsx)(g.a,{src:r})}),Object(z.jsx)(fe.a,{primary:h[a].nombre,secondary:n})]},a)):null}})})})]})};var Ot=function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),o=t[0],r=t[1];return Object(n.useEffect)((function(){b()&&r(!1)}),[]),o&&b()?Object(z.jsx)("div",{className:"content",children:"Checking Authentication..."}):Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(c.a,{children:Object(z.jsx)("div",{children:Object(z.jsx)("div",{className:"content",children:Object(z.jsxs)(l.d,{children:[Object(z.jsx)(l.b,{exact:!0,path:"/",component:M}),Object(z.jsx)(l.b,{path:"/login",component:P}),Object(z.jsx)(l.b,{exact:!0,path:"/ChangePassword",component:_}),Object(z.jsx)(l.b,{path:"/register",component:K}),Object(z.jsx)(U,{path:"/Menu",component:ie}),Object(z.jsx)(U,{path:"/Play",component:Qe}),Object(z.jsx)(U,{path:"/Game",component:nt}),Object(z.jsx)(U,{path:"/CrearSala",component:ct}),Object(z.jsx)(U,{path:"/UnirseSala",component:bt}),Object(z.jsx)(U,{path:"/Sala",component:mt}),Object(z.jsx)(qe,{path:"/Profile",component:Te}),Object(z.jsx)(qe,{path:"/Tienda",component:ft})]})})})})})};i.a.render(Object(z.jsx)(Ot,{}),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.15099d9a.chunk.js.map