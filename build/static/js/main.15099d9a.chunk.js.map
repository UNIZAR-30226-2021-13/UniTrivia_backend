{"version":3,"sources":["Utils/Common.js","Login.js","home/AppBar.js","Home.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","ChangePassword.js","Register.js","Menu.js","account/AccountProfile.js","account/AccountProfileDetails.js","settings/SettingsPassword.js","account/Stats.js","account/Items.js","profile.js","Utils/NoGuestRoute.js","Play.js","game/chat.js","game/Cheese.js","game/room.js","game/src/Quiz/GameOver.js","game/src/Quiz/Quiz.js","game/src/utils/utils.js","game/src/utils/hexStrings.js","game/src/components/colourWheel/ColourWheel.js","music/dado.mp3","music/ascensor.mp3","game/Board.js","Game.js","CrearSala.js","UnirseSala.js","Sala.js","tienda/Tienda.js","App.js","index.js"],"names":["getUser","userStr","sessionStorage","getItem","JSON","parse","getToken","removeUserSession","removeItem","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","width","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","marginTop","submit","fondo","position","left","top","transform","boxShadow","error","textAlign","useFormInput","initialValue","useState","value","setValue","onChange","e","target","Login","props","setLoading","username","password","loginError","setLoginError","setError","noUser","setUser","noPass","setPass","classes","Grid","container","component","className","CssBaseline","item","xs","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","helperText","FormControlLabel","control","Checkbox","Button","onClick","axios","get","headers","then","response","token","user","console","log","data","setItem","stringify","history","push","catch","status","alert","message","Box","mt","flexGrow","menuButton","marginRight","title","AppAppBar","StyledMenu","styled","nav","open","Home","useEffect","Fragment","role","aria-label","style","trigger","fontSize","size","contentStyle","src","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","ChangePassword","answer","newPassword","preg","setPreg","noNewP","setNewP","noRes","setRes","Container","maxWidth","disabled","defaultValue","post","res","newpassword","Register","email","reppassword","question","noEmail","setEmail","noQuestion","setQuestion","noAns","setAns","dist","setDist","Rep","setNoRep","err","setErr","RegExp","justify","button","div","a","Menu","Card","CardContent","small","large","AccountProfile","profiles","banner","ficha","sx","md","sm","gutterBottom","mail","AccountProfileDetails","profile","CardHeader","subheader","Divider","pregu","resu","SettingsPassword","oldpassword","confirm","values","setValues","handleChange","event","handleModifyPassword","window","reload","onSubmit","justifyContent","p","Stats","jugadas","coins","ganadas","avatares","banners","fichas","background","renderRowAvatars","index","currentAv","ListItem","String","jwt","idavatar","ListItemAvatar","ListItemText","primary","renderRowBanners","currentB","idbanner","renderRowFichas","currentF","idformficha","Items","comprados","openAvatar","setOpenAvatar","openBanner","setOpenBanner","openFicha","setOpenFicha","i","length","word","List","demo","ExpandLess","ExpandMore","Collapse","in","timeout","itemSize","itemCount","CardActions","onResponse","Profile","setCoins","wins","setWins","setFicha","setBanner","setComprados","setAvatar","njugadas","setNjugadas","setUsername","cns","ng","fich","bnr","rfs","avtr","nj","_id","code","Helmet","IconButton","ArrowBack","minHeight","py","lg","actual_coins","tipo","bind","pt","delete","NoGuestRoute","ENDPOINT","conn","undefined","Play","modalAbierto","modalAbiertoState","esReconexion","setReconexion","abrirModal","io","extraHeaders","operacion","on","connected","disconnected","nsp","priv","Modal","isOpen","ModalHeader","ModalBody","ModalFooter","salaAct","sala","Chat","usuario","jugador","addResponseMessage","nombre","msgFull","msg","handleNewUserMessage","newMessage","emit","subtitle","Cheese","cheeses","forEach","Room","Title","h1","Points","GameOver","estado","pts","QuizWindow","Options","Option","Question","Quiz","pregunta","incorrect_answers","resps_inc","correct_answer","resp_c","quiz","setQuiz","number","setNumber","setPts","pickAnswer","userAnswer","innerText","result","casillaInfo","arr","pregunta_global","options","sort","Math","random","dangerouslySetInnerHTML","__html","map","produceRgbShades","r","g","b","amount","shades","hsl","tinycolor","toHsl","l","toRgb","colourToRgbObj","colour","calculateBounds","min","max","inside","cursorPosFromCenter","convertObjToString","obj","toRgbString","getEffectiveRadius","trueRadius","lineWidth","getCasillaNumber","casilla","getCoordByCasilla","coord","x","y","fullCircle","PI","quarterCircle","ColourWheel","handleResponseFromQuiz","setState","botonCerrar","pintarQuesito","num","quesito","categoria","finTurno","activarDado","cantidad","contestada","handleOpen","handleClose","rgb","innerWheelOpen","centerCircleOpen","numPlayers","positionsX","positionsY","puedoMover","playerName","dado","quienSoy","posiblesJugadas","casillaActualInfo","desactivado","imagenes","mostrarFicha","prueba","outerWheelBounds","innerWheelBounds","centerCircleBounds","outerWheelRadius","innerWheelRadius","centerCircleRadius","firstSpacerRadius","secondSpacerRadius","canvasEl","ctx","onCanvasHover","onCanvasClick","clientX","clientY","radius","this","canvasPos","getBoundingClientRect","h","w","onCanvas","fromCenter","sqrt","clearRect","drawOuterWheel","drawSpacers","padding","firstSpacerBounds","secondSpacerBounds","onRef","document","getElementById","getContext","preset","presetColour","drawInnerWheel","drawRadius","drawCenterCircle","indice","coords","vecx","vecy","inicializarTablero","ques","evt","getRelativeMousePos","cursor","outerWheelClicked","innerWheelClicked","evtPos","colours","rgbaArr","getImageData","opac","rgbArg","onColourSelected","j","arrayPosiblesJugadas","changePosition","callback","initCanvas","casillasMarcadas","floor","drawPlayers","toString","casillas","dibujarTablero","desactivarDado","quiensoy","players","numplayers","imgs","playernames","info","opa","effectiveRadius","rgbArr","beginPath","startAngle","endAngle","arc","op","val","strokeStyle","stroke","closePath","spacers","drawSpacer","spacerRadius","shadowColour","shadowBlur","shadowColor","drawRad","ys","angle","colors","translate","rotate","marcada","fillStyle","fillRect","setTransform","player","animationPercentage","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","animated","rgbShades","drawShades","animateShades","fill","images","imageObj1","Image","onload","cargarImagen","drawImage","dynamicCursor","onMouseMove","popupId","popupState","getOpen","onClose","aria-labelledby","aria-describedby","disableBackdropClick","green","onComplete","isPlaying","duration","initialRemainingTime","getPosiblesJugadas","defaultProps","animate","yourDefaultColour","Board","selectedColour","play","turno","admin","datosJugadores","coloresAcertados","desconectados","jugadores","codigoSala","esprimero","nuevoJugador","puedoTirar","sounds","music","partidaEmpezada","yes","cambiarSonido","cambiarMusica","audio","Audio","dados","rellenarQuesitos","listarJugadores","dense","includes","labelId","blockSize","alignContent","border","borderColor","textSizeAdjust","altP","disableTypography","ListItemSecondaryAction","botonEmpezar","iniciarPartidaa","togglePlay","pause","colourWheel","setValores","iniciarPartida","jugada","rollDoneCallback","rollDoneCallback2","setTimeout","turn","heGanado","handleQuesitos","exito","arrayDatosJugadores","list","concat","listDatos","users","gamers","arrayJugadores","indexUser","indexOf","splice","some","elemento","userList","quesitos","cargarPartida","antiguo","nuevo","addEventListener","removeEventListener","aux","findIndex","A","B","pos","incr","direction","font","HelpOutline","VolumeUp","VolumeOff","MusicNote","MusicOff","url","musica","playStatus","Sound","PLAYING","PAUSED","playFromPosition","loop","volume","ref","finPartida","fontWeight","reactDice","rollAll","numDice","rollDone","dice","outline","faceColor","dotColor","rollTime","sound","disableIndividual","withStyles","BackButtonListener","children","onpopstate","Game","Div","CrearSala","imprimirJugadoresSala","UnirseSala","codigo","Sala","Tienda","comprados_tipo","catalogo_tipo_no_reps","numObj","setnum","cat","setCat","catalogo_tipo","header","lo_tengo","precio","clickBuy","go","current","App","authLoading","setAuthLoading","exact","path","ReactDOM"],"mappings":"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NC,GAAmB,KAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EAC/BsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,KAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EAC/BsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,E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","file":"static/js/main.15099d9a.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem('user');\n  if (userStr) return JSON.parse(userStr);\n  else return null;\n}\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem('token') || null;\n}\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem('token');\n  sessionStorage.removeItem('user');\n}\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem('token', token);\n  sessionStorage.setItem('user', JSON.stringify(user));\n}\n\n// set the token and user from the session storage\nexport const setToken = (token) => {\n  sessionStorage.setItem('token', token);\n}\n\n\n\nexport const setPlayers = (players) => {\n\n  sessionStorage.setItem('players', JSON.stringify(players));\n\n}\n\nexport const getPlayers = () => {\n  console.log(sessionStorage.getItem('players'))\n  return sessionStorage.getItem('players') || null;\n}\n\nexport const setSoyAdmin = (soy) => {\n\n  sessionStorage.setItem('soyAdmin', soy);\n\n}\n\nexport const getSoyAdmin = () => {\n  console.log(sessionStorage.getItem('soyAdmin'))\n  return sessionStorage.getItem('soyAdmin') || null;\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {setToken, setUserSession} from './Utils/Common';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        width: '100%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    },\n    error: {\n        width: '100%', \n        position: 'absolute', textAlign:'center',\n        color: 'white',\n\t\tbackgroundColor: 'red',\n    }\n}));\n\nfunction Login(props) {\n  const [loading, setLoading] = useState(false);\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [loginError,setLoginError]=useState(false);\n  const [error, setError] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n\n\n    const classes = useStyles();\n\n\n    // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n      if(username.value===''){\n          setUser(true);\n      }else{\n          setUser(false);\n      }\n      if(password.value === ''){\n          setPass(true);\n      }else{\n          setPass(false);\n      }\n\n\n    if(username.value!=='' && password.value !== ''){\n        axios.get('https://unitrivia.herokuapp.com/api/login', { headers:{\n                username: username.value,\n                password: password.value\n            }}).then(response => {\n            setLoading(false);\n            console.log(response)\n            setUserSession(response.data, username.value);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            //alert(error.message)\n            if (error.response.status === 401){setLoginError(true); setError(\"El Ususario o la contraseña se han introducido incorrectamente\");} //setError(error.response.data.message);\n            else{setLoginError(true); setError(\"El Ususario o la contraseña se han introducido incorrectamente\");}\n        });\n    }\n\n  }\n\n    const handleLogAsGuest = () => {\n        setError(null);\n        setLoading(true);\n\n        axios.get('https://unitrivia.herokuapp.com/api/logAsGuest'\n            ).then(response => {\n            setLoading(false);\n\n            setToken(response.data);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            alert(error.message);\n            if (error.response.status === 401) { setError(error.response.data.message); console.log(error)}\n            else {setLoginError(true); setError(\"Something went wrong. Please try again later.\");console.log(error)}\n        });\n\n\n    }\n    const showError= () =>{\n        //console.log(loginError);\n        //console.log(error);\n        if(!loginError) return null;\n        return(\n            <div className={classes.error}>\n                {error}\n            </div>\n        );\n        \n    }\n  return (\n      <Grid container component=\"main\" className={classes.root}>\n          <CssBaseline />\n            {showError()}\n          <Grid item xs={false} className={classes.image} />\n          <div className={classes.fondo} >\n              <div className={classes.paper}>\n                  <Avatar className={classes.avatar}>\n                      <LockOutlinedIcon />\n                  </Avatar>\n                  <Typography component=\"h1\" variant=\"h5\">\n                      Acceder\n                  </Typography>\n                  <form className={classes.form} noValidate>\n                      <TextField\n                          error={noUser === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"username\"\n                          label=\"Usuario\"\n                          name=\"username\"\n                          autoComplete=\"username\"\n                          autoFocus\n                          {...username}\n                          helperText={noUser ? 'introduce el usario' : ''}\n                      />\n                      <TextField\n                          error={noPass === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          name=\"password\"\n                          label=\"Contraseña\"\n                          type=\"password\"\n                          id=\"password\"\n                          helperText={noPass ? 'introduce la contraseña' : ''}\n                          {...password}\n                      />\n                      <FormControlLabel\n                          control={<Checkbox value=\"remember\" color=\"primary\" />}\n                          label=\"Remember me\"\n                      />\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogin}\n                      >\n                          Acceder\n                      </Button>\n                      <Grid container>\n                          <Grid item xs>\n                              <Link href=\"/changepassword\" variant=\"body2\">\n                                  Olvidaste la contraseña?\n                              </Link>\n                          </Grid>\n                          <Grid item>\n                              <Link href=\"/register\" variant=\"body2\">\n                                  {\"No tienes cuenta? Regístrate\"}\n                              </Link>\n                          </Grid>\n                      </Grid>\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogAsGuest}\n                      >\n                          Acceder como invitado\n                      </Button>\n                      <Box mt={5}>\n                          <Copyright />\n                      </Box>\n                  </form>\n              </div>\n              </div>\n          </Grid>\n      \n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Login;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nfunction AppAppBar(props) {\n    const classes = useStyles();\n    return(\n    <AppBar position=\"static\">\n        <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n                UniTrivia\n            </Typography>\n            <Button color=\"inherit\" href={'/login'}>Login</Button>\n            <Button color=\"inherit\" href={'/Register'}>Sign up</Button>\n        </Toolbar>\n    </AppBar>\n    );\n}\n\n\n\nexport default AppAppBar;","import React, {useEffect} from 'react';\nimport AppBar from './home/AppBar'\nimport {getToken, getUser, removeUserSession} from \"./Utils/Common\";\nimport axios from \"axios\";\nimport Grid from \"@material-ui/core/Grid\";\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {HelpOutline} from \"@material-ui/icons\";\nimport Popup from \"reactjs-popup\";\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\nfunction Home(props) {\n\n    useEffect(() => {\n\n        if(getUser()!=null){\n            props.history.push('/menu');\n        }\n    }, []);\n  return (\n      <React.Fragment >\n          <Grid container>\n          <Grid item xs={4}>\n          <StyledMenu open={true}>\n              <h1>UNITRIVIA</h1>\n              <h2></h2>\n              <Button href=\"/Play\">\n                  <span role=\"img\" aria-label=\"about us\">🔓</span>\n                  LOGIN\n              </Button>\n              <Button href=\"/Register\" >\n                  <span role=\"img\" aria-label=\"price\">✏️</span>\n                  SIGN UP\n              </Button>\n              <br></br>\n              <br></br>\n              <br></br>\n              <Grid container style={{align: 'center'}}>\n                  <Grid item xs={6}>\n\n                      <Popup trigger={\n                            <Button style={{fontSize: '1rem'}}>\n                                  <span role=\"img\" aria-label=\"price\">🎨️</span>\n                                  Autores\n                            </Button>} position=\"right bottom\" >\n                          <div>\n\n                              <li><font size={2}>ALEJANDRO ARTAL</font></li>\n                              <li><font size={2}>DANIEL BENEDÍ</font></li>\n                              <li><font size={2}>DIEGO BIELSA</font></li>\n                              <li><font size={2}>ÓSCAR GÓMEZ</font></li>\n                              <li><font size={2}>IBÓN CAÑETE</font></li>\n                              <li><font size={2}>VÍCTOR HERNANDEZ</font></li>\n                          </div>\n                      </Popup>\n\n                  </Grid>\n\n                  <Grid item xs={6}>\n\n                      <Popup contentStyle={{width: '1000px', height: '600px'}} trigger={\n                          <Button style={{fontSize: '1rem'}}>\n                              <span role=\"img\" aria-label=\"price\">⚔</span>\n                              Reglas\n                          </Button>} position=\"right bottom\" >\n                          <div style={{width: '1000px', height: '600px'}}>\n\n                              <li><font size={2}>El juego permite de 2-6 jugadores.</font></li>\n                                  <li><font size={2}>Se jugará de forma individual.</font></li>\n                              <li><font size={2}>Las preguntas contarán con un límite de tiempo de 60 segundos.</font></li>\n                              <li><font size={2}>El juego se desarrollará sobre un tablero reducido.</font></li>\n                              <li><font size={2}>El orden de comienzo de los jugadores será aleatorio.</font></li>\n                              <li><font size={2}>Cuando llegue el turno del jugador, realizará una tirada de dados, en función del valor le permitirá moverse hacia cualquier dirección legal.</font></li>\n                              <li><font size={2}>Un movimiento legal está definido por:</font></li>\n                              <li><font size={2}>Se puede mover en sentido horario o antihorario y en caso de estar en un radio avanzar hacia el anillo o el centro pero no se puede ni ocupar ni atravesar esta casilla.</font></li>\n                              <li><font size={2}>Se puede ir de un radio al anillo exterior.</font></li>\n                              <li><font size={2}>No se puede invertir el sentido en medio de un movimiento.</font></li>\n                              <li><font size={2}>No se puede volver a los radios una vez has salido al anillo exterior.</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla de dado el jugador deberá tirar de nuevo y realizar un movimiento en cualquier dirección legal</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla normal se le plantea una pregunta correspondiente a la categoría del color, en caso de responder correctamente podrá tirar de nuevo.</font></li>\n                              <li><font size={2}>Si el jugador cae en una casilla de quesito se le plantea una pregunta correspondiente a la categoría del color, en caso de responder correctamente podrá tirar de nuevo y ganará un quesito del color correspondiente en caso de no tenerlo.</font></li>\n                              <li><font size={2}>Si el jugador responde erróneamente a la pregunta dará por finalizado su turno.</font></li>\n                              <li><font size={2}>Cuando un jugador consigue los 6 quesitos se proclama vencedor y acaba el juego.</font></li>\n\n                          </div>\n                      </Popup>\n\n                  </Grid>\n              </Grid>\n\n          </StyledMenu>\n          </Grid >\n            <Grid item xs={6} style={{ height: '80vh', width: '120vh',   display: 'flex'\n                }}>\n\n\n                <img src={'/images/tablero/tablero.png'} ></img>\n\n            </Grid>\n\n          </Grid>\n      </React.Fragment>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n    />\n  )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => !getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/dashboard' }} />}\n    />\n  )\n}\n\nexport default PublicRoute;","import React, {useState} from 'react'\nimport axios from \"axios\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Link from \"@material-ui/core/Link\";\nimport Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\nimport {getToken} from \"./Utils/Common\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction ChangePassword(props) {\n    const username = useFormInput('');\n    const answer = useFormInput('');\n    const newPassword = useFormInput('');\n    let [preg, setPreg] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noNewP, setNewP] = useState(false);\n    const [noRes, setRes] = useState(false);\n\n\n    const classes = useStyles();\n\n\n\n    // handle button click of recover question\n    const handleRecoverQuestion = () => {\n        try{\n            if(username.value == ''){\n                setUser(true);\n            }else {\n                setUser(false);\n                axios.get('https://unitrivia.herokuapp.com/api/login/recover/question', {\n                    headers: {\n                        username: username.value,\n                    }\n                }).then(response => {\n\n                    console.log(response)\n                    setPreg(response.data)\n\n\n                }).catch(error => {\n                    alert('Error al recuperar pregunta, usuario no existe');\n\n\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n    // handle button click of login form\n    const handleModify = () => {\n        try {\n            if(username.value == '' || answer.value == '' || newPassword.value == ''){\n                if(username.value == ''){\n                    setUser(true);\n                }else{\n                    setUser(false);\n                }\n\n                if(answer.value == ''){\n                    setRes(true);\n                }else{\n                    setRes(false);\n                }\n\n                if(newPassword.value == ''){\n                    setNewP(true);\n                }else{\n                    setNewP(false);\n                }\n            }else {\n                setUser(false);\n                setRes(false);\n                setNewP(false);\n\n                axios.post('https://unitrivia.herokuapp.com/api/login/recover/password', {}, {\n                    headers: {\n                        username: username.value,\n                        res: answer.value,\n                        newpassword: newPassword.value\n                    }\n                }).then(response => {\n\n                    //setUserSession(response.data.token, response.data.user);\n                    props.history.push('/login');\n                }).catch(error => {\n\n                    alert('Error al validar respuesta, revise la respuesta introducida');\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Typography component=\"h1\" variant=\"h2\">\n                    UniTrivia\n                </Typography>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    He olvidado mi contraseña\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} spacing={2}>\n                            <TextField\n                                error = {noUser}\n                                autoComplete=\"fname\"\n                                name=\"username\"\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"username\"\n                                label=\"Usuario\"\n                                autoFocus\n                                {...username}\n                                helperText = {noUser ? 'Introduzca el usuario' : ''}\n                            />\n\n                        </Grid>\n                        <Grid item xs={12}  spacing={2}>\n                        <Button\n\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleRecoverQuestion}\n                        >\n                            Recuperar pregunta\n                        </Button>\n                    </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                disabled\n                                fullWidth\n                                value={preg}\n                                id=\"question\"\n                                name=\"question\"\n                                defaultValue=\"---\"\n                                label=\"Pregunta de seguridad\"\n\n\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noRes}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"answer\"\n                                label=\"Respuesta a la pregunta\"\n                                name=\"answer\"\n\n                                {...answer}\n                                helperText = {noRes ? 'Introduzca la respuesta' : ''}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noNewP}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Nueva contraseña\"\n                                type=\"password\"\n                                id=\"password\"\n\n                                {...newPassword}\n                                helperText = {noNewP ? 'Introduzca la nueva contraseña' : ''}\n\n                            />\n                        </Grid>\n\n                        <Grid item xs={12}>\n\n                        </Grid>\n                    </Grid>\n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleModify}\n                    >\n                        Confirmar\n                    </Button>\n\n                </form>\n            </div>\n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default ChangePassword;\n","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\n\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        height: '110%',\n        width: '200%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    }\n}));\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\nexport default function Register(props) {\n\n\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const username = useFormInput('');\n    const email = useFormInput('');\n    const password = useFormInput('');\n    const reppassword = useFormInput('');\n    const question = useFormInput('');\n    const answer = useFormInput('');\n    \n\n\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n    const [noEmail, setEmail] = useState(false);\n    const [noQuestion, setQuestion] = useState(false);\n    const [noAns, setAns] = useState(false);\n    const [dist, setDist] = useState(false);\n    const [Rep, setNoRep] = useState(false);\n    const [err, setErr] = useState(null);\n    const emailRegex = new RegExp('/\\S+@\\S+\\.\\S+/');\n\n\n\n    const handleRegister = () => {\n        const user = {username}\n        setError(null);\n        setLoading(true);\n\n        username.value === '' ? setUser(true) : setUser(false);\n        password.value === '' ? setPass(true) : setPass(false);\n        email.value === '' ? setEmail(true) : setEmail(false);\n        question.value === '' ? setQuestion(true) : setQuestion(false);\n        answer.value === '' ? setAns(true) : setAns(false);\n        if(reppassword.value === ''){\n            setNoRep(true)\n            setErr('introduce la contraseña')\n        }else{\n            setNoRep(false)\n        }\n        if(password.value!==reppassword.value){\n            setDist(true)\n            setErr('las contraseñas no coinciden')\n        }else{\n            setDist(false)\n        }\n\n\n\n        if(username.value!=='' && password.value!=='' && email.value!=='' && question.value!==''&& answer.value!=='' && password.value===reppassword.value) {\n\n//https://unitrivia.herokuapp.com/api/register\n            axios.post('https://unitrivia.herokuapp.com/api/register', {}, {\n                headers: {\n                    'username': username.value,\n                    'password': password.value,\n                    'email': email.value,\n                    'preg': question.value,\n                    'res': answer.value\n                }\n            }).then((response) => {\n                console.log(response.data)\n                console.log(response)\n                setLoading(false);\n                //setUserSession(response.data.token, response.data.user);\n                props.history.push('/login');\n            }).catch((error) => {\n                setLoading(false);\n                console.log(error.response)\n                if (error.response.status === 400) {\n                    setError(error.response.data.message);\n                    alert('usuario existente')\n                }else {\n                    setError(\"Something went wrong. Please try again later.\");\n                }\n            });\n        }\n    }\n\n\n    const classes = useStyles();\n    // eslint-disable-next-line no-undef\n\n\n\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n            <Grid item xs={false} className={classes.image} />\n                <div className={classes.fondo}> \n                    <div className={classes.paper}>\n                        <Typography component=\"h1\" variant=\"h2\">\n                            UniTrivia\n                        </Typography>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            Regístrate\n                        </Typography>\n\n                        <form className={classes.form} noValidate>\n                            <Grid container spacing={2}>\n                                <Grid item xs={12} >\n                                    <TextField\n                                        error={noUser === true}\n                                        autoComplete=\"fname\"\n                                        name=\"username\"\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"username\"\n                                        label=\"Usuario\"\n                                        autoFocus\n                                        {...username}\n\n                                        helperText={noUser ? 'introduce el usario' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noEmail === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"email\"\n                                        label=\"Email Address\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        autoComplete=\"email\"\n                                        {...email}\n                                        helperText={noEmail ? 'introduce el email' : ''}\n\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noPass === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Contraseña\"\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                        {...password}\n                                        helperText={noPass ? 'introduce la contraseña' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={dist === true || Rep === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"reppassword\"\n                                        label=\"Repetir contraseña\"\n                                        type=\"password\"\n                                        id=\"reppassword\"\n                                        autoComplete=\"current-password\"\n                                        {...reppassword}\n                                        helperText={dist === true || Rep === true ? err: ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noQuestion === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"question\"\n                                        label=\"Pregunta de seguridad\"\n                                        name=\"question\"\n                                        {...question}\n                                        helperText={noQuestion ? 'introduce la pregunta de seguridad' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noAns === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"answer\"\n                                        label=\"Respuesta a la pregunta\"\n                                        name=\"answer\"\n                                        {...answer}\n                                        helperText={noAns ? 'introduce la respuesta a la pregunta de seguridad' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n\n                                </Grid>\n                            </Grid>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleRegister}\n\n                            >\n                                Registrarse\n                            </Button>\n                            <Grid container justify=\"flex-end\">\n                                <Grid item>\n                                    <Link href=\"/login\" variant=\"body2\">\n                                        Ya tienes una cuenta? Accede\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </div>\n                </div>\n            \n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Grid>\n    );\n}\n\n","import React from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getUser, removeUserSession} from \"./Utils/Common\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\nconst A = styled.a`\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Menu() {\n    const classes = useStyles();\n\n\n    return (\n\n        <Card>\n            <CardContent>\n\n            <StyledMenu open={true}>\n                <h1>UNITRIVIA</h1>\n                <h2>MENÚ</h2>\n                <Button href=\"/Play\">\n                    <span role=\"img\" aria-label=\"about us\">🎮️</span>\n                    JUGAR\n                </Button>\n                <Button href=\"/profile\" disabled={getUser() == null}>\n                    <span role=\"img\" aria-label=\"price\">💇‍♀️</span>\n                    PERFIL\n                </Button>\n                <Button href=\"/Login\" onClick={removeUserSession}>\n                    <span role=\"img\" aria-label=\"contact\">❌</span>\n                    CERRAR SESIÓN\n                </Button>\n            </StyledMenu>\n\n                </CardContent>\n\n            {/*<But>hole</But>\n                <Popup trigger={<button> Trigger</button>} position=\"top center\">\n                    <div>Popup content here !!</div>\n                </Popup>\n\n                */}\n\n\n        </Card>\n    );\n}\n\n\nexport default Menu;","import React, {useEffect} from 'react'\n\nimport {\n    Avatar,\n    Box,\n    Card,\n    CardContent,\n    Grid,\n    makeStyles,\n    Typography\n} from '@material-ui/core';\nimport Banner from 'react-js-banner';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    large: {\n        width: theme.spacing(13),\n        height: theme.spacing(13),\n    },\n}));\n\n\nfunction AccountProfile(props) {\n    const classes = useStyles();\n    const profiles=props;\n    let avatar = '/images/avatars/' + props.avatar + '.jpg';\n    let banner = '/images/banners/' + props.banner + '.jpg';\n    let ficha = '/images/fichas/' + props.ficha + '.png';\n\n    console.log(avatar);\n    console.log(banner);\n    console.log(ficha);\n\n    return (\n\n        <Card {...props}>\n            <CardContent>\n                <Box\n                    sx={{\n                        alignItems: 'center',\n                        display: 'flex',\n                        flexDirection: 'column'\n                    }}\n                >\n                <Grid\n                    container\n                    spacing={3}\n                >\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={6}\n                    >\n\n                        <Avatar\n                            title='Avatar'\n                            src={avatar}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        sm={3}\n                        xs={6}\n\n                    >\n                        <Avatar\n                            title='Forma Ficha'\n                            src={ficha}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={12}\n                    >\n\n                        <img\n\n                            title='Banner'\n                            src={banner}\n                            sx={{\n                                alignItems: 'center',\n                                display: 'flex',\n                                flexDirection: 'row'\n                            }}\n                            width=\"800\"\n                            height=\"300\"\n\n                        />\n                    </Grid>\n                </Grid>\n                    <Typography\n                        color=\"textPrimary\"\n                        gutterBottom\n                        variant=\"h3\"\n                    >\n                        {profiles.user}\n                    </Typography>\n                    <Typography\n                        color=\"textSecondary\"\n                        variant=\"body1\"\n                    >\n                        {`${profiles.mail} `}\n                    </Typography>\n\n                </Box>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default AccountProfile;\n","import React from 'react';\n\nimport {Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\n\n\nfunction AccountProfileDetails(props) {\n  const profile=props;\n\n\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Información del usuario\"\n              title=\"Perfil\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.user}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Usuario\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.mail}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Email\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.pregu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Pregunta de seguridad\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.resu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Respuesta\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n        </Card>\n      </form>\n\n  );\n}\n\nexport default AccountProfileDetails;\n","import { useState } from 'react';\nimport React from 'react'\nimport { getToken } from '../Utils/Common';\n\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  TextField\n} from '@material-ui/core';\nimport axios from \"axios\";\n\nconst SettingsPassword = (props) => {\n  const [values, setValues] = useState({\n    oldpassword: '',\n    password: '',\n    confirm: ''\n  });\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleModifyPassword= () => {\n    axios.post('https://unitrivia.herokuapp.com/api/profile/modify/password',{} ,{ headers:{\n        'jwt': getToken(),\n        newpassword: values.password,\n        oldpassword: values.oldpassword\n      }}).then(response => {\n      console.log(response)\n      alert('Contraseña cambiada exitosamente');\n      window.location.reload(true);\n    }).catch(error => {\n      alert(error.message)\n    });\n\n\n  }\n\n  return (\n    <form {...props} onSubmit={handleModifyPassword}>\n      <Card>\n        <CardHeader\n          subheader=\"Update password\"\n          title=\"Password\"\n        />\n        <Divider />\n        <CardContent>\n          <TextField\n              fullWidth\n              label=\"Old password\"\n              margin=\"normal\"\n              name=\"oldpassword\"\n              onChange={handleChange}\n              type=\"password\"\n              value={values.oldpassword}\n              variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"New Password\"\n            margin=\"normal\"\n            name=\"password\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.password}\n            variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"Confirm new password\"\n            margin=\"normal\"\n            name=\"confirm\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.confirm}\n            variant=\"outlined\"\n          />\n        </CardContent>\n        <Divider />\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            p: 2\n          }}\n        >\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={handleModifyPassword}\n          >\n            Update\n          </Button>\n        </Box>\n      </Card>\n    </form>\n  );\n};\n\nexport default SettingsPassword;\n","import React from 'react';\n\nimport {Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\n\n\nfunction Stats(props) {\n  const profile=props\n\n\n\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Estadísticas del usuario\"\n              title=\"Estadísticas\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas jugadas\"\n                    name=\"firstName\"\n                    defaultValue={'0'}\n                    value={profile.jugadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Coins\"\n                    name=\"question\"\n                    value={profile.coins}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas ganadas\"\n                    name=\"email\"\n                    defaultValue={'0'}\n                    value={profile.ganadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas Perdidas\"\n                    name=\"question\"\n                    value={profile.jugadas-profile.ganadas}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n\n\n        </Card>\n\n\n      </form>\n\n  );\n}\n\nexport default Stats;\n","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddBox from '@material-ui/icons/AddBox';\nimport {Card, CardHeader, Collapse, Typography, Button, Grid, CardActions} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {FixedSizeList} from 'react-window';\nimport {ExpandLess, ExpandMore} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport {getToken} from \"../Utils/Common\";\n\nlet avatares = [];\nlet banners = [];\nlet fichas = [];\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\nfunction renderRowAvatars(props){\n  const { index, style } = props;\n  let currentAv = '/images/avatars/' + avatares[index] + '.jpg';\n    //console.log(avatares);\n\n  const clickAddAvatar = () => {\n        console.log(\"avatar clickado\");\n        console.log(String(avatares[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Avatar\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/avatar', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idavatar: String(avatares[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar avatar');\n            });\n        }\n  }\n\n  return(\n\n      <ListItem button style={style} key={index} onClick={clickAddAvatar}>\n        <ListItemAvatar>\n          <Avatar\n            src={currentAv}\n          >\n\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText\n            primary={avatares[index]}\n        />\n      </ListItem>\n\n  )\n};\n\nrenderRowAvatars.propTypes = {\n  index: PropTypes.number.isRequired,\n  style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowBanners(props){\n    const { index, style } = props;\n    let currentB = '/images/banners/' + banners[index] + '.jpg';\n    //console.log(avatares);\n\n    const clickAddBanner = () => {\n        console.log(\"banner clickado\");\n        console.log(String(banners[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Banner\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/banner', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idbanner: String(banners[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar banner');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddBanner}>\n            <ListItemAvatar>\n                <img\n                    src={currentB}\n                    width=\"300\"\n                    height=\"50\"\n                >\n\n                </img>\n            </ListItemAvatar>\n            <ListItemText\n                primary={banners[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowBanners.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowFichas(props){\n    const { index, style } = props;\n    let currentF = '/images/fichas/' + fichas[index] + '.png';\n    //console.log(avatares);\n\n    const clickAddFichas = () => {\n        console.log(\"ficha clickado\");\n        console.log(String(fichas[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Forma de Ficha\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/formFicha', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idformficha: String(fichas[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar forma de ficha');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddFichas}>\n            <ListItemAvatar>\n                <Avatar\n                    src={currentF}\n                >\n\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={fichas[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowFichas.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\nfunction Items(props) {\n    const profile = props.comprados;\n    const coins = props.coins;\n    const classes = useStyles();\n    const [openAvatar, setOpenAvatar] = useState(false);\n    const [openBanner, setOpenBanner] = useState(false);\n    const [openFicha, setOpenFicha] = useState(false);\n\n    if(profile != null) {\n        console.log(profile);\n        console.log(coins);\n        avatares = [];\n        banners = [];\n        fichas = [];\n        for (let i = 0; i < profile.length; i++) {\n            let word = profile[i];\n            if (word[0] == 'a') {\n                avatares.push(word);\n            } else if (word[0] == 'b') {\n                banners.push(word);\n            } else if (word[0] == 'f') {\n                fichas.push(word);\n            }\n        }\n    }\n\n\n\n\n    const handleClickAv = () => {\n        setOpenAvatar(!openAvatar);\n    };\n    const handleClickBa = () => {\n        setOpenBanner(!openBanner);\n    };\n    const handleClickFi = () => {\n        setOpenFicha(!openFicha);\n    };\n\n    const irATiendaAvatares = () =>{\n        props.onResponse(\"Avatar\")\n    }\n\n    const irATiendaBanners = () =>{\n        props.onResponse(\"Banner\")\n    }\n\n    const irATiendaFichas = () =>{\n        props.onResponse(\"Ficha\")\n    }\n\n  return (\n      <Card>\n        <CardHeader\n            subheader=\"Objetos adquiridos por el usuario\"\n            title=\"Objetos\"\n        />\n        <List>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickAv}>\n                  <ListItemText primary=\"Avatares\" />\n                  {openAvatar ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openAvatar} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={avatares.length}>\n                      {renderRowAvatars}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickBa}>\n                  <ListItemText primary=\"Banners\" />\n                  {openBanner ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openBanner} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={banners.length}>\n                      {renderRowBanners}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickFi}>\n                  <ListItemText primary=\"Formas de ficha\" />\n                  {openFicha ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openFicha} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={fichas.length}>\n                      {renderRowFichas}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n        </List>\n        <CardActions>\n         <Button\n            color=\"primary\"\n            fullWidth\n            variant=\"text\"\n            onClick={irATiendaAvatares}\n         >\n             Obtener Avatares\n         </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaBanners}\n          >\n              Obtener Banners\n          </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaFichas}\n          >\n              Obtener Fichas\n          </Button>\n        </CardActions>\n      </Card>\n\n  );\n}\n\nexport default Items;\n","import React, {useEffect, useState} from 'react'\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Helmet } from 'react-helmet';\nimport {\n    Box,\n    Container,\n    Grid,\n} from '@material-ui/core';\nimport AccountProfile from './account/AccountProfile';\nimport AccountProfileDetails from './account/AccountProfileDetails';\nimport SettingsPassword from './settings/SettingsPassword';\nimport Stats from './account/Stats'\nimport Items from './account/Items'\nimport axios from \"axios\";\nimport {getToken,removeUserSession} from \"./Utils/Common\";\nimport {ArrowBack} from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Profile(props) {\n\n    const classes = useStyles();\n    let [preg, setPreg] = useState(null);\n    let [res, setRes] = useState();\n    let [coins, setCoins] = useState(null);\n    let [wins, setWins] = useState(null);\n    let [ficha, setFicha] = useState(null);\n    let [banner, setBanner] = useState(null);\n    let [comprados, setComprados] = useState(null);\n    let [avatar, setAvatar] = useState(null);\n    let [njugadas, setNjugadas] = useState(null);\n    let [email, setEmail] = useState(null);\n    let [username, setUsername] = useState(null);\n\n\n    useEffect(() => {\n        console.log(getToken())\n\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setPreg(response.data.preg);\n            setRes(response.data.res);\n            setCoins(response.data.cns);\n            setWins(response.data.ng);\n            setFicha(response.data.fich);\n            setBanner(response.data.bnr);\n            setComprados(response.data.rfs);\n            setAvatar(response.data.avtr);\n            setNjugadas(response.data.nj);\n\n            setEmail(response.data.mail);\n            //username=response.data._id;\n            setUsername(response.data._id);\n\n            console.log(response.data)\n            console.log(response)\n            //setUserSession(response.data.token, response.data.user);\n        }).catch((code,message) => {\n            console.log(code.response)\n            /*if (error.response.status === 200) {\n                setError(error.response.data.message);\n                alert('usuario existente')\n            }else {\n                setError(\"Something went wrong. Please try again later.\");\n            }*/\n        });\n    }, []);\n\n    const handleDeleteUser = () => {\n        try {\n            var aceptar = window.confirm(\"Presione en OK para borrar cuenta para siempre\");\n            if(aceptar === true) {\n\n\n                axios.delete('https://unitrivia.herokuapp.com/api/profile', {\n                    headers: {\n                        'jwt': getToken()\n                    }\n                }).then(response => {\n                    console.log(response)\n                    removeUserSession();\n                    props.history.push('/login');\n                }).catch(error => {\n                    alert(error.message)\n                    console.log(error)\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n\n    }\n\n    const irATiendaAvatares = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Avatar'\n            }\n        })\n    }\n\n    const irATiendaBanners = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Banner'\n            }\n        })\n    }\n\n    const irATiendaFichas = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Ficha'\n            }\n        })\n    }\n\n    function handleResponseFromItem(response){\n\n        console.log(response);\n        if(response === \"Avatar\"){\n            irATiendaAvatares();\n        }else if(response === \"Banner\"){\n            irATiendaBanners();\n        }else if(response === \"Ficha\"){\n            irATiendaFichas();\n        }\n    }\n\n\n    return (\n        <>\n            <Helmet>\n                <title>Account | Material Kit</title>\n            </Helmet>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/menu'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Box\n                sx={{\n                    backgroundColor: 'background.default',\n                    minHeight: '100%',\n                    py: 3\n                }}\n            >\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        spacing={3}\n                    >\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfile user={username} mail={email} avatar={avatar} banner={banner} ficha={ficha}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfileDetails user={username} mail={email} pregu={preg} resu={res} />\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Stats jugadas={njugadas} ganadas={wins} coins={coins}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Items comprados={comprados} coins={coins} onResponse={handleResponseFromItem.bind()}/>\n                        </Grid>\n\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Box sx={{ pt: 3 }}>\n                                <SettingsPassword />\n                            </Box>\n                        </Grid>\n                        <Button\n                            color=\"primary\"\n                            variant=\"contained\"\n                            onClick={handleDeleteUser}\n                        >\n                            Borrar usuario\n                        </Button>\n                    </Grid>\n\n                </Container>\n\n            </Box>\n        </>\n    );\n}\n\n\nexport default Profile;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction NoGuestRoute({ component: Component, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => getToken() && getUser() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n        />\n    )\n}\n\nexport default NoGuestRoute;","import React, {useEffect, useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken} from \"./Utils/Common\";\nimport {io} from \"socket.io-client\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalHeader, ModalBody, ModalFooter} from \"reactstrap\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst ENDPOINT = \"https://unitrivia.herokuapp.com/api/partida\";\n//const ENDPOINT = \"http://localhost:3000/api/partida\";\n\nexport let conn = undefined;\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Play(props) {\n    const classes = useStyles();\n    const [connPassed, Pass] = useState(null);\n    const [modalAbierto ,modalAbiertoState] = useState(false);\n    let [esReconexion, setReconexion] = useState(false);\n    const code = useFormInput('');\n\n    useEffect( () => {\n\n\n    }, []);\n\n    const crearSala = ()=>{\n        console.log(\"comienza crearSala\");\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt: getToken(),\n                operacion: \"crearSala\",\n                priv:\"true\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n\n    }\n\n\n    const abrirModal = () =>{\n        modalAbiertoState(!modalAbierto);\n    }\n\n    const unirseSala = ()=>{\n        let salaAct = code.value;\n        console.log(salaAct);\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"unirseSala\",\n                sala: salaAct\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const partidaAleatoria = () =>{\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"buscarPartida\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const reconexion = () =>{\n        console.log(conn);\n        conn = undefined;\n        console.log(conn);\n        let conectado = undefined;\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"reconexion\"\n            }\n        });\n\n        console.log(conn);\n        conn.on(\"connect\",()=>{\n            conectado=conn.connected;\n            if(conectado==true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"no conectado\");\n                alert(\"Fallo al reconectar a partida\");\n            }\n        })\n    }\n\n    axios.get(ENDPOINT + \"/reconexion\",{headers: {\n            jwt: getToken()\n        }}).then((response) => {\n        setReconexion(response.data !== \"\");\n\n    }).catch((code, message) => {\n        console.log(code.response)\n    });\n\n    return (\n            <Card>\n                <CardContent>\n\n                    <StyledMenu open={true}>\n                        <h1>UNITRIVIA</h1>\n                        <h2>JUGAR</h2>\n                        <Button onClick={partidaAleatoria}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"about us\">🔎</span>\n                            PARTIDA ALEATORIA\n                        </Button>\n                        <Button  onClick={crearSala}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"price\">🛠</span>\n                            CREAR SALA\n                        </Button>\n                        <Button onClick={abrirModal}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\">🤝</span>\n                            UNIRSE A SALA\n                        </Button>\n                        <Modal isOpen={modalAbierto == true}>\n                            <ModalHeader>\n                                Escriba el código de sala\n                            </ModalHeader>\n                            <ModalBody>\n\n                                <form className={classes.form} noValidate>\n                                    <TextField\n\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        id=\"code\"\n                                        label=\"Código\"\n                                        name=\"code\"\n                                        autoComplete=\"Codigo\"\n                                        autoFocus\n                                        {...code}\n\n                                    />\n                                </form>\n\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={unirseSala}\n\n                                >\n                                    Confirmar Código\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={abrirModal}\n\n                                >\n                                    Cerrar\n                                </Button>\n\n                            </ModalFooter>\n                        </Modal>\n                        <Button onClick={reconexion}\n                           disabled={!esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\">🔄</span>\n                            RECONECTAR\n                        </Button>\n                        <a href={'/Menu'}>\n                            <span role=\"img\" aria-label=\"contact\">⬅</span>\n                            ATRÁS\n                        </a>\n                    </StyledMenu>\n\n                </CardContent>\n            </Card>\n\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default Play;","import React from 'react';\nimport { Widget, addResponseMessage  } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport {conn} from \"../Play\";\n\n\n\n\nfunction Chat(props){\n\n    console.log(\"estoy en chat\");\n    console.log(conn);\n\n    /*let connTest1 = io(ENDPOINT,{\n        extraHeaders:{\n            jwt: getToken(),\n            operacion: \"crearSala\",\n            priv: \"true\"\n        }\n    });*/\n\n    conn.on('nuevoJugador',(user)=> {\n        const usuario = user.jugador;\n        addResponseMessage(\"El jugador \" + usuario + \" ha entrado a la sala.\");\n    })\n\n    conn.on('reconexionJugador',(user)=> {\n        const nombre = user.jugador;\n        addResponseMessage(\"El jugador \" + nombre + \" se ha reconectado.\");\n    })\n\n    conn.on('abandonoSala',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la sala.\");\n    })\n\n    conn.on('jugadorSale',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la partida\");\n    })\n\n    conn.on('chat', ({usuario, msg})=>{\n        let msgFull = 'Mensaje de ' + usuario + ': ' + msg;\n        addResponseMessage(msgFull);\n    })\n\n\n    const handleNewUserMessage = (newMessage) => {\n        console.log(`New message incomig! ${newMessage}`);\n        // Now send the message throught the backend API\n        conn.emit(\"mensaje\", `${newMessage}`);\n        //end backend\n        //addResponseMessage(\"que tal\");\n    }\n\n\n\n    return (\n        <div className=\"Chat\">\n            <Widget\n                handleNewUserMessage={handleNewUserMessage}\n                title=\"CHAT\"\n                subtitle=\"Chat de la sala actual\"\n            />\n\n        </div>\n    );\n\n}\n\nexport default Chat;","import React from 'react';\nimport './Cheese.css';\n\n\nfunction Cheese (props){\n        let cheeses = []\n    console.log(props.color);\n        props.color.forEach((color)=>{\n            cheeses.push(<div className={\"piece \" + color}></div>)})\n        //cheeses.push(<div className={\"piece \" + \"blue\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"yellow\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"brown\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"orange\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"pink\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"green\"}></div>)\n        return (\n            <div className = \"cheese\">\n                {cheeses}\n            </div>\n        );\n\n}\nexport default Cheese;","import React, {useEffect, useState} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Card, CardContent, TextField} from '@material-ui/core';\n//import {io,socketIOClient} from \"socket.io-client\";\nimport Cheese from './Cheese';\n//import Cheese from './Cheese';\nimport {getToken} from \"../Utils/Common\";\n\nimport {conn} from \"../Play\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Room(props) {\n    const classes = useStyles();\n    let [coloresAcertados,setColoresAcertados]=useState([\"yellow\",\"pink\"])\n    let [jugadores,setJugadores] = useState([]);\n    let [codigoSala,setCodigoSala] = useState(null);\n    let [username,setUsername]=useState(\"\");\n    let [admin,setAdmin] = useState('');\n    let esprimero=true;\n\n    useEffect(() => {\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setUsername(response.data._id);\n            console.log(jugadores);\n            console.log(response.data._id);\n            if (jugadores.length === 0 &&  esprimero) {\n                console.log(\"Es el primero, lo ponemos como admin\");\n                const list = jugadores.concat(response.data._id);\n                setAdmin(response.data._id);\n                setJugadores(list);\n            } else {\n                console.log(\"Se intenta meter un usuario que ya estaba\");\n            }\n        }).catch((code,message) => {\n            console.log(code.response)\n        });\n    }, []);\n    conn.on('nuevoJugador',(user)=> {\n        console.log(user);\n        console.log(admin);\n        if (!jugadores.includes(user)) {\n            console.log(\"Es nuevo de verdad\");\n            const list = jugadores.concat(user);\n            setJugadores(list);\n        } else {\n            console.log(\"Se intenta meter un usuario que ya estaba\");\n        }\n    })\n    conn.on('cargarJugadores',(users)=>{\n        console.log(users);\n        console.log(users.jugadores);\n        setAdmin(users.jugadores[0]);\n        esprimero=false;\n        //console.log(users.jugadores.prototype);\n        //setJugadores([...users.jugadores]);\n        setJugadores(users.jugadores);\n    })\n    conn.on('abandonoSala',(user)=>{\n        console.log(\"Entramos en abandono de sala \"+jugadores);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(user);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n            setJugadores(arrayJugadores);\n        }\n    })\n    conn.on('cambioLider',({antiguo,nuevo})=>{\n        console.log(\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(antiguo);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n            setAdmin(nuevo);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n\n        }\n    })\n    const quesitos=()=>{\n        console.log(\"EStoy en quesitos\");\n        conn.on('estadoPartida',(info)=>{\n            console.log(info);\n        })\n    }\n\n    const listarJugadores = () => {\n        const listJugadores = jugadores.map((jugador)=>\n            <li key=\"{jugador}\">{jugador}</li>\n        )\n        return(\n            <List dense className={classes.root}>\n                {jugadores.map((value) => {\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    return (\n                        <div>\n                            <ListItem key={value} button>\n                                <ListItemText id={labelId} primary={`Line item ${value + 1}`} />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n    const devolverCodigoSala = () => {\n        conn.emit(\"obtenerIdSala\",(id)=>{\n            //console.log(\"En obtener id \");\n            console.assert(id!=='','Error al obtener idSala');\n            setCodigoSala(id);\n            //console.log(id);\n        })\n        //console.log(\"El identificador es :\");\n        return (\n            <h6>El codigo de la sala es {codigoSala}</h6>\n        )\n    }\n    const empezarPartida=()=>{\n        conn.on('comienzoPartida',()=>{\n            console.log(\"Comienza la partida\");\n        })\n    }\n    const botonEmpezar = () => {\n        console.log(\"Estoy en boton: username: \"+username+\"  y admin  \"+admin);\n        if(username===admin){\n            return(\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={empezarPartida}\n                >\n                    Empezar Partida\n                </Button>\n            )\n        }\n    }\n    return (\n        <div>\n            <div>\n                Hola\n            </div>\n            <div>\n                {listarJugadores()}\n            </div>\n            <div>\n                {devolverCodigoSala()}\n            </div>\n            <div>\n                {botonEmpezar()}\n            </div>\n        </div>\n\n    );\n}\n\n\nexport default Room;","import styled from 'styled-components'\nimport React from 'react'\n\n\nconst Title = styled.h1`\n  margin-top: 4em;\n  font-size: 48px;\n`;\n\nconst Points = styled.p`\n  font-size: 24px;\n  margin-bottom: 3em;\n`;\n\nfunction GameOver(props){\n    let pts = props.pts;\n    let estado;\n    if(pts === 1){\n        estado = \"CORRECTA\";\n    }else{\n        estado = \"INCORRECTA\";\n    }\n\n\n\n    return (\n        <>\n            <Title>Resultado</Title>\n            <Points>Respuesta {estado}</Points>\n\n\n        </>\n\n    )\n}\n\nexport default GameOver","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport GameOver from './GameOver';\n\n\nconst QuizWindow = styled.div`\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n`;\n\nconst Options = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst Option = styled.button`\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n`;\n\nconst Question = styled.div`\n  width: 70%;\n  margin: 0 auto;\n`;\n\nfunction Quiz(props) {\n\n    //console.log(props.pregunta)\n    let question = props.pregunta.pregunta.pregunta; //se sacaría de props  pregunta.pregunta\n    //let question = \"preguntita brother\"; //se sacaría de props\n\n    let incorrect_answers = props.pregunta.pregunta.resps_inc; //se sacaría de props\n    let correct_answer = props.pregunta.pregunta.resp_c; //se sacaría de props\n\n    console.log(correct_answer)\n\n    const [quiz, setQuiz] = useState([]);\n    const [number, setNumber] = useState(0);\n    const [pts, setPts] = useState(0);\n\n    const shuffle = (arr) => arr.sort(() => Math.random() - 0.5);\n\n    const pickAnswer = (e) => {\n        console.log(e)\n        var userAnswer = e.target.innerText;\n        console.log(e.target.innerText)\n        console.log(quiz[number])\n        console.log(userAnswer)\n        if (quiz[number].answer === userAnswer){\n            setPts(pts + 1);\n            props.onResponse({result: 1, casillaInfo: props.pregunta});\n        }else{\n            console.log('fallaste'+ quiz[number].answer +' '+userAnswer)\n            props.onResponse({result: 0, casillaInfo: props.pregunta});\n        }\n        setNumber(number + 1);\n\n    }\n\n    useEffect(() => {\n\n\n        let pregunta_global = {\n            question: question,\n            options: shuffle([...incorrect_answers, correct_answer]),\n            answer: correct_answer\n        }\n        setQuiz([pregunta_global]);\n\n\n\n    }, []);\n\n\n\n\n\n    return (\n        <div>\n        <QuizWindow>\n            { quiz[number] &&\n\n            <>\n                <Question dangerouslySetInnerHTML={{ __html: quiz[number].question }}></Question>\n\n                <Options>\n                    {quiz[number].options.map((item, index) => (\n                        <Option key={index} dangerouslySetInnerHTML={{ __html: item }} onClick={pickAnswer}></Option>\n                    ))}\n                </Options>\n            </>\n\n            }\n            {\n\n                number === 1 && <GameOver pts={pts}/>\n            }\n\n        </QuizWindow>\n        </div>\n    )\n}\n\nexport default Quiz;","import tinycolor from 'tinycolor2' // TODO: Make this smaller?\n\nexport function produceRgbShades (r, g, b, amount) {\n  let shades = []\n\n  const hsl = tinycolor(`rgb(${r}, ${g}, ${b})`).toHsl()\n\n  for (let i = 9; i > 1; i -= 8 / amount) { // Decrements from 9 - 1; i being what luminosity (hsl.l) is multiplied by.\n    hsl.l = 0.1 * i\n    shades.push(tinycolor(hsl).toRgb())\n  }\n\n  return shades\n}\n\nexport function colourToRgbObj (colour) { // TODO: Note which colours tinycolor() can take; i.e. hex / rgb strings, objects, etc.\n  return tinycolor(colour).toRgb()\n}\n\nexport function calculateBounds (min, max) { // i.e. min & max pixels away from the center of the canvas.\n  return {\n    inside: (cursorPosFromCenter) => { // our relative mouse-position is passed through here to check.\n      return cursorPosFromCenter >= min && cursorPosFromCenter <= max\n    }\n  }\n}\n\nexport function convertObjToString (obj) {\n  return tinycolor(obj).toRgbString()\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getEffectiveRadius (trueRadius, lineWidth) {\n  return trueRadius - lineWidth / 2\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getCasillaNumber (r, g, b) {\n  let casilla;\n  if (r === 59 && g === 56 && b === 135) {\n    casilla = 0\n  } else if (r === 255 && g === 255 && b === 255) {\n    casilla = 1\n  } else if (r === 0 && g === 136 && b === 19) {\n    casilla = 2\n  } else if (r === 0 && g === 145 && b === 226) {\n    casilla = 3\n  } else if (r === 255 && g === 100 && b === 0) {\n    casilla = 10\n  } else if (r === 255 && g === 255 && b === 254) {\n    casilla = 11\n  } else if (r === 236 && g === 215 && b === 0) {\n    casilla = 12\n  } else if (r === 0 && g === 136 && b === 18) {\n    casilla = 13\n  } else if (r === 0 && g === 145 && b === 225) {\n    casilla = 20\n  } else if (r === 255 && g === 255 && b === 253) {\n    casilla = 21\n  } else if (r === 255 && g === 100 && b === 1) {\n    casilla = 22\n  } else if (r === 0 && g === 145 && b === 224) {\n    casilla = 23\n  } else if (r === 0 && g === 136 && b === 17) {\n    casilla = 30\n  } else if (r === 255 && g === 255 && b === 252) {\n    casilla = 31\n  } else if (r === 236 && g === 215 && b === 1) {\n    casilla = 32\n  } else if (r === 59 && g === 56 && b === 134) {\n    casilla = 33\n  } else if (r === 255 && g === 0 && b === 235) {//\n    casilla = 40\n  } else if (r === 255 && g === 255 && b === 251) {\n    casilla = 41\n  } else if (r === 255 && g === 0 && b === 234) {\n    casilla = 42\n  } else if (r === 59 && g === 56 && b === 133) {\n    casilla = 43\n  } else if (r === 236 && g === 215 && b === 2) {\n    casilla = 50\n  } else if (r === 255 && g === 255 && b === 250) {\n    casilla = 51\n  } else if (r === 255 && g === 0 && b === 233) {\n    casilla = 52\n  } else if (r === 255 && g === 100 && b === 2) {\n    casilla = 53\n  }\n  else if (r === 255 && g === 100 && b === 3) {//radio 0\n    casilla = 63\n  } else if (r === 236 && g === 215 && b === 3) {\n    casilla = 62\n  } else if (r === 0 && g === 145 && b === 223) {\n    casilla = 61\n  }\n  else if (r === 255 && g === 0 && b === 237) {//radio 1\n    casilla = 73\n  } else if (r === 0 && g === 136 && b === 16) {\n    casilla = 72\n  } else if (r === 0 && g === 145 && b === 221) {\n    casilla = 71\n  }\n  else if (r === 59 && g === 56 && b === 132) {//radio 2\n    casilla = 83\n  } else if (r === 255 && g === 0 && b === 238) {\n    casilla = 82\n  } else if (r === 255 && g === 100 && b === 4) {\n    casilla = 81\n  }\n  else if (r === 236 && g === 215 && b === 4) {//radio 3\n    casilla = 93\n  } else if (r === 255 && g === 0 && b === 236) {\n    casilla = 92\n  } else if (r === 0 && g === 145 && b === 222) {\n    casilla = 91\n  }\n  else if (r === 255 && g === 100 && b === 5) {//radio 4\n    casilla = 103\n  } else if (r === 59 && g === 56 && b === 131) {\n    casilla = 102\n  } else if (r === 0 && g === 136 && b === 15) {\n    casilla = 101\n  }\n  else if (r === 0 && g === 136 && b === 14) {//radio 5\n    casilla = 113\n  } else if (r === 59 && g === 56 && b === 130) {\n    casilla = 112\n  } else if (r === 255 && g === 0 && b === 239) {\n    casilla = 111\n  }\n  return casilla\n}\n\n\nexport function getCoordByCasilla (casilla,i) {\n  let coord={x:0,y:0}\n  const offset=7\n  switch (casilla) {\n    case 0: coord.x=222.5 ;coord.y=4.6875+offset*i; break\n    case 1: coord.x=284.5 ;coord.y=11.6875+offset*i; break\n    case 2: coord.x=344.5 ;coord.y=23.6875+offset*i; break\n    case 3: coord.x=401.5 ;coord.y=57.6875+offset*i; break\n\n    case 10: coord.x=435.5;coord.y=111.6875+offset*i; break\n    case 11: coord.x=449.5;coord.y=166.6875+offset*i; break\n    case 12: coord.x=454.5;coord.y=220.6875+offset*i; break\n    case 13: coord.x=451.5;coord.y=278.6875+offset*i; break\n\n    case 20: coord.x=436.5;coord.y= 332.6875+offset*i; break\n    case 21: coord.x=404.5 ;coord.y=378.6875+offset*i; break\n    case 22: coord.x=343.5 ;coord.y=428.6875+offset*i; break\n    case 23: coord.x=287.5;coord.y= 448.6875+offset*i; break\n\n    case 30: coord.x=229.5;coord.y= 450.6875+offset*i; break\n    case 31: coord.x=175.5 ;coord.y=443.6875+offset*i; break\n    case 32: coord.x=124.5;coord.y= 423.6875+offset*i; break\n    case 33: coord.x=82.5 ;coord.y=385.6875+offset*i; break\n\n    case 40: coord.x=38.5 ;coord.y=341.6875+offset*i; break\n    case 41: coord.x=15.5 ;coord.y=286.6875+offset*i; break\n    case 42: coord.x=5.5 ;coord.y=223.6875+offset*i; break\n    case 43: coord.x=15.5 ;coord.y=167.6875+offset*i; break\n\n    case 50: coord.x=49.5 ;coord.y=108.6875+offset*i; break\n    case 51: coord.x=82.5 ;coord.y=67.6875+offset*i; break\n    case 52: coord.x=118.5 ;coord.y=38.6875+offset*i; break\n    case 53: coord.x=169.5 ;coord.y=13.6875+offset*i; break\n      //radio 0\n    case 61: coord.x=230.5 ;coord.y=62.6875+offset*i; break\n    case 62: coord.x=230.5 ;coord.y=113.6875+offset*i; break\n    case 63: coord.x=231.5;coord.y= 161.6875+offset*i; break\n      //radio 1\n\n    case 71: coord.x=377.5 ;coord.y=145.6875+offset*i; break\n    case 72: coord.x=330.5 ;coord.y=170.6875+offset*i; break\n    case 73: coord.x=293.5 ;coord.y=194.6875+offset*i; break\n      //radio 2\n    case 81: coord.x=390.5 ;coord.y=300.6875+offset*i; break\n    case 82: coord.x=343.5 ;coord.y=277.6875+offset*i; break\n    case 83: coord.x=310.5 ;coord.y=259.6875+offset*i; break\n      //radio 3\n    case 91: coord.x=232.5 ;coord.y=392.6875+offset*i; break\n    case 92: coord.x=236.5 ;coord.y=340.6875+offset*i; break\n    case 93: coord.x=235.5 ;coord.y=309.6875+offset*i; break\n      //radio 4\n    case 101: coord.x=92.5 ;coord.y=319.6875+offset*i; break\n    case 102: coord.x=135.5 ;coord.y=293.6875+offset*i; break\n    case 103: coord.x=179.5 ;coord.y=267.6875+offset*i; break\n      //radio 5\n    case 111: coord.x=94.5 ;coord.y=145.6875+offset*i; break\n    case 112: coord.x=136.5 ;coord.y=169.6875+offset*i; break\n    case 113: coord.x=179.5;coord.y= 195.6875+offset*i; break\n\n    case 777: coord.x=250;coord.y= 250+offset*i; break\n  }\n  return coord\n\n\n}","export default [\n  '#ff00ea',\n  '#3b3885',\n  '#ecd702',\n  '#fffffa',\n  '#ff00e9',\n  '#ff6402',\n  '#3b3887',//este es el primero\n  '#ffffff',\n  '#008813',\n  '#0091e2',\n  '#ff6400',\n  '#fffffe',\n  '#ecd700',\n  '#008812',\n  '#0091e1',\n  '#fffffd',\n  '#ff6401',\n  '#0091e0',\n  '#008811',\n  '#fffffc',\n  '#ecd701',//\n  '#3b3886',\n  '#ff00eb',\n  '#fffffb'\n]\n","// NOTES:\n// -- Array-destructuring assignment won't work w vanilla ie11; needs babel-polyfill lol\n\nimport React, {Component, useState} from 'react'\nimport Button from '@material-ui/core/Button';\nimport PopupState from 'material-ui-popup-state';\nimport Quiz from '../../Quiz/Quiz'\n\nimport PropTypes from 'prop-types'\n\n// Utils:\nimport {\n  calculateBounds,\n  colourToRgbObj,\n  convertObjToString,\n  getCasillaNumber, getCoordByCasilla,\n  getEffectiveRadius,\n  produceRgbShades\n} from '../../utils/utils'\nimport hexStrings from '../../utils/hexStrings'\nimport {Card, CardContent, Modal,  Typography} from '@material-ui/core'\nimport {conn} from '../../../../Play'\nimport {getToken, getUser} from \"../../../../Utils/Common\";\nimport {green} from \"@material-ui/core/colors\";\nimport {CountdownCircleTimer} from \"react-countdown-circle-timer\";\nimport axios from \"axios\";\n// Global-vars:\nconst fullCircle = 2 * Math.PI\nconst quarterCircle = fullCircle / 4\n\nclass ColourWheel extends Component {\n\n  constructor (props) {\n\n    super(props)\n\n    this.state = {\n      rgb: null,\n      innerWheelOpen: false,\n      centerCircleOpen: false,\n      numPlayers: 0,\n      positionsX: [250,\n        250,\n        250,\n        250,\n        250,\n        250],\n      positionsY: [250,\n        250+10\n        ,250+20,\n        250+30,\n        250+40,\n        250+50],\n      puedoMover: false,\n      playerName: ['1','2','3','4','5','6'],\n      dado: 0,\n      quienSoy: 0,\n      posiblesJugadas: null,\n      casillaActualInfo: null,\n      desactivado:true,\n      open: false,\n      imagenes: [],\n      mostrarFicha:false,\n      pintarQuesito:false,\n      prueba: false,\n      botonCerrar: true,\n      contestada: false\n    }\n\n    // Initialised just before the DOM has loaded; after constructor().\n    this.outerWheelBounds = null\n    this.innerWheelBounds = null\n    this.centerCircleBounds = null\n\n    this.outerWheelRadius = null\n    this.innerWheelRadius = null\n    this.centerCircleRadius = null\n    this.firstSpacerRadius = null\n    this.secondSpacerRadius = null\n\n    // Initialised once the DOM has loaded.\n    this.canvasEl = null\n    this.ctx = null\n\n    // Bindings:\n    this.onCanvasHover = this.onCanvasHover.bind(this)\n    this.onCanvasClick = this.onCanvasClick.bind(this)\n  }\n\n\n  // MARK - Common:\n  getRelativeMousePos (clientX, clientY) {\n    const { radius } = this.props\n\n    const canvasPos = this.canvasEl.getBoundingClientRect()\n    const h = radius * 2\n    const w = radius * 2\n\n    // evtPos relative to our canvas.\n    const onCanvas = {\n      x: clientX - canvasPos.left,\n      y: clientY - canvasPos.top\n    }\n\n    // e is our mouse-position relative to the center of the canvasEl; using pythag\n    const fromCenter = Math.sqrt(\n        (onCanvas.x - w / 2) * (onCanvas.x - w / 2) +\n        (onCanvas.y - h / 2) * (onCanvas.y - h / 2)\n    )\n\n    // This returns an object in which we have both mouse-pos relative to the canvas, as well as the true-middle.\n    return {\n      fromCenter,\n      onCanvas\n    }\n  }\n\n  initCanvas () {\n    this.state.numPlayers=this.props.numPlayers\n    const { radius } = this.props\n\n    const width = radius * 2\n    const height = radius * 2\n\n    this.ctx.clearRect(0, 0, width, height)\n\n    this.drawOuterWheel(1)\n    this.drawSpacers()\n    //this.drawCenterCircle()\n    //this.drawPlayers()\n  }\n\n  // MARK - Life-cycle methods:\n  componentWillMount () {\n    const { radius, lineWidth, padding } = this.props\n\n    // Setting effective radii:\n    this.outerWheelRadius = radius\n    this.innerWheelRadius = this.outerWheelRadius - lineWidth - padding\n    this.centerCircleRadius = this.innerWheelRadius - lineWidth - padding\n    this.firstSpacerRadius = this.outerWheelRadius - lineWidth // NOTE: effectiveRadius will take into account padding as lineWidth.\n    this.secondSpacerRadius = this.innerWheelRadius - lineWidth\n\n    // Defining our bounds-objects, exposes a .inside(e) -> boolean method:\n    this.outerWheelBounds = calculateBounds(radius - lineWidth, radius)\n    this.innerWheelBounds = calculateBounds(\n        this.innerWheelRadius - this.centerCircleRadius,\n        this.innerWheelRadius\n    )\n    this.centerCircleBounds = calculateBounds(0, this.centerCircleRadius)\n    this.firstSpacerBounds = calculateBounds(\n        this.firstSpacerRadius - padding,\n        this.firstSpacerRadius\n    )\n    this.secondSpacerBounds = calculateBounds(\n        this.secondSpacerRadius - padding,\n        this.secondSpacerRadius\n    )\n  }\n\n\n  componentDidMount () {\n    // Giving this context to our parent component.\n    this.props.onRef(this)\n\n    // Initialising our canvas & context objs.\n    this.canvasEl = document.getElementById('colour-picker')\n    this.ctx = this.canvasEl.getContext('2d')\n\n    if (this.props.preset) {\n      const rgb = colourToRgbObj(this.props.presetColour)\n\n      this.setState({ rgb }, () => {\n        this.drawInnerWheel()//borrar lo anterior\n        this.drawOuterWheel(1)//dibujar rueda\n        this.drawRadius()//dibujar radios\n        this.drawSpacers()//dibujar spacer\n        this.drawCenterCircle()//dibujar circulo central con los jugadores\n      })\n    } else {\n      this.drawOuterWheel(1)\n      this.drawSpacers()\n    }\n\n    /*conn.on('comienzoPartida', () => {\n      setTimeout(()=>{this.comienzo()}, 100);a\n    })*/\n\n    conn.on(\"jugada\",(res)=>{\n      console.log(res)\n      let indice=0;\n      for(var i=0;i<this.state.numPlayers;i++){\n        if(this.state.playerName[i]===res.user){\n          indice=i\n        }\n      }\n      let coords=getCoordByCasilla(res.casilla,indice)\n      const vecx=this.state.positionsX;\n      vecx[indice]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[indice]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n      this.inicializarTablero()\n      console.log(\"AQUIIIII \" + res.ques);\n      this.props.onResponse({quesito: res.ques, user: res.user});\n\n\n\n    })\n  }\n\n  /*comienzo(){\n    console.log(\"Comienza la partida\");\n    let quienSoy=0\n    for(var i=0;i<JSON.parse(getPlayers()).length;i++){\n      if(JSON.parse(getPlayers())[i]===getUser()){\n        quienSoy=i\n      }\n    }\n    this.setValores(JSON.parse(getPlayers()),JSON.parse(getPlayers()).length,quienSoy)\n    console.log('dibujand')\n\n    //this.drawCenterCircle()\n    this.inicializarTablero()\n  }*/\n\n\n  componentWillUnmount () {\n    this.props.onRef(undefined)\n  }\n\n  // MARK - mouse-events:\n  onCanvasHover ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for mouse-location:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter) &&\n        this.state.innerWheelOpen\n    ) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.centerCircleBounds.inside(evt.fromCenter) &&\n        this.state.centerCircleOpen\n    ) {\n      // TODO: Have it clear on click?\n      this.canvasEl.style.cursor = 'pointer'\n    } else {\n      this.canvasEl.style.cursor = 'auto'\n    }\n  }\n\n  onCanvasClick ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for click-events:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.outerWheelClicked(evt.onCanvas)\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter)\n    ) {\n      this.innerWheelClicked(evt.onCanvas)\n    }\n  }\n\n  // MARK - Clicks & action methods:\n  pregunta=true\n\n  outerWheelClicked (evtPos) {\n    const { radius,colours } = this.props\n\n    // returns an rgba array of the pixel-clicked.\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n    console.log('opac='+opac)\n\n    const rgb = { r, g, b }\n\n    // Whether the user wants rgb-strings or rgb objects returned.\n    const rgbArg = convertObjToString(rgb) // TODO: Let user set different return values in props; e.g. rbg obj, string, etc.\n    this.pregunta=false;\n    this.props.onColourSelected(rgbArg)\n    let opa\n    console.log(rgbaArr)\n    /*if (r == 255 && g == 255 && b == 255) {\n      opa = 0.1\n    } else {\n      opa = 1\n    }*/\n    opa=1\n\n    console.log(getCasillaNumber(r, g, b))\n    console.log(colours[7])\n    console.log(convertObjToString(colours[7]))\n    console.log(evtPos.x+' '+evtPos.y)\n    console.log(this.state.puedoMover)\n    this.state.desactivado=false\n    if(opac===255 && this.state.puedoMover===true){\n\n\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n        var arrayPosiblesJugadas=this.state.posiblesJugadas\n        if(arrayPosiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n          this.setState({casillaActualInfo: arrayPosiblesJugadas[j]})\n        }\n      }\n      if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n        this.props.activarDado();\n        this.state.desactivado=true\n        this.state.puedoMover=true;\n        conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n          quesito: \"\",\n          finTurno: false ,\n        }, (res)=>{\n          console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n          this.props.activarDado();\n        });\n      }else{\n        this.state.puedoMover=false;\n        this.handleOpen()\n      }\n      this.drawInnerWheel()\n      this.drawOuterWheel(opa)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n\n    }\n    this.setState(\n        {\n          rgb,\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n\n\n          /*if(opac===255 && this.state.puedoMover===true){\n\n\n            for (let j=0; j<this.state.posiblesJugadas.length; j++){\n              console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n              if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n                this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n              }\n            }\n            if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n              this.state.puedoMover=true;\n              conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                quesito: \"\",\n                finTurno: false ,\n              }, (res)=>{\n                console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n              });\n            }else{\n              this.state.puedoMover=false;\n            }\n            this.drawInnerWheel()\n            this.drawOuterWheel(opa)\n            this.changePosition(evtPos.x, evtPos.y)\n            this.drawRadius()\n            this.drawSpacers()\n            this.drawCenterCircle()\n\n          }*/\n        }\n    )\n\n\n\n\n  }\n\n  innerWheelClicked (evtPos) {\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n\n    const rgb = { r, g, b }\n\n    const rgbArg = convertObjToString(rgb)\n    console.log(rgbaArr)\n\n\n    console.log(getCasillaNumber(r, g, b))\n    console.log(evtPos.x+' '+evtPos.y)\n\n    this.props.onColourSelected(rgbArg)\n    this.state.desactivado=false\n    this.setState(\n        {\n          rgb,\n          centerCircleOpen: true\n        },\n        () => {\n\n        }\n    )\n    if(opac===255 && this.state.puedoMover===true ){\n      console.log('asdf')\n      this.state.puedoMover=false;\n      this.handleOpen()\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n        if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n        }\n      }\n\n      this.drawInnerWheel()\n      this.drawOuterWheel(1)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n    }\n  }\n\n  clear (callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: false,\n          centerCircleOpen: false\n        },\n        () => {\n          // Reset state & re-draw.\n          this.initCanvas()\n          this.drawCenterCircle()\n          if (callback) callback()\n        }\n    )\n  }\n\n  dibujarTablero(casillasMarcadas=[]){\n\n    // Reset state & re-draw.\n    //this.initCanvas()\n\n    this.drawInnerWheel()\n    const num1=Math.floor(Math.random() * 24) + 1;\n    const num2 = Math.floor(Math.random() * 24) + 1;\n\n    this.drawOuterWheel(1,casillasMarcadas)\n    this.drawRadius(0.1,casillasMarcadas)\n    this.drawSpacers()\n    this.drawCenterCircle()\n    this.drawPlayers()//añadido\n  }\n\n  jugada (dado,callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n          //dibujar tablero\n          //this.drawPosition()\n\n          if (callback) callback()\n        }\n    )\n    console.log('dado'+dado)\n\n\n    conn.emit(\"posiblesJugadas\", dado, (res)=>{\n      console.log(\"Posibles jugadas con dado: \" + dado.toString());\n      console.log(res['res']);\n      console.log(res['info']);\n      this.state.posiblesJugadas=res['info'];\n      console.log(this.state.posiblesJugadas);\n      if(res['res']!=='err'){\n        if(res['info']===\"No es el turno.\"){\n          console.log('no turno')\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }else{\n          this.state.puedoMover=true;\n        }\n        console.log(res['info'].length);\n        console.log(res['info'][0]);\n        let casillas=[];\n        for(var i=0;i<res['info'].length;i++){\n\n          casillas[i]=res['info'][i].casilla.num\n        }\n        console.log(casillas[0])\n        if(this.state.puedoMover){//si es mi turno\n          this.dibujarTablero(casillas)\n        }\n      }else{\n        if(res['info']===\"No es el turno.\"){\n          console.log('no turno')\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }\n      }\n      this.props.desactivarDado();\n\n\n    })\n\n\n  }\n\n\n\n  inicializarTablero(){\n    this.drawInnerWheel()//borrar lo anterior\n    this.drawOuterWheel(1)//dibujar rueda\n    this.drawRadius()//dibujar radios\n    this.drawSpacers()//dibujar spacer\n    console.log('inicializando')\n    this.drawCenterCircle()//dibujar circulo central con los jugadores\n    //this.drawPlayers()\n  }\n\n  setQuienSoy(quiensoy){\n    this.setState({quiensoy: quiensoy});\n  }\n\n  setValores(players,numplayers,quiensoy){\n    let imgs=[]\n    let playernames=[]\n    console.log(players)\n    for(var i=0;i<numplayers;i++){\n      playernames.push(players[i].nombre)\n      imgs.push(players[i].ficha)\n    }\n    /*this.state.playerName=playernames\n    this.state.numPlayers=numplayers\n    this.state.numPlayers=numplayers*/\n    console.log('quiensoy: '+quiensoy)\n    this.setState({quienSoy: quiensoy})\n    this.setState({playerName:playernames,numPlayers:numplayers})\n    this.setState({imagenes: imgs})\n    console.log(this.state.imagenes)\n  }\n\n\n\n\n  iniciarPartida (callback = false) {\n\n    const { radius } = this.props\n\n    console.log(this.state.playerName)\n    this.setState(\n        {\n\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n\n\n        },\n        () => {\n          // Reset state & re-draw.\n\n\n        }\n    )\n    console.log(this.state.positionsX)\n    console.log(this.state.positionsY)\n    //this.inicializarTablero()\n    conn.emit(\"comenzarPartida\", (res)=>{\n      console.log(res)\n      console.log(\"Al comenzar partida: \" + res.res + \" \" + res.info);\n      //this.inicializarTablero()\n      if(res.res==='ok'){\n        //this.drawCenterCircle()\n        this.inicializarTablero()\n      }\n\n\n    });\n\n\n  }\n\n  cargarPartida(casillas,quiensoy){\n    console.log(casillas)\n    for(var i=0; i< casillas.length;i++){\n      let coords=getCoordByCasilla(casillas[i],i)\n      //this.state.positionsX[player]=coords.x;\n      //this.state.positionsY[player]=coords.y;\n      const vecx=this.state.positionsX;\n      vecx[i]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[i]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n\n    }\n    console.log(this.state.positionsX)\n    console.log(this.state.playerName)\n    this.inicializarTablero()\n  }\n\n  // MARK - Drawing:\n\n\n\n  drawOuterWheel (opa,casillasMarcadas) {\n    // TODO: Draw outline; separate method.\n    const { radius, colours, lineWidth } = this.props\n    const height = radius * 2\n    const width = radius * 2\n\n    // This value ensures that the stroke accounts for the lineWidth provided to produce an accurately represented radius.\n    const effectiveRadius = getEffectiveRadius(radius, lineWidth)\n\n    // Converting each colour into a relative rgb-object we can iterate through.\n    const rgbArr = colours.map((colour) => colourToRgbObj(colour))\n\n    rgbArr.forEach((rgb, i) => {\n\n      this.ctx.beginPath()\n\n      // Creates strokes 1 / rgbArr.length of the circle circumference.\n      const startAngle = (fullCircle / rgbArr.length) * i\n      const endAngle = (fullCircle / rgbArr.length) * (i + 1)\n      this.ctx.arc(\n          width / 2,\n          height / 2,\n          effectiveRadius,\n          startAngle + 3,\n          endAngle + 3\n      )\n      this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n      //this.ctx.fillText('holaas dfa sdf',50+i*5 ,50+i*5);\n      // Stroke-style changes based on the shade:\n      //this.ctx.strokeText('h',50+i*5 ,50+i*5) ;\n      //rgb.r=rgb.r-100;\n      if (casillasMarcadas != null) {\n        let op = 0.1\n        //console.log(casillasMarcadas)\n        //console.log(25% 24)\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            op = 1\n          }\n\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n        })\n        if(op!=1){\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n\n        }\n        console.log('opacidad= '+op)\n      }else{\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.stroke()\n      this.ctx.closePath()\n\n\n    })\n  }\n\n  drawSpacers () {\n    if (this.props.spacers) {\n      this.drawSpacer(this.firstSpacerRadius)\n      //this.drawSpacer(this.secondSpacerRadius)\n    }\n  }\n\n  drawSpacer (spacerRadius) {\n    const {\n      radius,\n      padding,\n      spacers: { colour, shadowColour, shadowBlur }\n    } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(spacerRadius, padding)\n\n    this.ctx.beginPath()\n\n    this.ctx.arc(width / 2, height / 2, effectiveRadius, 0, fullCircle)\n    this.ctx.lineWidth = padding\n\n    this.ctx.shadowColor = shadowColour\n    this.ctx.shadowBlur = shadowBlur\n    this.ctx.strokeStyle = colour\n    this.ctx.stroke()\n    this.ctx.closePath()\n\n    // To reset our shadowColor for other strokes.\n    this.ctx.shadowColor = 'transparent'\n  }\n\n  drawRadius (opa,casillasMarcadas=[]) {\n    this.drawRad(-27,-90,0,['#ff6403','#ecd703','#0091df'],opa,casillasMarcadas)//radio 0\n    this.drawRad(27,90,180,['#ecd704','#ff00ec','#0091de'],opa,casillasMarcadas)//radio 3\n    this.drawRad(65,-70,60,['#ff00ed','#008810','#0091dd'],opa,casillasMarcadas)//radio 1\n    this.drawRad(94,20,120,['#3b3884','#ff00ee','#ff6404'],opa,casillasMarcadas)//radio 2\n    this.drawRad(-65,70,240,['#ff6405','#3b3883','#00880f'],opa,casillasMarcadas)//radio 4\n    this.drawRad(-94,-20,-60,['#00880e','#3b3882','#ff00ef'],opa,casillasMarcadas)//radio 5\n\n  }\n\n  drawRad (xs,ys,angle,colors,opa=1,casillasMarcadas=[]) {\n    // raf setup.\n    const { radius } = this.props\n    this.ctx.beginPath()\n    //65,-70 y 60º\n    //90,27 y 120º\n    //-65,70 y 240\n    //-90,-27 y -60\n    let x = [xs]//-27,27,\n    let y = [ys]//-90,90\n    this.ctx.translate(radius + x[0], radius + y[0]);\n    this.ctx.rotate(angle * Math.PI/180 );\n    this.ctx.translate(-(radius + x[0]),-( radius + y[0]));\n    for (var i=0;i<3;i++){\n      const rgb = colourToRgbObj(colors[i])\n      if (casillasMarcadas.length != 0) {\n        let marcada=0\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            this.ctx.fillStyle = `rgb(${rgb.r},${rgb.g},${rgb.b},${1})`\n            marcada=1\n          }\n        })\n        if(marcada!=1){\n          this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${0.1})`\n\n        }\n      }else{\n        this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.fillRect(\n          radius + x[0],\n          radius + y[0]-50*i,\n          50, 50\n      );\n      this.ctx.stroke()\n\n    }\n\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.closePath()\n  }\n\n  changePosition(x,y,player=0) {\n\n    let coords=getCoordByCasilla(this.state.casillaActualInfo.casilla.num,player)\n    //this.state.positionsX[player]=coords.x;\n    //this.state.positionsY[player]=coords.y;\n    console.log('player'+player);\n    const vecx=this.state.positionsX;\n    vecx[player]=coords.x;\n    const vecy=this.state.positionsY;\n    vecy[player]=coords.y;\n    this.setState({positionsX: vecx,positionsY: vecy})\n\n  }\n\n  drawInnerWheel (animationPercentage = 0) {\n    // raf setup.\n    let requestAnimationFrame =\n        window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.msRequestAnimationFrame\n    window.requestAnimationFrame = requestAnimationFrame\n\n    const {\n      rgb: { r, g, b }\n    } = this.state\n    const { radius, lineWidth, shades, animated } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(\n        this.innerWheelRadius,\n        lineWidth\n    )\n\n    // Re-initialising canvas.\n    this.ctx.clearRect(0, 0, width, height)\n\n    //this.drawOuterWheel(1);\n    //this.drawRadius();\n    //this.drawSpacers()\n\n    const rgbShades = produceRgbShades(r, g, b, shades)\n\n    // Different functions for drawing our inner-wheel of shades.\n    function drawShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n    }\n\n    function animateShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth * animationPercentage // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n\n      // TODO: Make this animation speed dynamic.\n      animationPercentage += 1 / 10 // i.e. 1 / x frames\n\n      // Essentially re-draws rgbShades.forEach until the animationPercentage reaches 1, i.e. 100%\n      if (animationPercentage < 1) requestAnimationFrame(animateShades)\n    }\n\n    animateShades = animateShades.bind(this)\n    drawShades = drawShades.bind(this)\n\n    if (animated) {\n      //animateShades()\n    } else {\n      // TODO: Refactor into its own func.\n      //drawShades()\n    }\n  }\n\n  drawCenterCircle () {\n    const { rgb } = this.state\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n    this.ctx.lineWidth = 0\n\n    this.ctx.beginPath()\n    this.ctx.arc(\n        width / 2,\n        height / 2,\n        50,\n        0,\n        2 * Math.PI\n    )\n    this.ctx.fillStyle = `rgb(${255}, ${255}, ${255})`\n    this.ctx.fill()\n    this.ctx.lineWidth = 0.1\n    this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n    this.ctx.stroke()\n    this.ctx.closePath()\n    this.drawPlayers()\n  }\n\n  cargarImagen(){\n    let images=[]\n    for(var i=0; i<this.state.imagenes.length;i++){\n      const imageObj1 = new Image();\n      imageObj1.onload = ()=>{\n        this.setState({prueba: !this.state.prueba})\n      };\n      imageObj1.src= '/images/fichas/'+this.state.imagenes[i]+'.png';\n      images.push(imageObj1)\n    }\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/fichas/ficha0.png';\n    return images\n  }\n\n  drawPlayers () {\n    console.log('dibujando players')\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    //this.ctx.beginPath()\n    this.ctx.beginPath()\n    //this.ctx.fillStyle = `rgb(${0}, ${0}, ${0})`\n    //const imageObj1 = new Image();\n    console.log('imagen')\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/avatars/avatar_6.png';\n    const imageObj1=this.cargarImagen()\n    console.log(this.state.numPlayers)\n    console.log('imagenes')\n    console.log(this.state.imagenes)\n\n    console.log(imageObj1)\n    for(var i=0;i<this.state.numPlayers;i++){\n      //console.log(this.state.playerName[i])\n      console.log(this.state.positionsX[i])\n      console.log(this.state.positionsY[i])\n      /*this.ctx.fillText(\n          this.state.playerName[i],\n          this.state.positionsX[i],\n          this.state.positionsY[i]\n      )*/\n\n\n      //imageObj1.crossOrigin = \"Anonymous\";\n\n      this.ctx.drawImage(imageObj1[i],this.state.positionsX[i],this.state.positionsY[i],25,25)\n\n      \n    }\n\n\n\n    //this.ctx.stroke()\n    this.ctx.closePath()\n  }\n\n  getPosiblesJugadas(){\n    return this.state.casillaActualInfo\n  }\n\n\n  handleResponseFromQuiz=(response)=>{\n    console.log(response);\n    console.log(response.result);\n    this.setState({botonCerrar:false})\n    this.setState({pintarQuesito:true})\n\n    conn.emit(\"actualizarJugada\", {casilla: response.casillaInfo.casilla.num,\n      quesito: response.casillaInfo.casilla.tipo===\"Quesito\"&&response.result===1?response.casillaInfo.casilla.categoria:\"\",\n      finTurno: response.result===0  //?true:false ,\n    }, (res)=>{\n      console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n      console.log(res['info']);\n\n    });\n    if(response.result===1){\n      this.props.activarDado();\n\n      axios.post('https://unitrivia.herokuapp.com/api/tienda/insertarMonedas',{},{headers: {\n          cantidad: 1,jwt: getToken()\n        }}).then((response) => {\n        console.log(response)\n      }).catch((code) => {\n        console.log(code.response)\n      });\n\n    }\n    if(response.result===1 && response.casillaInfo.casilla.tipo===\"Quesito\"){\n      this.props.onResponse({quesito: response.casillaInfo.casilla.categoria,user: getUser()});\n    }\n    this.setState({contestada: true})\n    //this.handleClose()\n\n\n  }\n\n  handleOpen = () => {\n\n    this.state.open=true;\n  };\n\n  handleClose = () => {\n\n    this.setState({open: false})\n    this.setState({botonCerrar:true})\n    this.setState({contestada: false})\n  };\n  getOpen(){\n    return this.state.open\n  }\n\n\n  render () {\n\n\n\n    const { radius, dynamicCursor } = this.props\n\n\n\n    return dynamicCursor ? (\n        <div>\n          <canvas\n              id=\"colour-picker\"\n              onClick={this.onCanvasClick}\n              onMouseMove={this.onCanvasHover}\n              width={`${radius * 2}px`}\n              height={`${radius * 2}px`}\n          />\n          <div>\n            <PopupState variant=\"popover\" popupId=\"demo-popup-popover\">\n              {(popupState) => (\n                  <div>\n\n\n                    <Modal\n                        open={this.getOpen()}\n                        onClose={this.handleClose}\n                        aria-labelledby=\"simple-modal-title\"\n                        aria-describedby=\"simple-modal-description\"\n                        disableBackdropClick={this.getOpen()}\n\n\n                    >\n\n                      <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                          <Typography align={'left'}>Responda a la pregunta.</Typography>\n                          <div align={'right'}>\n                          <CountdownCircleTimer\n                              onComplete={() => {\n                                console.log('timer')\n                                if(!this.state.contestada){\n                                  conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                                    quesito: \"\",\n                                    finTurno: true ,\n                                  }, (res)=>{\n                                    console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n                                    this.props.activarDado();\n                                  });\n                                }\n\n                                this.handleClose()\n                              }}\n                              isPlaying\n                              duration={60}\n                              initialRemainingTime={60}\n                              colors=\"#A30000\"\n                              size={80}\n                          />\n                          </div>\n                          <Quiz  pregunta={this.getPosiblesJugadas()} onResponse={this.handleResponseFromQuiz} > </Quiz>\n                          <Button onClick={this.handleClose} style={{color: 'red'}} disabled={this.state.botonCerrar}>CERRAR</Button>\n                        </CardContent>\n                      </Card>\n\n\n                    </Modal>\n                  </div>\n              )}\n            </PopupState>\n\n          </div>\n        </div>\n    ) : (\n        <canvas\n            id=\"colour-picker\"\n            onClick={this.onCanvasClick}\n            width={`${radius * 2}px`}\n            height={`${radius * 2}px`}\n        />\n\n    )\n  }\n\n\n\n}\n\nColourWheel.propTypes = {\n  playerName: PropTypes.array,\n  numPlayers: PropTypes.number,\n  radius: PropTypes.number.isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  colours: PropTypes.array,\n  shades: PropTypes.number,\n  padding: PropTypes.number,\n  dynamicCursor: PropTypes.bool,\n  spacers: PropTypes.object,\n  onColourSelected: PropTypes.func,\n  preset: PropTypes.bool\n  // presetColour: PropTypes.string\n}\n\nColourWheel.defaultProps = {\n  colours: hexStrings,\n  shades: 16,\n  padding: 0,\n  dynamicCursor: true,\n  preset: false,\n  animate: false\n}\n\nexport default ColourWheel","export default __webpack_public_path__ + \"static/media/dado.80ec73e2.mp3\";","export default __webpack_public_path__ + \"static/media/ascensor.fabbf54a.mp3\";","import React, {Component} from 'react'\n\n// react-colour-wheel:\nimport ColourWheel from './src/components/colourWheel/ColourWheel'\nimport ReactDice from 'react-dice-complete'\nimport 'react-dice-complete/dist/react-dice-complete.css'\nimport Button from '@material-ui/core/Button'\nimport {getToken, getUser} from \"../Utils/Common\";\nimport dados from '../music/dado.mp3'\nimport {conn} from \"../Play\";\nimport {Card, CardContent, Grid, ListItemAvatar, Typography} from \"@material-ui/core\";\nimport {Modal} from \"reactstrap\";\n\nimport {green} from \"@material-ui/core/colors\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline, MusicNote, MusicOff, VolumeOff, VolumeUp} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Cheese from \"./Cheese\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Avatar from '@material-ui/core/Avatar';\nimport musica from \"../music/ascensor.mp3\";\nimport Sound from \"react-sound\";\n\nconst yourDefaultColour = 'rgb(255, 255, 255)'\n\n\nconst useStyles = (theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\n\n\nclass Board extends Component {\n    state = {\n        selectedColour: yourDefaultColour,\n        dado: 0,\n        play: false,\n        turno:'',\n        admin:'',\n        open:false,\n        datosJugadores:[{\n            avatar:\"\",\n            nombre:\"\",\n            coloresAcertados: [],\n            banner:\"\",\n            ficha:\"\"\n        }],\n        desconectados: [],\n        coloresAcertados: [],\n        jugadores: [],\n        codigoSala: null,\n        username: \"\",\n        esprimero: true,\n        nuevoJugador: false,\n\n        puedoTirar: false,\n        sounds: false,\n        music: false,\n        partidaEmpezada:false,\n        yes:true,\n\n    }\n\n\n    cambiarSonido=()=>{\n        this.setState({sounds: !this.state.sounds})\n    }\n    cambiarMusica =()=>{\n        this.setState({music: !this.state.music})\n    }\n    audio = new Audio(dados)\n\n    constructor(props) {\n        super(props);\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            this.setState({username:response.data._id})\n            console.log(this.state.jugadores);\n            console.log(response.data._id);\n            console.log(\"no se que poner \", response.data._id, this.state.esprimero, this.state.jugadores.length, this.state.jugadores);\n            if (this.state.jugadores.length === 0 &&  this.state.esprimero) {\n                console.log(\"Es el primero, lo ponemos como admin\");\n                const list = this.state.jugadores.concat(response.data._id);\n                //this.state.admin = response.data._id;\n                this.setState({\n                    jugadores:list,\n                    admin: response.data._id,\n                    datosJugadores:[{\n                        avatar: response.data.avtr,\n                        banner: response.data.bnr,\n                        ficha: response.data.fich,\n                        nombre: response.data._id,\n                        coloresAcertados: []\n                    }\n                    ]\n                })\n\n            } else if (this.state.jugadores.length === 1 &&  this.state.esprimero){\n                this.setState({admin: response.data._id})\n\n            } else {\n                console.log(\"Se intenta meter un usuario que ya estaba\");\n\n            }\n        }).catch((code) => {\n            console.log(code.response)\n        });\n    }\n\n    activarDado(){\n        this.setState({\n            puedoTirar: true\n        })\n    }\n\n    desactivarDado(){\n        this.setState({\n            puedoTirar: false\n        })\n    }\n\n    rellenarQuesitos=(color)=>{\n        //this.state({coloresAcertados: color});\n\n    }\n\n    listarJugadores = (classes) => {\n        console.log(\"Entrando a listar jugadores...\")\n\n        let desconectados = this.state.desconectados;\n        let datosJugadores = this.state.datosJugadores;\n\n        //datosJugadores.some((user) => desconectados.includes(user.nombre)) ? color = '#D64728' : color = '#000000';\n        console.log(desconectados)\n\n        return(\n            <List dense className={classes.root}>\n                {datosJugadores.map((value) => {\n                    let color = '';\n                    desconectados.includes(value.nombre) ? color = '#D64728' : color = '#000000';\n                    console.log(color)\n\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    let error;\n                    if (value.banner === 'banner0' || value.banner === 'banner4') {\n                        error = 'black'\n                    } else {\n                        error = 'white'\n                    }\n\n                    return (\n                        <div style={{\n                            backgroundImage: \"url(\" + \"/images/banners/\" + value.banner + \".jpg\" + \")\",\n                            backgroundSize: 'cover', color: error ,blockSize: 100, alignContent: 'stretch',\n                            border: 'solid', borderColor: 'black', textSizeAdjust: 'auto'\n                        }}>\n                            <ListItem key={value}>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/fichas/\" + value.ficha + \".png\"}/>\n                                </ListItemAvatar>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/avatars/\" + value.avatar + \".jpg\"}/>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    id={labelId}\n                                    disableTypography\n                                    primary={\n                                        <Typography type=\"body2\" style={{ color: color }}>\n                                            {value.nombre}\n                                        </Typography>\n                                    }\n                                />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={value.coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n\n\n    /*\n        devolverCodigoSala(){\n            conn.emit(\"obtenerIdSala\",(id)=>{\n                //this.state.codigoSala = id;\n                this.setCodigoSala(id)\n                this.setState({codigoSala: id});\n                console.log(id);\n                console.log(this.state.codigoSala)\n            })\n            console.log(\"El identificador es :\"+ this.state.codigoSala);\n\n        }\n    */\n\n\n    botonEmpezar = () => {\n\n        if(this.state.username===this.state.admin){\n            if(!this.state.partidaEmpezada){\n                return(\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this.iniciarPartidaa}\n                    >\n                        Empezar Partida\n                    </Button>\n                )\n            }\n\n        }\n    }\n\n\n    componentDidMount(){\n\n        conn.on('nuevoJugador',(user)=> {\n            console.log(\"Cargando nuevo jugador...\")\n            const usuario = user.jugador;\n\n            if (!this.state.jugadores.includes(usuario)) {\n                let ficha;\n                let banner;\n                let avatar;\n                if(user.imgs == null || user.imgs.ficha === \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = user.imgs.ficha;\n                    banner = user.imgs.banner;\n                    avatar = user.imgs.avatar;\n                }\n                const listDatos = this.state.datosJugadores.concat({\n                    ficha:ficha,\n                    nombre: user.jugador,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []\n                })\n                console.log(listDatos);\n                this.setState({datosJugadores:listDatos});\n                const list = this.state.jugadores.concat(usuario);\n                this.setState({jugadores:list})\n            }\n        })\n\n        conn.on('cargarJugadores',(users)=>{\n            console.log(users);\n            console.log(users.jugadores.usuario);\n            let list = [];\n            let gamers = [];\n            for(let i = 0; i<users.jugadores.length; i++){\n                let ficha;\n                let banner;\n                let avatar;\n                if(users.jugadores[i].imgs == null || users.jugadores[i].imgs === \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = users.jugadores[i].imgs.ficha;\n                    banner = users.jugadores[i].imgs.banner;\n                    avatar = users.jugadores[i].imgs.avatar;\n                }\n                list.push(users.jugadores[i]);\n                gamers.push({\n                    nombre:users.jugadores[i].usuario,\n                    ficha:ficha,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []});\n            }\n            console.log(list);\n            console.log(gamers);\n\n\n            if(list.length > 1){\n                this.setState({admin: '',\n                    esprimero:false, datosJugadores: gamers});\n            } else {\n                this.setState({admin: this.state.username,\n                    esprimero:true, datosJugadores: gamers});\n            }\n\n\n            //console.log(users.jugadores.prototype);\n            //setJugadores([...users.jugadores]);\n            //this.state.jugadores = users.jugadores;\n            //this.setState({jugadores: users.jugadores})\n        })\n\n        conn.on('reconexionJugador',(user)=> {\n            let desconectados = this.state.desconectados;\n            let arrayJugadores = this.state.datosJugadores;\n            let nombre = user.jugador;\n            let indexUser = desconectados.indexOf(nombre)\n\n            if(indexUser > -1){ //si esta reconocido como desconectado lo elimina\n               desconectados.splice(indexUser,1);\n                this.setState({desconectados: desconectados})\n\n            }else if (!arrayJugadores.some((elemento) => elemento.nombre === nombre)){ //si no, comprueba que esté en la partida\n                console.log(\"ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA\");\n            } else {\n                console.log(\"AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS\");\n            }\n            //this.colourWheel.setValores(this.state.jugadores,this.state.jugadores.length,quienSoy)\n        })\n\n        conn.on('estadoPartida',(users)=>{//arreglar\n            console.log(users);\n            let userList = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                let color=[];\n                for(let j=0; j< users.jugadores[i].quesitos.length ; j++){\n                    switch (users.jugadores[i].quesitos[j]) {\n                        case \"Historia\":\n                            color.push( \"yellow\");\n                            break;\n                        case \"Deportes\":\n                            color.push( \"orange\");\n                            break;\n                        case \"Entretenimiento\":\n                            color.push( \"pink\");\n                            break;\n                        case \"Ciencias\":\n                            color.push( \"green\");\n                            break;\n                        case \"Geografia\":\n                            color.push( \"blue\");\n                            break;\n                        case \"Cultura General\":\n                            color.push( \"purple\");\n                            break;\n                    }\n                }\n\n                userList.push({\n                    ficha:users.jugadores[i].imgs.ficha,\n                    nombre: users.jugadores[i].usuario,\n                    banner:users.jugadores[i].imgs.banner,\n                    avatar:users.jugadores[i].imgs.avatar,\n                    coloresAcertados: color\n                })\n            }\n            console.log(userList);\n            this.setState({admin: userList[0].nombre,\n                esprimero:false, datosJugadores: userList});\n\n            console.log(\"Volviendo a la partida\");\n            let casillas = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                casillas.push(users.jugadores[i].casilla)\n            }\n            //TODO: cargar un estado de partida de forma dinámica, es decir, distinto del inicial\n            let quienSoy=0\n            for(let i=0;i<this.state.datosJugadores.length;i++){\n                if(this.state.datosJugadores[i].nombre===getUser()){\n                    quienSoy=i\n                }\n            }\n            this.setState({partidaEmpezada:true})\n            this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n            console.log(casillas)\n            this.colourWheel.cargarPartida(casillas,quienSoy)\n            this.colourWheel.drawPlayers()\n        })\n\n        conn.on('abandonoSala',(user)=>{\n            console.log(\"Entramos en abandono de sala \"+this.state.jugadores);\n            var arrayJugadores = this.state.datosJugadores;\n            //var arrayDatosJugadores = this.state.datosJugadores;\n            //var indexUser = arrayJugadores.indexOf(user);\n            let quienSoy\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            //console.log(arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre===user) {\n                    indexUser = i;\n                }\n                if(arrayJugadores[i].nombre===user){\n                    quienSoy=i;\n                }\n            }\n\n            if(indexUser>-1){//no ha dado error\n                console.log(\"Hemos sacado el index del jugador que abandona\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //arrayDatosJugadores.splice(indexUser,1);\n                //this.state.jugadores = arrayJugadores;\n                this.setState({datosJugadores:arrayJugadores})\n                this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n\n            }else{\n                console.log(\"ha dado error el indexOf\");\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores})\n            }\n        })\n\n        conn.on('jugadorSale',(user)=>{\n            console.log(\"Jugador saliendo...\");\n            let desconectados = this.state.desconectados;\n\n            if(!desconectados.includes(user)){ //si no está lo mete\n                desconectados.push(user);\n                console.log(desconectados)\n                this.setState({desconectados: desconectados})\n\n            }else{\n                console.log(\"POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO\");\n            }\n        })\n\n        conn.on('cambioLider',({antiguo,nuevo})=>{\n            console.log(\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n            var arrayJugadores = this.state.datosJugadores;\n            console.log(arrayJugadores)\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            console.log(arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre==antiguo) {\n                    indexUser = i;\n                }\n            }\n            if(indexUser>-1){//no ha dado error\n                console.log(\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores,\n                    admin: nuevo})\n                //this.state.admin = nuevo;\n            }else{\n                console.log(\"ha dado error el indexOf\");\n\n            }\n        })\n        /*\n        conn.on('estadoPartida',(info)=>{\n            console.log(info);\n        })*/\n\n        this.audio.addEventListener('ended', () => this.setState({ play: false }));\n\n        conn.on('turno', (info) => {\n            console.log(\"Turno de: \" + info);\n            console.log(getUser())\n            //this.state.turno=info\n            this.setState({turno:info})\n            if(info===getUser() || !getUser()){\n                //alert('Es tu turno!')\n                this.activarDado()\n            }else{\n                //alert('Es el turno de '+info)\n            }\n        })\n\n        conn.on('finDelJuego', (usuario) => {\n            console.log(\"Fin del juego, gana: \" + usuario);\n            this.handleOpen()\n        })\n\n        conn.emit(\"obtenerIdSala\",(id)=>{\n            //this.state.codigoSala = id;\n            this.setState({codigoSala: id});\n        })\n\n        conn.on('comienzoPartida', () => {\n            console.log(\"Comienza la partida\");\n            let quienSoy=0\n            for(var i=0;i<this.state.datosJugadores.length;i++){\n                if(this.state.datosJugadores[i].nombre===getUser()){\n                    quienSoy=i\n                }\n            }\n            this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n            console.log('dibujand')\n\n            //this.drawCenterCircle()\n            this.colourWheel.inicializarTablero()\n\n        })\n    }\n\n    componentWillUnmount() {\n        this.audio.removeEventListener('ended', () => this.setState({ play: false }));\n    }\n\n    togglePlay = () => {\n        this.setState({ play: !this.state.play }, () => {\n            this.state.sounds ? this.audio.play() : this.audio.pause();\n        });\n    }\n\n    iniciarPartidaa = () => {\n\n        let quienSoy=0\n        for(var i=0;i<this.state.jugadores.length;i++){\n            if(this.state.jugadores[i]===getUser()){\n                quienSoy=i\n            }\n        }\n        console.log(this.state.jugadores)\n        console.log(this.colourWheel)\n        this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n\n        this.colourWheel.iniciarPartida(() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n        this.setState({partidaEmpezada:true})\n    }\n\n    jugada = () => {\n        let dado= this.state.dado;\n        console.log('num'+this.state.dado)\n        this.colourWheel.jugada(dado,() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n    }\n\n    rollDoneCallback =(num) =>{\n        console.log(`You rolled a ${num}`)\n        //this.state.dado={num}\n        this.setState({dado: num})\n        console.log(`sacaste un `+this.state.dado)\n        this.jugada()\n\n\n    }\n\n\n\n    rollDoneCallback2 =(num) =>{\n        setTimeout(()=>{this.rollDoneCallback(num)}, 1000);//2000\n    }\n\n    turn =() =>{\n        return(\n            <h1>{this.state.turno}</h1>\n        )\n    }\n\n    heGanado(){\n        let aux = this.state.datosJugadores;\n        let index = aux.findIndex((jugador) => (jugador.nombre === this.state.username));\n        return aux[index].coloresAcertados.length === 6;\n    }\n\n    finPartida(){\n        let aux = this.state.datosJugadores;\n        aux.sort(function(a, b){\n            const A = a.coloresAcertados.length;\n            const B = b.coloresAcertados.length;\n            if(B < A){\n                return -1;\n            } else if(B > A){\n                return 1;\n            } else {\n                return 0;\n            }\n        });\n\n        let result = \"RESULTADOS: \\n\";\n        let pos = 1;\n        let incr = 0;\n        for(let i = 0; i<aux.length; i++){\n            if(i > 0 && aux[i].coloresAcertados.length < aux[i-1].coloresAcertados.length) {\n                pos += incr;\n                incr = 1;\n            } else {\n                incr++;\n            }\n            result += pos.toString() + \". \" + aux[i].nombre + \"\\n\";\n        }\n        return result;\n    }\n\n    handleOpen = () => {\n\n        //this.state.open=true;\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.setState({open:false});\n        let cantidad = 0;\n        if(this.heGanado()){\n            cantidad = 20;\n        } else {\n            cantidad = 10;\n        }\n\n    };\n\n    getOpen(){\n        return this.state.open\n    }\n\n\n    handleQuesitos=(response)=>{\n        console.log(response);\n        console.log('quesito de'+response.quesito);\n        let color;\n        switch (response.quesito) {\n            case \"Historia\":\n                color = \"yellow\";\n                break;\n            case \"Deportes\":\n                color = \"orange\";\n                break;\n            case \"Entretenimiento\":\n                color = \"pink\";\n                break;\n            case \"Ciencias\":\n                color = \"green\";\n                break;\n            case \"Geografia\":\n                color = \"blue\";\n                break;\n            case \"Cultura General\":\n                color = \"purple\";\n                break;\n        }\n        var exito = false;\n        for(let i=0;i<this.state.coloresAcertados.length;i++){\n            console.log(this.state.coloresAcertados[i])\n            console.log(response.quesito)\n            if(this.state.coloresAcertados[i]===color){\n                exito = true\n            }\n        }\n\n        if(response.quesito!==\"\" && !exito) {\n\n            const colors = this.state.coloresAcertados;\n            colors.push(color);\n            this.setState({coloresAcertados: colors});\n            var arrayDatosJugadores = this.state.datosJugadores;\n            for (var i = 0; i < arrayDatosJugadores.length; i++) {\n                if (arrayDatosJugadores[i].nombre === response.user) {\n                    arrayDatosJugadores[i].coloresAcertados.push(color)\n                }\n            }\n            this.setState({datosJugadores: arrayDatosJugadores});\n        }\n        //this.setState({})\n        //console.log(this.state.coloresAcertados)\n    }\n\n\n    render () {\n        const {classes} = this.props\n        const { selectedColour } = this.state\n        let audio = new Audio(\"../music/dado.mp3\")\n\n\n//                    backgroundImage: 'url(https://vips.org/wp-content/uploads/2018/09/question-background.png)',\n        const start = () => {\n            audio.play()\n        }\n//onClick={this.togglePlay}\n\n\n        /*\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    width: '100%',\n                    display: 'flex',\n                    backgroundColor: '#353833',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                }}\n            >\n                <div style={{ textAlign: 'center', color: '#FFFFFF' }}>\n                    <h1><span>UniTrivia</span></h1>\n                </div>\n                <div style={{ textAlign: 'right', color: '#FFFFFF' }}>\n                    <h1><span>Turno de :{this.state.turno}</span></h1>\n                </div>\n\n                <ColourWheel\n                    numPlayers={JSON.parse(getPlayers()).length}\n                    playerName={JSON.parse(getPlayers())}\n                    radius={250}\n                    padding={10}\n                    lineWidth={50}\n                    onColourSelected={(rgb) => this.setState({ selectedColour: rgb })}\n                    onRef={ref => (this.colourWheel = ref)}\n                    spacers={{\n                        colour: '#FFFFFF',\n                        shadowColour: 'grey',\n                        shadowBlur: 5\n                    }}\n                    preset // You can set this bool depending on whether you have a pre-selected colour in state.\n                    presetColour={this.state.selectedColour}\n                    animated\n\n                />\n                <Popup\n                    open={this.getOpen()}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                >\n\n                    <Card style={{ color: green[500] }} >\n                        <CardContent>\n                            <Typography>Fin de la partida.</Typography>\n                            <Button href={'/menu'}>Volver al menú</Button>\n                        </CardContent>\n                    </Card>\n\n\n                </Popup>\n\n\n                <div\n                    onClick={this.iniciarPartidaa}\n                    style={{\n                        cursor: 'pointer',\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: '#FFFFFF',\n                        marginTop: 20\n                    }}>\n                    <Button disabled={!getSoyAdmin()}>Iniciar partida{console.log(getSoyAdmin())}</Button>\n                </div>\n                <div\n                    style={{\n                        cursor: 'pointer',\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: '#FFFFFF',\n                        marginTop: 20\n                    }}\n                    onClick={this.togglePlay}\n\n                    >\n                    <Button onClick={()=>{this.reactDice.rollAll()}}>tirar dado</Button>\n                    <ReactDice\n                        numDice={1}\n                        rollDone={this.rollDoneCallback2}\n                        ref={dice => this.reactDice = dice}\n                        outline={true}\n                        faceColor={'white'}\n                        dotColor={'black'}\n                        rollTime={2}\n                        sound={'../music/dado.mp3'}\n\n                    />\n\n                </div>\n\n            </div>\n        )*/\n\n        return (\n            <Grid container>\n                <Grid item xs={2} direction=\"row\">\n                    <Card >\n                        <CardContent>\n                            <div style={{height: \"fit-content\"}}>\n                                <h2>\n                                    Sala\n                                </h2>\n                                <div>\n                                    {this.listarJugadores(classes)}\n                                </div>\n                                <div>\n                                    {/*this.devolverCodigoSala()*/}\n                                    <h6 style={{ font: 'arial'}}>CÓDIGO: {this.state.codigoSala}</h6>\n\n                                </div>\n                                <div>\n                                    {this.botonEmpezar()}\n                                </div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={8} >\n                    <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                            <div>\n                                <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/Play'}>\n                                    <ArrowBack color=\"primary\"/>\n                                    Volver\n                                </IconButton>\n\n                                <Popup trigger={\n                                    <IconButton color=\"secondary\" variant=\"contained\" >\n                                        <HelpOutline color=\"primary\"/>\n                                    </IconButton>} position=\"right top\" >\n                                    <div>\n                                        <h5>INFORMACIÓN</h5>\n                                        <li><font size={2}>AMARILLO: historia</font></li>\n                                        <li><font size={2}>VERDE: Ciencias</font></li>\n                                        <li><font size={2}>ROSA: Entretenimiento</font></li>\n                                        <li><font size={2}>MORADO: Cultura General</font></li>\n                                        <li><font size={2}>NARANJA: Deportes</font></li>\n                                        <li><font size={2}>AZUL: Geografia</font></li>\n                                        <li><font size={2}>BLANCO: tira otra vez</font></li>\n                                    </div>\n                                </Popup>\n\n                                <IconButton onClick={this.cambiarSonido} >\n                                    {this.state.sounds ? <VolumeUp color=\"primary\"/>:<VolumeOff color=\"primary\"/>}\n                                </IconButton>\n\n                                <IconButton onClick={this.cambiarMusica} color=\"secondary\">\n                                    {this.state.music ? <MusicNote color=\"primary\"/>:<MusicOff color=\"primary\"/>}\n                                </IconButton>\n\n\n\n                                <Sound\n                                    url={musica}\n                                    playStatus={\n                                        this.state.music ?Sound.status.PLAYING:Sound.status.PAUSED\n                                    }\n                                    playFromPosition={300}\n                                    loop={true}\n                                    volume={20}\n                                />\n\n\n                            </div>\n                            <div\n                                style={{\n                                    height: '100%',\n                                    width: '100%',\n                                    display: 'flex',\n                                    backgroundColor: '#353833',\n                                    flexDirection: 'column',\n                                    justifyContent: 'center',\n                                    alignItems: 'center'\n                                }}\n                            >\n                                <div style={{ textAlign: 'center', color: '#FFFFFF' }}>\n                                    <h1><span>UniTrivia</span></h1>\n                                </div>\n                                <div style={{ textAlign: 'right', color: '#FFFFFF' }}>\n                                    {this.state.turno === this.state.username?<h2>Tu turno!</h2>:<h2>Turno de :{this.state.turno}</h2>}\n                                </div>\n\n                                <ColourWheel\n                                    numPlayers={this.state.jugadores.length}\n                                    playerName={this.state.jugadores}\n                                    radius={250}\n                                    padding={10}\n                                    lineWidth={50}\n                                    onColourSelected={(rgb) => this.setState({ selectedColour: rgb })}\n                                    onRef={ref => (this.colourWheel = ref)}\n                                    spacers={{\n                                        colour: '#FFFFFF',\n                                        shadowColour: 'grey',\n                                        shadowBlur: 5\n                                    }}\n                                    preset // You can set this bool depending on whether you have a pre-selected colour in state.\n                                    presetColour={this.state.selectedColour}\n                                    animated\n                                    desactivarDado={this.desactivarDado.bind(this)}\n                                    activarDado={this.activarDado.bind(this)}\n                                    onResponse={this.handleQuesitos}\n\n                                />\n\n                                <Modal\n                                    isOpen={this.getOpen()}\n                                    onClose={this.handleClose}\n                                    aria-labelledby=\"simple-modal-title\"\n                                    aria-describedby=\"simple-modal-description\"\n                                    disableBackdropClick={true}\n                                >\n                                    <h2>\n                                        Fin de la partida\n                                    </h2>\n                                    <div>\n                                        {this.finPartida()}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            variant=\"primary\"\n                                            href={'/menu'}\n                                            onClick={this.handleClose}\n                                        >\n                                            Aceptar\n                                        </Button>\n                                    </div>\n                                </Modal>\n\n\n                                <Button\n                                    style={{\n                                        cursor: 'pointer',\n                                        fontSize: 20,\n                                        fontWeight: '500',\n                                        color: '#FFFFFF',\n                                        marginTop: 20\n                                    }}\n                                    onClick={this.togglePlay}\n                                    disabled={!this.state.puedoTirar}\n\n\n\n                                >\n                                    <Button onClick={()=>{this.reactDice.rollAll()}}>tirar dado</Button>\n                                    <ReactDice\n                                        numDice={1}\n                                        rollDone={this.rollDoneCallback2}\n                                        ref={dice => this.reactDice = dice}\n                                        outline={true}\n                                        faceColor={'white'}\n                                        dotColor={'black'}\n                                        rollTime={2}\n                                        sound={this.state.sounds?'../music/dado.mp3':''}\n                                        disableIndividual={!this.state.puedoTirar}\n                                    />\n\n                                </Button>\n\n                            </div>\n\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nexport default withStyles(useStyles)(Board);\n","import React, {useEffect} from 'react'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline} from \"@material-ui/icons\";\nimport {green} from \"@material-ui/core/colors\";\nimport {Card, CardContent, Grid} from \"@material-ui/core\";\n//style={{ color: green[500] }}\nimport Chat from \"./game/chat\";\nimport Room from \"./game/room\";\nimport Board from \"./game/Board\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport {conn} from \"./Play\";\n\nconst BackButtonListener = ({children}) => {\n\n    useEffect(() => {\n        window.onpopstate = () => {\n            alert(\"Acaba de abandonar la partida\");\n            window.location.reload(true);\n\n        }\n    })\n\n    return null;\n};\n\n\nfunction Game(props) {\n        console.log(\"Estoy en game\");\n        console.log(conn);\n        //const classes = useStyles();\n\n    /*\n        return (\n\n                    <Grid container spacing={2}>\n                        <Grid item xs={2} direction=\"row\">\n                            <Room></Room>\n                        </Grid>\n                        <Grid item xs={8} >\n                         <Card style={{ color: green[500] }} >\n                             <CardContent>\n\n                                <div>\n                                    <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/Play'}>\n                                        <ArrowBack color=\"primary\"/>\n                                        Volver\n                                    </IconButton>\n                                    <IconButton color=\"secondary\" variant=\"contained\" >\n                                        <HelpOutline color=\"primary\"/>\n\n                                    </IconButton>\n\n                                </div>\n                                <Board></Board>\n\n                             </CardContent>\n                         </Card>\n                        </Grid>\n                        <Chat></Chat>\n                        <BackButtonListener/>\n                    </Grid>\n\n        );\n        */\n    return (\n        <Grid container spacing={2}>\n            <Board></Board>\n            <Chat></Chat>\n            <BackButtonListener/>\n        </Grid>\n\n    );\n}\n\n\nexport default Game;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction CrearSala() {\n    const classes = useStyles();\n\n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Crear Sala</h3>\n            Codigo de la Sala<br/><br/>\n            {imprimirCodigoSala()}\n\n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            <div style={{marginTop: 100}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Game'}\n                >\n                    Empezar Partida\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrás\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default CrearSala;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport TextField from '@material-ui/core/TextField';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction UnirseSala() {\n    const classes = useStyles();\n    const codigo = useFormInput('');\n    return (\n        <Div>\n            <h3>Unirse a Sala</h3>\n            Introduce el código de la sala<br/><br/>\n            <div>\n            <div>\n            <TextField\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"codigo\"\n                          label=\"Codigo\"\n                          name=\"codigo\"\n                          autoComplete=\"codigo\"\n                          autoFocus\n                          {...codigo}\n                          label=\"Código de la sala\"\n                      />\n            </div>\n            </div>\n            <div style={{marginTop: 10}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Sala'}\n                >\n                    Unirme\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrás\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n  \n    const handleChange = e => {\n    console.log(value)\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default UnirseSala;\n","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Sala() {\n    const classes = useStyles();\n    \n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Sala {imprimirCodigoSala()} </h3>\n            <br/><br/>\n            \n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            \n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Salirse\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default Sala;","import React, { useState, useEffect } from 'react';\nimport {Card, CardHeader, Grid} from '@material-ui/core';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {ArrowBack} from \"@material-ui/icons\";\nimport {FixedSizeList} from \"react-window\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken} from \"../Utils/Common\";\nimport axios from \"axios\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport PropTypes from \"prop-types\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\n\n\n\n\n\nfunction Tienda (props){\n    let comprados_tipo = [];\n    let catalogo_tipo_no_reps = [];\n    const [numObj, setnum] = useState(null);\n    const [cat, setCat] = useState(null);\n    let catalogo_tipo = undefined;\n    const classes = useStyles();\n    let coins = props.location.state.actual_coins;\n    console.log(coins);\n    let comprados = props.location.state.comprados;\n    console.log(comprados);\n    let tipo = props.location.state.tipo;\n    console.log(tipo);\n    let header = null;\n\n    if(tipo === \"Avatar\"){\n        header = \"Bienvenido a la Tienda de Avatares\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] == 'a') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo === \"Banner\"){\n        header = \"Bienvenido a la Tienda de Banners\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] === 'b') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo === \"Ficha\"){\n        header = \"Bienvenido a la Tienda de Formas de Ficha\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] === 'f') {\n                comprados_tipo.push(word);\n            }\n        }\n    }\n\n    console.log(comprados_tipo);\n\n\n\n    useEffect(() => {\n       axios.get('https://unitrivia.herokuapp.com/api/tienda/catalogo',{headers: {\n                tipo: tipo\n            }}).then((response) => {\n\n            catalogo_tipo = response.data;\n            console.log(catalogo_tipo);\n            console.log(response.data);\n            console.log(response);\n            //quitamos de la tienda lo que ya tenemos\n            let index = 0;\n            for(let i = 0; i < catalogo_tipo.length; i++){\n                let lo_tengo = false;\n                for(let j = 0; j < comprados_tipo.length; j++){\n                    console.log(catalogo_tipo[i].nombre);\n                    if(catalogo_tipo[i].nombre === comprados_tipo[j]){\n                        lo_tengo = true;\n                    }\n\n                }\n                if(!lo_tengo){\n                    catalogo_tipo_no_reps[index] = catalogo_tipo[i];\n                    index++;\n                }\n            }\n            if(catalogo_tipo_no_reps.length === 0){\n                alert(\"Ya tienes todos los objetos\")\n            }\n            console.log(catalogo_tipo_no_reps.length);\n            setCat(catalogo_tipo_no_reps);\n            setnum(catalogo_tipo_no_reps.length);\n        }).catch((code,message) => {\n            console.log(code.response)\n            console.log(message)\n\n        });\n    }, []);\n\n\n    function renderRow(props){\n        const { index, style } = props;\n        console.log(cat);\n        let precio = cat[index].precio + \" coins\";\n        const clickBuy = () => {\n\n\n            console.log(\"clickado \" + cat[index].nombre);\n            if(cat[index].precio > coins){\n                alert(\"No dispone de suficientes coins para comprar este objeto\");\n            }else{\n                let aceptar = window.confirm(\"Presione en OK para comprar \" + cat[index].nombre + \" por \" + cat[index].precio + \" coins\");\n                if(aceptar === true) {\n                    axios.post('https://unitrivia.herokuapp.com/api/tienda/comprar', {}, {\n                        headers: {\n                            nombre: cat[index].nombre,\n                            jwt: getToken()\n                        }\n                    }).then(response => {\n\n                        //setUserSession(response.data.token, response.data.user);\n                        alert(\"Adquirido\");\n                        setTimeout(function(){console.log(\"esperamos server reaccione\")}, 1000);\n                        window.history.go(-1);\n                    }).catch(error => {\n\n                        alert('Error al cambiar forma de ficha');\n                    });\n                }\n            }\n        }\n\n        let current = undefined;\n        if(tipo === \"Avatar\"){\n            current = '/images/avatars/' + cat[index].nombre + '.jpg';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else if(tipo === \"Banner\"){\n            current = '/images/banners/' + cat[index].nombre + '.jpg';\n            return(\n                <div>\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <img\n                            src={current}\n                            width=\"600\"\n                            height=\"75\"\n                        >\n\n                        </img>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n                </div>\n\n            )\n        }else if(tipo === \"Ficha\"){\n            current = '/images/fichas/' + cat[index].nombre + '.png';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else{\n            return(null);\n        }\n\n    }\n\n    renderRow.propTypes = {\n        index: PropTypes.number.isRequired,\n        style: PropTypes.object.isRequired,\n    };\n    return(\n        <Card>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/profile'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Grid\n                container\n                spacing={2}\n            >\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader=\"Objetos que hay actualmente en la tienda\"\n                        title={header}\n                    />\n                </Grid>\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader={coins}\n                        title=\"Coins\"\n                    />\n                </Grid>\n            </Grid>\n            <List>\n                <div className={classes.demo}>\n                    <FixedSizeList height={300} width={1500} itemSize={80} itemCount={numObj}>\n                        {renderRow}\n                    </FixedSizeList>\n                </div>\n            </List>\n        </Card>\n\n    );\n}\n\n\nexport default Tienda;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nimport Login from './Login';\nimport Home from './Home';\n\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport ChangePassword from \"./ChangePassword\";\nimport Register from \"./Register\";\nimport Menu from \"./Menu\";\nimport Profile from './profile';\nimport NoGuestRoute from \"./Utils/NoGuestRoute\";\nimport Play from \"./Play\";\nimport Game from \"./Game\";\nimport CrearSala from \"./CrearSala\";\nimport UnirseSala from \"./UnirseSala\";\nimport Sala from \"./Sala\";\nimport Tienda from \"./tienda/Tienda\"\n\nfunction App(props) {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    /*axios.get(`http://localhost:4000/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.token, response.data.user);\n      setAuthLoading(false);\n    }).catch(error => {\n      //removeUserSession();\n      setAuthLoading(false);\n    });*/\n    setAuthLoading(false);\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\" >Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/login\" component={Login} />\n              <Route exact path=\"/ChangePassword\" component={ChangePassword} />\n              <Route path=\"/register\" component={Register}/>\n              <PrivateRoute path=\"/Menu\" component={Menu}/>\n              <PrivateRoute path=\"/Play\" component={Play}/>\n              <PrivateRoute path=\"/Game\" component={Game}/>\n              <PrivateRoute path=\"/CrearSala\" component={CrearSala}/>\n              <PrivateRoute path=\"/UnirseSala\" component={UnirseSala}/>\n              <PrivateRoute path=\"/Sala\" component={Sala}/>\n              <NoGuestRoute path=\"/Profile\" component={Profile}/>\n              <NoGuestRoute path=\"/Tienda\" component={Tienda}/>\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n/*\n\n*/\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n//const config = require('./config');\n//const logger = require('./logger');\n//const ExpressServer = require('./expressServer');\n//const bd = require('./utils/DatabaseConnection.js');\n//const bd = require('../utils/DatabaseConnection.js');\n/*\nconst launchServer = async () => {\n    try{\n\n        bd.iniciar(\"mongodb://localhost:27017\", \"UniTrivia\");\n        logger.info(\"Pool Connection initialized\");\n    }catch (err){\n        logger.error(\"Cannot initialize Pool Connection\", err.message)\n        await this.close();\n    }\n    try {\n        this.expressServer = new ExpressServer(config.URL_PORT, config.OPENAPI_YAML);\n        this.expressServer.launch();\n        logger.info('Express server running');\n    } catch (error) {\n        logger.error('Express Server failure', error.message);\n        await this.close();\n    }\n};\n\nlaunchServer().catch(e => logger.error(e));\n*/\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}