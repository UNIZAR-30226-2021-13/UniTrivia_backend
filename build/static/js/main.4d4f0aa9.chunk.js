(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{185:function(e,t,a){},252:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a.n(o),s=(a(185),a(7)),c=a(72),l=a(50),d=a(13),u=a.n(d),h=a(8),j=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},b=function(){return sessionStorage.getItem("token")||null},p=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},g=a(333),m=a(303),x=a(301),f=a(329),O=a(298),v=a(330),y=a(300),k=a(62),w=a.n(k),C=a(42),S=a(299),R=a(1);function A(){return Object(R.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var z=Object(S.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",width:"100%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"},error:{width:"100%",position:"absolute",textAlign:"center",color:"white",backgroundColor:"red"}}}));var W=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}},E=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=(a[0],a[1]),o=W(""),i=W(""),c=Object(n.useState)(!1),l=Object(s.a)(c,2),d=l[0],j=l[1],b=Object(n.useState)(null),p=Object(s.a)(b,2),k=p[0],S=p[1],E=Object(n.useState)(!1),I=Object(s.a)(E,2),P=I[0],D=I[1],T=Object(n.useState)(!1),N=Object(s.a)(T,2),J=N[0],F=N[1],q=z();return Object(R.jsxs)(y.a,{container:!0,component:"main",className:q.root,children:[Object(R.jsx)(x.a,{}),d?Object(R.jsx)("div",{className:q.error,children:k}):null,Object(R.jsx)(y.a,{item:!0,xs:!1,className:q.image}),Object(R.jsx)("div",{className:q.fondo,children:Object(R.jsxs)("div",{className:q.paper,children:[Object(R.jsx)(g.a,{className:q.avatar,children:Object(R.jsx)(w.a,{})}),Object(R.jsx)(C.a,{component:"h1",variant:"h5",children:"Acceder"}),Object(R.jsxs)("form",{className:q.form,noValidate:!0,children:[Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===P,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Usuario",name:"username",autoComplete:"username",autoFocus:!0},o),{},{helperText:P?"introduce el usario":""})),Object(R.jsx)(f.a,Object(h.a)({error:!0===J,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",helperText:J?"introduce la contrase\xf1a":""},i)),Object(R.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){S(null),r(!0),""===o.value?D(!0):D(!1),""===i.value?F(!0):F(!1),""!==o.value&&""!==i.value&&u.a.get("https://unitrivia.herokuapp.com/api/login",{headers:{username:o.value,password:i.value}}).then((function(t){var a,n;r(!1),console.log(t),a=t.data,n=o.value,sessionStorage.setItem("token",a),sessionStorage.setItem("user",JSON.stringify(n)),e.history.push("/menu")})).catch((function(e){r(!1),e.response.status,j(!0),S("El Ususario o la contrase\xf1a se han introducido incorrectamente")}))},children:"Acceder"}),Object(R.jsxs)(y.a,{container:!0,children:[Object(R.jsx)(y.a,{item:!0,xs:!0,children:Object(R.jsx)(O.a,{href:"/changepassword",variant:"body2",children:"Olvidaste la contrase\xf1a?"})}),Object(R.jsx)(y.a,{item:!0,children:Object(R.jsx)(O.a,{href:"/register",variant:"body2",children:"No tienes cuenta? Reg\xedstrate"})})]}),Object(R.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){S(null),r(!0),u.a.get("https://unitrivia.herokuapp.com/api/logAsGuest").then((function(t){var a;r(!1),a=t.data,sessionStorage.setItem("token",a),e.history.push("/menu")})).catch((function(e){r(!1),alert(e.message),401===e.response.status?(S(e.response.data.message),console.log(e)):(j(!0),S("Something went wrong. Please try again later."),console.log(e))}))},children:"Acceder como invitado"}),Object(R.jsx)(v.a,{mt:5,children:Object(R.jsx)(A,{})})]})]})})]})},I=a(15),P=(a(304),a(305),a(306));Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var D,T=a(16),N=a(74),J=T.a.nav(D||(D=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}));var F=function(e){return Object(n.useEffect)((function(){}),[]),Object(R.jsx)(r.a.Fragment,{children:Object(R.jsxs)(y.a,{container:!0,children:[Object(R.jsx)(y.a,{item:!0,xs:4,children:Object(R.jsxs)(J,{open:!0,children:[Object(R.jsx)("h1",{children:"UNITRIVIA"}),Object(R.jsx)("h2",{}),Object(R.jsxs)(m.a,{href:"/Login",children:[Object(R.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83d\udd13"}),"LOGIN"]}),Object(R.jsxs)(m.a,{href:"/Register",children:[Object(R.jsx)("span",{role:"img","aria-label":"price",children:"\u270f\ufe0f"}),"SIGN UP"]}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsxs)(y.a,{container:!0,style:{align:"center"},children:[Object(R.jsx)(y.a,{item:!0,xs:6,children:Object(R.jsx)(N.a,{trigger:Object(R.jsxs)(m.a,{style:{fontSize:"1rem"},children:[Object(R.jsx)("span",{role:"img","aria-label":"price",children:"\ud83c\udfa8\ufe0f"}),"Autores"]}),position:"right bottom",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"ALEJANDRO ARTAL"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"DANIEL BENED\xcd"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"DIEGO BIELSA"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"\xd3SCAR G\xd3MEZ"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"IB\xd3N CA\xd1ETE"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"V\xcdCTOR HERNANDEZ"})})]})})}),Object(R.jsx)(y.a,{item:!0,xs:6,children:Object(R.jsx)(N.a,{contentStyle:{width:"1000px",height:"600px"},trigger:Object(R.jsxs)(m.a,{style:{fontSize:"1rem"},children:[Object(R.jsx)("span",{role:"img","aria-label":"price",children:"\u2694"}),"Reglas"]}),position:"right bottom",children:Object(R.jsxs)("div",{style:{width:"1000px",height:"600px"},children:[Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"El juego permite de 2-6 jugadores."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Se jugar\xe1 de forma individual."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Las preguntas contar\xe1n con un l\xedmite de tiempo de 60 segundos."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"El juego se desarrollar\xe1 sobre un tablero reducido."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"El orden de comienzo de los jugadores ser\xe1 aleatorio."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Cuando llegue el turno del jugador, realizar\xe1 una tirada de dados, en funci\xf3n del valor le permitir\xe1 moverse hacia cualquier direcci\xf3n legal."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Un movimiento legal est\xe1 definido por:"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Se puede mover en sentido horario o antihorario y en caso de estar en un radio avanzar hacia el anillo o el centro pero no se puede ni ocupar ni atravesar esta casilla."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Se puede ir de un radio al anillo exterior."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"No se puede invertir el sentido en medio de un movimiento."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"No se puede volver a los radios una vez has salido al anillo exterior."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Si el jugador cae en una casilla de dado el jugador deber\xe1 tirar de nuevo y realizar un movimiento en cualquier direcci\xf3n legal"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Si el jugador cae en una casilla normal se le plantea una pregunta correspondiente a la categor\xeda del color, en caso de responder correctamente podr\xe1 tirar de nuevo."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Si el jugador cae en una casilla de quesito se le plantea una pregunta correspondiente a la categor\xeda del color, en caso de responder correctamente podr\xe1 tirar de nuevo y ganar\xe1 un quesito del color correspondiente en caso de no tenerlo."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Si el jugador responde err\xf3neamente a la pregunta dar\xe1 por finalizado su turno."})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"Cuando un jugador consigue los 6 quesitos se proclama vencedor y acaba el juego."})})]})})})]})]})}),Object(R.jsx)(y.a,{item:!0,xs:6,style:{height:"80vh",width:"120vh",display:"flex"},children:Object(R.jsx)("img",{src:"/images/tablero/tablero.png"})})]})})},q=a(63);var M=function(e){var t=e.component,a=Object(q.a)(e,["component"]);return Object(R.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return b()?Object(R.jsx)(t,Object(h.a)({},e)):Object(R.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var B=a(307);function U(){return Object(R.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var G=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var V=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}},H=function(e){var t=V(""),a=V(""),r=V(""),o=Object(n.useState)(null),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),b=j[0],p=j[1],O=Object(n.useState)(!1),k=Object(s.a)(O,2),S=k[0],A=k[1],z=Object(n.useState)(!1),W=Object(s.a)(z,2),E=W[0],I=W[1],P=G();return Object(R.jsxs)(B.a,{component:"main",maxWidth:"xs",className:P.root,children:[Object(R.jsx)(x.a,{}),Object(R.jsxs)("div",{className:P.paper,children:[Object(R.jsx)(C.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(R.jsx)(g.a,{className:P.avatar,children:Object(R.jsx)(w.a,{})}),Object(R.jsx)(C.a,{component:"h1",variant:"h5",children:"He olvidado mi contrase\xf1a"}),Object(R.jsxs)("form",{className:P.form,noValidate:!0,children:[Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(y.a,{item:!0,xs:12,spacing:2,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:b,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},t),{},{helperText:b?"Introduzca el usuario":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,spacing:2,children:Object(R.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==t.value?p(!0):(p(!1),u.a.get("https://unitrivia.herokuapp.com/api/login/recover/question",{headers:{username:t.value}}).then((function(e){console.log(e),l(e.data)})).catch((function(e){alert("Error al recuperar pregunta, usuario no existe")})))}catch(e){alert(e.message)}},children:"Recuperar pregunta"})}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,{variant:"outlined",disabled:!0,fullWidth:!0,value:c,id:"question",name:"question",defaultValue:"---",label:"Pregunta de seguridad"})}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:E,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},a),{},{helperText:E?"Introduzca la respuesta":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:S,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Nueva contrase\xf1a",type:"password",id:"password"},r),{},{helperText:S?"Introduzca la nueva contrase\xf1a":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12})]}),Object(R.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==t.value||""==a.value||""==r.value?(""==t.value?p(!0):p(!1),""==a.value?I(!0):I(!1),""==r.value?A(!0):A(!1)):(p(!1),I(!1),A(!1),u.a.post("https://unitrivia.herokuapp.com/api/login/recover/password",{},{headers:{username:t.value,res:a.value,newpassword:r.value}}).then((function(t){e.history.push("/login")})).catch((function(e){alert("Error al validar respuesta, revise la respuesta introducida")})))}catch(n){alert(n.message)}},children:"Confirmar"})]})]}),Object(R.jsx)(v.a,{mt:5,children:Object(R.jsx)(U,{})})]})};function L(){return Object(R.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var _=Object(S.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",height:"110%",width:"200%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"}}})),X=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}};function Y(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=(a[0],a[1]),o=Object(n.useState)(null),i=Object(s.a)(o,2),c=(i[0],i[1]),l=X(""),d=X(""),j=X(""),b=X(""),p=X(""),x=X(""),k=Object(n.useState)(!1),S=Object(s.a)(k,2),A=S[0],z=S[1],W=Object(n.useState)(!1),E=Object(s.a)(W,2),I=E[0],P=E[1],D=Object(n.useState)(!1),T=Object(s.a)(D,2),N=T[0],J=T[1],F=Object(n.useState)(!1),q=Object(s.a)(F,2),M=q[0],B=q[1],U=Object(n.useState)(!1),G=Object(s.a)(U,2),V=G[0],H=G[1],Y=Object(n.useState)(!1),Q=Object(s.a)(Y,2),K=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),re=Object(s.a)(ne,2),oe=re[0],ie=re[1],se=(new RegExp("/S+@S+.S+/"),_());return Object(R.jsxs)(y.a,{container:!0,component:"main",className:se.root,children:[Object(R.jsx)(y.a,{item:!0,xs:!1,className:se.image}),Object(R.jsx)("div",{className:se.fondo,children:Object(R.jsxs)("div",{className:se.paper,children:[Object(R.jsx)(C.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(R.jsx)(g.a,{className:se.avatar,children:Object(R.jsx)(w.a,{})}),Object(R.jsx)(C.a,{component:"h1",variant:"h5",children:"Reg\xedstrate"}),Object(R.jsxs)("form",{className:se.form,noValidate:!0,children:[Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===A,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},l),{},{helperText:A?"introduce el usario":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===N,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"},d),{},{helperText:N?"introduce el email":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===I,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"},j),{},{helperText:I?"introduce la contrase\xf1a":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===K||!0===te,variant:"outlined",required:!0,fullWidth:!0,name:"reppassword",label:"Repetir contrase\xf1a",type:"password",id:"reppassword",autoComplete:"current-password"},b),{},{helperText:!0===K||!0===te?oe:""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===M,variant:"outlined",required:!0,fullWidth:!0,id:"question",label:"Pregunta de seguridad",name:"question"},p),{},{helperText:M?"introduce la pregunta de seguridad":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12,children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({error:!0===V,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},x),{},{helperText:V?"introduce la respuesta a la pregunta de seguridad":""}))}),Object(R.jsx)(y.a,{item:!0,xs:12})]}),Object(R.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){c(null),r(!0),""===l.value?z(!0):z(!1),""===j.value?P(!0):P(!1),""===d.value?J(!0):J(!1),""===p.value?B(!0):B(!1),""===x.value?H(!0):H(!1),""===b.value?(ae(!0),ie("introduce la contrase\xf1a")):ae(!1),j.value!==b.value?(Z(!0),ie("las contrase\xf1as no coinciden")):Z(!1),""!==l.value&&""!==j.value&&""!==d.value&&""!==p.value&&""!==x.value&&j.value===b.value&&u.a.post("https://unitrivia.herokuapp.com/api/register",{},{headers:{username:l.value,password:j.value,email:d.value,preg:p.value,res:x.value}}).then((function(t){console.log(t.data),console.log(t),r(!1),e.history.push("/login")})).catch((function(e){r(!1),console.log(e.response),400===e.response.status?(c(e.response.data.message),alert("usuario existente")):c("Something went wrong. Please try again later.")}))},children:"Registrarse"}),Object(R.jsx)(y.a,{container:!0,justify:"flex-end",children:Object(R.jsx)(y.a,{item:!0,children:Object(R.jsx)(O.a,{href:"/login",variant:"body2",children:"Ya tienes una cuenta? Accede"})})})]})]})}),Object(R.jsx)(v.a,{mt:5,children:Object(R.jsx)(L,{})})]})}var Q,K,Z,$,ee=a(308),te=a(309),ae=(T.a.button(Q||(Q=Object(I.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),T.a.div(K||(K=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),T.a.nav(Z||(Z=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),ne=(T.a.a($||($=Object(I.a)(["\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n"]))),Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));var re=function(){return ne(),Object(R.jsx)(ee.a,{children:Object(R.jsx)(te.a,{children:Object(R.jsxs)(ae,{open:!0,children:[Object(R.jsx)("h1",{children:"UNITRIVIA"}),Object(R.jsx)("h2",{children:"MEN\xda"}),Object(R.jsxs)(m.a,{href:"/Play",children:[Object(R.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83c\udfae\ufe0f"}),"JUGAR"]}),Object(R.jsxs)(m.a,{href:"/profile",disabled:null==j(),children:[Object(R.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udc87\u200d\u2640\ufe0f"}),"PERFIL"]}),Object(R.jsxs)(m.a,{href:"/Login",onClick:p,children:[Object(R.jsx)("span",{role:"img","aria-label":"contact",children:"\u274c"}),"CERRAR SESI\xd3N"]})]})})})},oe=a(162),ie=(a(212),Object(S.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(13),height:e.spacing(13)}}})));var se=function(e){var t=ie(),a=e,n="/images/avatars/"+e.avatar+".jpg",r="/images/banners/"+e.banner+".jpg",o="/images/fichas/"+e.ficha+".png";return console.log(n),console.log(r),console.log(o),Object(R.jsx)(ee.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(R.jsx)(te.a,{children:Object(R.jsxs)(v.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(R.jsxs)(y.a,{container:!0,spacing:3,children:[Object(R.jsx)(y.a,{item:!0,md:6,xs:6,children:Object(R.jsx)(g.a,{title:"Avatar",src:n,className:t.large})}),Object(R.jsx)(y.a,{item:!0,sm:3,xs:6,children:Object(R.jsx)(g.a,{title:"Forma Ficha",src:o,className:t.large})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)("img",{title:"Banner",src:r,sx:{alignItems:"center",display:"flex",flexDirection:"row"},width:"800",height:"300"})})]}),Object(R.jsx)(C.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:a.user}),Object(R.jsx)(C.a,{color:"textSecondary",variant:"body1",children:"".concat(a.mail," ")})]})})}))},ce=a(310),le=a(311);var de=function(e){var t=e;return Object(R.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(R.jsxs)(ee.a,{children:[Object(R.jsx)(ce.a,{subheader:"Informaci\xf3n del usuario",title:"Perfil"}),Object(R.jsx)(le.a,{}),Object(R.jsx)(te.a,{children:Object(R.jsxs)(y.a,{container:!0,spacing:3,children:[Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,value:t.user,disabled:!0,id:"outlined-disabled",label:"Usuario",defaultValue:"Hello World",variant:"outlined"})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,value:t.mail,disabled:!0,id:"outlined-disabled",label:"Email",defaultValue:"Hello World",variant:"outlined"})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,value:t.pregu,disabled:!0,id:"outlined-disabled",label:"Pregunta de seguridad",defaultValue:"Hello World",variant:"outlined"})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,value:t.resu,disabled:!0,id:"outlined-disabled",label:"Respuesta",defaultValue:"Hello World",variant:"outlined"})})]})}),Object(R.jsx)(le.a,{})]})}))},ue=a(87),he=function(e){var t=Object(n.useState)({oldpassword:"",password:"",confirm:""}),a=Object(s.a)(t,2),r=a[0],o=a[1],i=function(e){o(Object(h.a)(Object(h.a)({},r),{},Object(ue.a)({},e.target.name,e.target.value)))},c=function(){u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/password",{},{headers:{jwt:b(),newpassword:r.password,oldpassword:r.oldpassword}}).then((function(e){console.log(e),alert("Contrase\xf1a cambiada exitosamente"),window.location.reload(!0)})).catch((function(e){alert(e.message)}))};return Object(R.jsx)("form",Object(h.a)(Object(h.a)({},e),{},{onSubmit:c,children:Object(R.jsxs)(ee.a,{children:[Object(R.jsx)(ce.a,{subheader:"Update password",title:"Password"}),Object(R.jsx)(le.a,{}),Object(R.jsxs)(te.a,{children:[Object(R.jsx)(f.a,{fullWidth:!0,label:"Old password",margin:"normal",name:"oldpassword",onChange:i,type:"password",value:r.oldpassword,variant:"outlined"}),Object(R.jsx)(f.a,{fullWidth:!0,label:"New Password",margin:"normal",name:"password",onChange:i,type:"password",value:r.password,variant:"outlined"}),Object(R.jsx)(f.a,{fullWidth:!0,label:"Confirm new password",margin:"normal",name:"confirm",onChange:i,type:"password",value:r.confirm,variant:"outlined"})]}),Object(R.jsx)(le.a,{}),Object(R.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(R.jsx)(m.a,{color:"primary",variant:"contained",onClick:c,children:"Update"})})]})}))};var je=function(e){var t=e;return Object(R.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(R.jsxs)(ee.a,{children:[Object(R.jsx)(ce.a,{subheader:"Estad\xedsticas del usuario",title:"Estad\xedsticas"}),Object(R.jsx)(le.a,{}),Object(R.jsx)(te.a,{children:Object(R.jsxs)(y.a,{container:!0,spacing:3,children:[Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,label:"Partidas jugadas",name:"firstName",defaultValue:"0",value:t.jugadas,variant:"outlined",disabled:!0})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,label:"Coins",name:"question",value:t.coins,defaultValue:"0",variant:"outlined",disabled:!0})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,label:"Partidas ganadas",name:"email",defaultValue:"0",value:t.ganadas,variant:"outlined",disabled:!0})}),Object(R.jsx)(y.a,{item:!0,md:6,xs:12,children:Object(R.jsx)(f.a,{fullWidth:!0,label:"Partidas Perdidas",name:"question",value:t.jugadas-t.ganadas,defaultValue:"0",variant:"outlined",disabled:!0})})]})}),Object(R.jsx)(le.a,{})]})}))},be=a(302),pe=a(312),ge=a(313),me=a(314),xe=a(317),fe=a(318),Oe=a(66),ve=a(315),ye=a(316),ke=[],we=[],Ce=[],Se=Object(S.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function Re(e){var t=e.index,a=e.style,n="/images/avatars/"+ke[t]+".jpg";return Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:function(){console.log("avatar clickado"),console.log(String(ke[t])),!0===window.confirm("Presione en OK para cambiar su Avatar")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/avatar",{},{headers:{jwt:b(),idavatar:String(ke[t])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar avatar")}))},children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{src:n})}),Object(R.jsx)(me.a,{primary:ke[t]})]},t)}function Ae(e){var t=e.index,a=e.style,n="/images/banners/"+we[t]+".jpg";return Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:function(){console.log("banner clickado"),console.log(String(we[t])),!0===window.confirm("Presione en OK para cambiar su Banner")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/banner",{},{headers:{jwt:b(),idbanner:String(we[t])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar banner")}))},children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)("img",{src:n,width:"300",height:"50"})}),Object(R.jsx)(me.a,{primary:we[t]})]},t)}function ze(e){var t=e.index,a=e.style,n="/images/fichas/"+Ce[t]+".png";return Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:function(){console.log("ficha clickado"),console.log(String(Ce[t])),!0===window.confirm("Presione en OK para cambiar su Forma de Ficha")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/formFicha",{},{headers:{jwt:b(),idformficha:String(Ce[t])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{src:n})}),Object(R.jsx)(me.a,{primary:Ce[t]})]},t)}var We=function(e){var t=e.comprados,a=e.coins,r=Se(),o=Object(n.useState)(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(!1),p=Object(s.a)(b,2),g=p[0],x=p[1];if(null!=t){console.log(t),console.log(a),ke=[],we=[],Ce=[];for(var f=0;f<t.length;f++){var O=t[f];"a"==O[0]?ke.push(O):"b"==O[0]?we.push(O):"f"==O[0]&&Ce.push(O)}}return Object(R.jsxs)(ee.a,{children:[Object(R.jsx)(ce.a,{subheader:"Objetos adquiridos por el usuario",title:"Objetos"}),Object(R.jsxs)(be.a,{children:[Object(R.jsxs)("div",{className:r.demo,children:[Object(R.jsxs)(pe.a,{button:!0,onClick:function(){l(!c)},children:[Object(R.jsx)(me.a,{primary:"Avatares"}),c?Object(R.jsx)(ve.a,{}):Object(R.jsx)(ye.a,{})]}),Object(R.jsx)(xe.a,{in:c,timeout:"auto",children:Object(R.jsx)(Oe.a,{height:100,width:800,itemSize:46,itemCount:ke.length,children:Re})})]}),Object(R.jsxs)("div",{className:r.demo,children:[Object(R.jsxs)(pe.a,{button:!0,onClick:function(){j(!h)},children:[Object(R.jsx)(me.a,{primary:"Banners"}),h?Object(R.jsx)(ve.a,{}):Object(R.jsx)(ye.a,{})]}),Object(R.jsx)(xe.a,{in:h,timeout:"auto",children:Object(R.jsx)(Oe.a,{height:100,width:800,itemSize:46,itemCount:we.length,children:Ae})})]}),Object(R.jsxs)("div",{className:r.demo,children:[Object(R.jsxs)(pe.a,{button:!0,onClick:function(){x(!g)},children:[Object(R.jsx)(me.a,{primary:"Formas de ficha"}),g?Object(R.jsx)(ve.a,{}):Object(R.jsx)(ye.a,{})]}),Object(R.jsx)(xe.a,{in:g,timeout:"auto",children:Object(R.jsx)(Oe.a,{height:100,width:800,itemSize:46,itemCount:Ce.length,children:ze})})]})]}),Object(R.jsxs)(fe.a,{children:[Object(R.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Avatar")},children:"Obtener Avatares"}),Object(R.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Banner")},children:"Obtener Banners"}),Object(R.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Ficha")},children:"Obtener Fichas"})]})]})},Ee=a(319),Ie=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Pe=function(e){Ie();var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(),c=Object(s.a)(i,2),l=c[0],d=c[1],h=Object(n.useState)(null),j=Object(s.a)(h,2),g=j[0],x=j[1],f=Object(n.useState)(null),O=Object(s.a)(f,2),k=O[0],w=O[1],C=Object(n.useState)(null),S=Object(s.a)(C,2),A=S[0],z=S[1],W=Object(n.useState)(null),E=Object(s.a)(W,2),I=E[0],D=E[1],T=Object(n.useState)(null),N=Object(s.a)(T,2),J=N[0],F=N[1],q=Object(n.useState)(null),M=Object(s.a)(q,2),U=M[0],G=M[1],V=Object(n.useState)(null),H=Object(s.a)(V,2),L=H[0],_=H[1],X=Object(n.useState)(null),Y=Object(s.a)(X,2),Q=Y[0],K=Y[1],Z=Object(n.useState)(null),$=Object(s.a)(Z,2),ee=$[0],te=$[1];return Object(n.useEffect)((function(){u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){o(e.data.preg),d(e.data.res),x(e.data.cns),w(e.data.ng),z(e.data.fich),D(e.data.bnr),F(e.data.rfs),G(e.data.avtr),_(e.data.nj),K(e.data.mail),te(e.data._id),console.log(e.data),console.log(e)})).catch((function(e,t){console.log(e.response)}))}),[]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(oe.a,{children:Object(R.jsx)("title",{children:"Account | Material Kit"})}),Object(R.jsxs)(P.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/menu",children:[Object(R.jsx)(Ee.a,{color:"primary"}),"Volver"]}),Object(R.jsx)(v.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(R.jsx)(B.a,{maxWidth:"lg",children:Object(R.jsxs)(y.a,{container:!0,spacing:3,children:[Object(R.jsx)(y.a,{item:!0,lg:8,md:6,xs:12,children:Object(R.jsx)(se,{user:ee,mail:Q,avatar:U,banner:I,ficha:A})}),Object(R.jsx)(y.a,{item:!0,lg:8,md:6,xs:12,children:Object(R.jsx)(de,{user:ee,mail:Q,pregu:r,resu:l})}),Object(R.jsx)(y.a,{item:!0,lg:8,md:6,xs:12,children:Object(R.jsx)(je,{jugadas:L,ganadas:k,coins:g})}),Object(R.jsx)(y.a,{item:!0,lg:8,md:6,xs:12,children:Object(R.jsx)(We,{comprados:J,coins:g,onResponse:function(t){"Avatar"===t?e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Avatar"}}):"Banner"===t?e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Banner"}}):"Ficha"===t&&e.history.push({pathname:"/Tienda",state:{actual_coins:g,comprados:J,tipo:"Ficha"}})}.bind()})}),Object(R.jsx)(y.a,{item:!0,lg:8,md:6,xs:12,children:Object(R.jsx)(v.a,{sx:{pt:3},children:Object(R.jsx)(he,{})})}),Object(R.jsx)(m.a,{color:"primary",variant:"contained",onClick:function(){try{!0===window.confirm("Presione en OK para borrar cuenta para siempre")&&u.a.delete("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(t){console.log(t),p(),e.history.push("/login")})).catch((function(e){alert(e.message),console.log(e)}))}catch(t){alert(t.message)}},children:"Borrar usuario"})]})})})]})};var De,Te,Ne,Je=function(e){var t=e.component,a=Object(q.a)(e,["component"]);return Object(R.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return b()&&j()?Object(R.jsx)(t,Object(h.a)({},e)):Object(R.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Fe=a(77),qe=(a(243),a(331)),Me=a(320),Be=a(321),Ue=a(322),Ge="https://unitrivia.herokuapp.com/api/partida",Ve=void 0,He=(T.a.button(De||(De=Object(I.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),T.a.div(Te||(Te=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),T.a.nav(Ne||(Ne=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),Le=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var _e=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}},Xe=function(e){var t=Le(),a=Object(n.useState)(null),r=Object(s.a)(a,2),o=(r[0],r[1],Object(n.useState)(!1)),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),p=j[0],g=j[1],x=_e("");Object(n.useEffect)((function(){}),[]);var O=function(){l(!c)};return u.a.get(Ge+"/reconexion",{headers:{jwt:b()}}).then((function(e){g(""!==e.data)})).catch((function(e,t){console.assert(!1,e.response)})),Object(R.jsx)(ee.a,{children:Object(R.jsx)(te.a,{children:Object(R.jsxs)(He,{open:!0,children:[Object(R.jsx)("h1",{children:"UNITRIVIA"}),Object(R.jsx)("h2",{children:"JUGAR"}),Object(R.jsxs)(m.a,{onClick:function(){(Ve=Object(Fe.io)(Ge,{extraHeaders:{jwt:b(),operacion:"buscarPartida"}})).on("connect",(function(){console.assert(!1,Ve.connected),console.assert(!1,Ve.disconnected),console.assert(!1,Ve.nsp),console.assert(!1,Ve),!0===Ve.connected?(console.assert(!1,"Conectado"),e.history.push("/Game")):(console.assert(!1,"No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:p,children:[Object(R.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83d\udd0e"}),"PARTIDA ALEATORIA"]}),Object(R.jsxs)(m.a,{onClick:function(){console.assert(!1,"comienza crearSala"),(Ve=Object(Fe.io)(Ge,{extraHeaders:{jwt:b(),operacion:"crearSala",priv:"true"}})).on("connect",(function(){console.assert(!1,Ve.connected),console.assert(!1,Ve.disconnected),console.assert(!1,Ve.nsp),console.assert(!1,Ve),!0===Ve.connected?(console.assert(!1,"Conectado"),e.history.push("/Game")):(console.assert(!1,"No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:p,children:[Object(R.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udee0"}),"CREAR SALA"]}),Object(R.jsxs)(m.a,{onClick:O,disabled:p,children:[Object(R.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83e\udd1d"}),"UNIRSE A SALA"]}),Object(R.jsxs)(qe.a,{isOpen:1==c,children:[Object(R.jsx)(Me.a,{children:"Escriba el c\xf3digo de sala"}),Object(R.jsx)(Be.a,{children:Object(R.jsx)("form",{className:t.form,noValidate:!0,children:Object(R.jsx)(f.a,Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"C\xf3digo",name:"code",autoComplete:"Codigo",autoFocus:!0},x))})}),Object(R.jsxs)(Ue.a,{children:[Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var t=x.value;console.assert(!1,t),(Ve=Object(Fe.io)(Ge,{extraHeaders:{jwt:b(),operacion:"unirseSala",sala:t}})).on("connect",(function(){console.assert(!1,Ve.connected),console.assert(!1,Ve.disconnected),console.assert(!1,Ve.nsp),console.assert(!1,Ve),!0===Ve.connected?(console.assert(!1,"Conectado"),e.history.push("/Game")):(console.assert(!1,"No conectado"),alert("Fallo al conectar con el servidor"))}))},children:"Confirmar C\xf3digo"}),Object(R.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",onClick:O,children:"Cerrar"})]})]}),Object(R.jsxs)(m.a,{onClick:function(){console.assert(!1,Ve),Ve=void 0,console.assert(!1,Ve);Ve=Object(Fe.io)(Ge,{extraHeaders:{jwt:b(),operacion:"reconexion"}}),console.assert(!1,Ve),Ve.on("connect",(function(){1==Ve.connected?(console.assert(!1,"Conectado"),e.history.push("/Game")):(console.assert(!1,"no conectado"),alert("Fallo al reconectar a partida"))}))},disabled:!p,children:[Object(R.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83d\udd04"}),"RECONECTAR"]}),Object(R.jsxs)("a",{href:"/Menu",children:[Object(R.jsx)("span",{role:"img","aria-label":"contact",children:"\u2b05"}),"ATR\xc1S"]})]})})})},Ye=a(55);a(251);var Qe=function(e){return console.log("estoy en chat"),console.log(Ve),Ve.on("nuevoJugador",(function(e){var t=e.jugador;Object(Ye.addResponseMessage)("El jugador "+t+" ha entrado a la sala.")})),Ve.on("reconexionJugador",(function(e){var t=e.jugador;Object(Ye.addResponseMessage)("El jugador "+t+" se ha reconectado.")})),Ve.on("abandonoSala",(function(e){Object(Ye.addResponseMessage)("El jugador "+e+" ha abandonado la sala.")})),Ve.on("jugadorSale",(function(e){Object(Ye.addResponseMessage)("El jugador "+e+" ha abandonado la partida")})),Ve.on("chat",(function(e){var t="Mensaje de "+e.usuario+": "+e.msg;Object(Ye.addResponseMessage)(t)})),Object(R.jsx)("div",{className:"Chat",children:Object(R.jsx)(Ye.Widget,{handleNewUserMessage:function(e){console.log("New message incomig! ".concat(e)),Ve.emit("mensaje","".concat(e))},title:"CHAT",subtitle:"Chat de la sala actual"})})};a(252);var Ke=function(e){var t=[];return console.log(e.color),e.color.forEach((function(e){t.push(Object(R.jsx)("div",{className:"piece "+e}))})),Object(R.jsx)("div",{className:"cheese",children:t})},Ze=a(323);Object(S.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var $e,et,tt=a(93),at=a(94),nt=a(96),rt=a(95),ot=a(76),it=a(166),st=a.n(it),ct=a(168),lt=T.a.h1($e||($e=Object(I.a)(["\n  margin-top: 4em;\n  font-size: 48px;\n"]))),dt=T.a.p(et||(et=Object(I.a)(["\n  font-size: 24px;\n  margin-bottom: 3em;\n"])));var ut,ht,jt,bt,pt=function(e){var t;return t=1===e.pts?"CORRECTA":"INCORRECTA",Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(lt,{children:"Resultado"}),Object(R.jsxs)(dt,{children:["Respuesta ",t]})]})},gt=T.a.div(ut||(ut=Object(I.a)(["\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n"]))),mt=T.a.div(ht||(ht=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),xt=T.a.button(jt||(jt=Object(I.a)(["\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n"]))),ft=T.a.div(bt||(bt=Object(I.a)(["\n  width: 70%;\n  margin: 0 auto;\n"])));var Ot=function(e){var t=e.pregunta.pregunta.pregunta,a=e.pregunta.pregunta.resps_inc,r=e.pregunta.pregunta.resp_c;console.log(r);var o=Object(n.useState)([]),i=Object(s.a)(o,2),c=i[0],l=i[1],d=Object(n.useState)(0),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(0),p=Object(s.a)(b,2),g=p[0],m=p[1],x=function(t){console.log(t);var a=t.target.innerText;console.log(t.target.innerText),console.log(c[h]),console.log(a),c[h].answer===a?(m(g+1),e.onResponse({result:1,casillaInfo:e.pregunta})):(console.log("fallaste"+c[h].answer+" "+a),e.onResponse({result:0,casillaInfo:e.pregunta})),j(h+1)};return Object(n.useEffect)((function(){var e,n={question:t,options:(e=[].concat(Object(ct.a)(a),[r]),e.sort((function(){return Math.random()-.5}))),answer:r};l([n])}),[]),Object(R.jsx)("div",{children:Object(R.jsxs)(gt,{children:[c[h]&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ft,{dangerouslySetInnerHTML:{__html:c[h].question}}),Object(R.jsx)(mt,{children:c[h].options.map((function(e,t){return Object(R.jsx)(xt,{dangerouslySetInnerHTML:{__html:e},onClick:x},t)}))})]}),1===h&&Object(R.jsx)(pt,{pts:g})]})})},vt=a(78),yt=a.n(vt);function kt(e,t,a,n){for(var r=[],o=yt()("rgb(".concat(e,", ").concat(t,", ").concat(a,")")).toHsl(),i=9;i>1;i-=8/n)o.l=.1*i,r.push(yt()(o).toRgb());return r}function wt(e){return yt()(e).toRgb()}function Ct(e,t){return{inside:function(a){return a>=e&&a<=t}}}function St(e){return yt()(e).toRgbString()}function Rt(e,t){return e-t/2}function At(e,t,a){var n;return 59===e&&56===t&&135===a?n=0:255===e&&255===t&&255===a?n=1:0===e&&136===t&&19===a?n=2:0===e&&145===t&&226===a?n=3:255===e&&100===t&&0===a?n=10:255===e&&255===t&&254===a?n=11:236===e&&215===t&&0===a?n=12:0===e&&136===t&&18===a?n=13:0===e&&145===t&&225===a?n=20:255===e&&255===t&&253===a?n=21:255===e&&100===t&&1===a?n=22:0===e&&145===t&&224===a?n=23:0===e&&136===t&&17===a?n=30:255===e&&255===t&&252===a?n=31:236===e&&215===t&&1===a?n=32:59===e&&56===t&&134===a?n=33:255===e&&0===t&&235===a?n=40:255===e&&255===t&&251===a?n=41:255===e&&0===t&&234===a?n=42:59===e&&56===t&&133===a?n=43:236===e&&215===t&&2===a?n=50:255===e&&255===t&&250===a?n=51:255===e&&0===t&&233===a?n=52:255===e&&100===t&&2===a?n=53:255===e&&100===t&&3===a?n=63:236===e&&215===t&&3===a?n=62:0===e&&145===t&&223===a?n=61:255===e&&0===t&&237===a?n=73:0===e&&136===t&&16===a?n=72:0===e&&145===t&&221===a?n=71:59===e&&56===t&&132===a?n=83:255===e&&0===t&&238===a?n=82:255===e&&100===t&&4===a?n=81:236===e&&215===t&&4===a?n=93:255===e&&0===t&&236===a?n=92:0===e&&145===t&&222===a?n=91:255===e&&100===t&&5===a?n=103:59===e&&56===t&&131===a?n=102:0===e&&136===t&&15===a?n=101:0===e&&136===t&&14===a?n=113:59===e&&56===t&&130===a?n=112:255===e&&0===t&&239===a&&(n=111),n}function zt(e,t){var a={x:0,y:0};switch(e){case 0:a.x=222.5,a.y=4.6875+7*t;break;case 1:a.x=284.5,a.y=11.6875+7*t;break;case 2:a.x=344.5,a.y=23.6875+7*t;break;case 3:a.x=401.5,a.y=57.6875+7*t;break;case 10:a.x=435.5,a.y=111.6875+7*t;break;case 11:a.x=449.5,a.y=166.6875+7*t;break;case 12:a.x=454.5,a.y=220.6875+7*t;break;case 13:a.x=451.5,a.y=278.6875+7*t;break;case 20:a.x=436.5,a.y=332.6875+7*t;break;case 21:a.x=404.5,a.y=378.6875+7*t;break;case 22:a.x=343.5,a.y=428.6875+7*t;break;case 23:a.x=287.5,a.y=448.6875+7*t;break;case 30:a.x=229.5,a.y=450.6875+7*t;break;case 31:a.x=175.5,a.y=443.6875+7*t;break;case 32:a.x=124.5,a.y=423.6875+7*t;break;case 33:a.x=82.5,a.y=385.6875+7*t;break;case 40:a.x=38.5,a.y=341.6875+7*t;break;case 41:a.x=15.5,a.y=286.6875+7*t;break;case 42:a.x=5.5,a.y=223.6875+7*t;break;case 43:a.x=15.5,a.y=167.6875+7*t;break;case 50:a.x=49.5,a.y=108.6875+7*t;break;case 51:a.x=82.5,a.y=67.6875+7*t;break;case 52:a.x=118.5,a.y=38.6875+7*t;break;case 53:a.x=169.5,a.y=13.6875+7*t;break;case 61:a.x=230.5,a.y=62.6875+7*t;break;case 62:a.x=230.5,a.y=113.6875+7*t;break;case 63:a.x=231.5,a.y=161.6875+7*t;break;case 71:a.x=377.5,a.y=145.6875+7*t;break;case 72:a.x=330.5,a.y=170.6875+7*t;break;case 73:a.x=293.5,a.y=194.6875+7*t;break;case 81:a.x=390.5,a.y=300.6875+7*t;break;case 82:a.x=343.5,a.y=277.6875+7*t;break;case 83:a.x=310.5,a.y=259.6875+7*t;break;case 91:a.x=232.5,a.y=392.6875+7*t;break;case 92:a.x=236.5,a.y=340.6875+7*t;break;case 93:a.x=235.5,a.y=309.6875+7*t;break;case 101:a.x=92.5,a.y=319.6875+7*t;break;case 102:a.x=135.5,a.y=293.6875+7*t;break;case 103:a.x=179.5,a.y=267.6875+7*t;break;case 111:a.x=94.5,a.y=145.6875+7*t;break;case 112:a.x=136.5,a.y=169.6875+7*t;break;case 113:a.x=179.5,a.y=195.6875+7*t;break;case 777:a.x=250,a.y=250+7*t}return a}var Wt=a(332),Et=a(97),It=a(165),Pt=2*Math.PI,Dt=Pt/4,Tt=function(e){Object(nt.a)(a,e);var t=Object(rt.a)(a);function a(e){var n;return Object(tt.a)(this,a),(n=t.call(this,e)).pregunta=!0,n.handleResponseFromQuiz=function(e){n.setState({botonCerrar:!1}),n.setState({pintarQuesito:!0}),Ve.emit("actualizarJugada",{casilla:e.casillaInfo.casilla.num,quesito:"Quesito"===e.casillaInfo.casilla.tipo&&1===e.result?e.casillaInfo.casilla.categoria:"",finTurno:0===e.result},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),console.log(e.info)})),1===e.result&&(n.props.activarDado(),u.a.post("https://unitrivia.herokuapp.com/api/tienda/insertarMonedas",{},{headers:{cantidad:1,jwt:b()}}).then((function(e){})).catch((function(e){console.log(e.response)}))),1===e.result&&"Quesito"===e.casillaInfo.casilla.tipo&&n.props.onResponse({quesito:e.casillaInfo.casilla.categoria,user:j()}),n.setState({contestada:!0})},n.handleOpen=function(){n.state.open=!0},n.handleClose=function(){n.setState({open:!1}),n.setState({botonCerrar:!0}),n.setState({contestada:!1})},n.state={rgb:null,innerWheelOpen:!1,centerCircleOpen:!1,numPlayers:0,positionsX:[250,250,250,250,250,250],positionsY:[250,260,270,280,290,300],puedoMover:!1,playerName:["1","2","3","4","5","6"],dado:0,quienSoy:0,posiblesJugadas:null,casillaActualInfo:null,desactivado:!0,open:!1,imagenes:[],mostrarFicha:!1,pintarQuesito:!1,prueba:!1,botonCerrar:!0,contestada:!1},n.outerWheelBounds=null,n.innerWheelBounds=null,n.centerCircleBounds=null,n.outerWheelRadius=null,n.innerWheelRadius=null,n.centerCircleRadius=null,n.firstSpacerRadius=null,n.secondSpacerRadius=null,n.canvasEl=null,n.ctx=null,n.onCanvasHover=n.onCanvasHover.bind(Object(ot.a)(n)),n.onCanvasClick=n.onCanvasClick.bind(Object(ot.a)(n)),n}return Object(at.a)(a,[{key:"getRelativeMousePos",value:function(e,t){var a=this.props.radius,n=this.canvasEl.getBoundingClientRect(),r=2*a,o=2*a,i={x:e-n.left,y:t-n.top};return{fromCenter:Math.sqrt((i.x-o/2)*(i.x-o/2)+(i.y-r/2)*(i.y-r/2)),onCanvas:i}}},{key:"initCanvas",value:function(){this.state.numPlayers=this.props.numPlayers;var e=this.props.radius,t=2*e,a=2*e;this.ctx.clearRect(0,0,t,a),this.drawOuterWheel(1),this.drawSpacers()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.radius,a=e.lineWidth,n=e.padding;this.outerWheelRadius=t,this.innerWheelRadius=this.outerWheelRadius-a-n,this.centerCircleRadius=this.innerWheelRadius-a-n,this.firstSpacerRadius=this.outerWheelRadius-a,this.secondSpacerRadius=this.innerWheelRadius-a,this.outerWheelBounds=Ct(t-a,t),this.innerWheelBounds=Ct(this.innerWheelRadius-this.centerCircleRadius,this.innerWheelRadius),this.centerCircleBounds=Ct(0,this.centerCircleRadius),this.firstSpacerBounds=Ct(this.firstSpacerRadius-n,this.firstSpacerRadius),this.secondSpacerBounds=Ct(this.secondSpacerRadius-n,this.secondSpacerRadius)}},{key:"componentDidMount",value:function(){var e=this;if(this.props.onRef(this),this.canvasEl=document.getElementById("colour-picker"),this.ctx=this.canvasEl.getContext("2d"),this.props.preset){var t=wt(this.props.presetColour);this.setState({rgb:t},(function(){e.drawInnerWheel(),e.drawOuterWheel(1),e.drawRadius(),e.drawSpacers(),e.drawCenterCircle()}))}else this.drawOuterWheel(1),this.drawSpacers();Ve.on("jugada",(function(t){for(var a=0,n=0;n<e.state.numPlayers;n++)e.state.playerName[n]===t.user&&(a=n);var r=zt(t.casilla,a),o=e.state.positionsX;o[a]=r.x;var i=e.state.positionsY;i[a]=r.y,e.setState({positionsX:o,positionsY:i}),e.inicializarTablero(),e.props.onResponse({quesito:t.ques,user:t.user})}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCanvasHover",value:function(e){var t=e.clientX,a=e.clientY,n=this.getRelativeMousePos(t,a);this.outerWheelBounds.inside(n.fromCenter)||this.innerWheelBounds.inside(n.fromCenter)&&this.state.innerWheelOpen?this.canvasEl.style.cursor="crosshair":this.centerCircleBounds.inside(n.fromCenter)&&this.state.centerCircleOpen?this.canvasEl.style.cursor="pointer":this.canvasEl.style.cursor="auto"}},{key:"onCanvasClick",value:function(e){var t=e.clientX,a=e.clientY,n=this.getRelativeMousePos(t,a);this.outerWheelBounds.inside(n.fromCenter)?this.outerWheelClicked(n.onCanvas):this.innerWheelBounds.inside(n.fromCenter)&&this.innerWheelClicked(n.onCanvas)}},{key:"outerWheelClicked",value:function(e){var t=this,a=this.props,n=(a.radius,a.colours,this.ctx.getImageData(e.x,e.y,1,1).data),r=Object(s.a)(n,4),o=r[0],i=r[1],c=r[2],l=r[3],d={r:o,g:i,b:c},u=St(d);if(this.pregunta=!1,this.props.onColourSelected(u),1,this.state.desactivado=!1,255===l&&!0===this.state.puedoMover){for(var h=0;h<this.state.posiblesJugadas.length;h++){var j=this.state.posiblesJugadas;j[h].casilla.num===At(o,i,c)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[h],this.setState({casillaActualInfo:j[h]}))}"Dado"===this.state.casillaActualInfo.casilla.tipo?(this.props.activarDado(),this.state.desactivado=!0,this.state.puedoMover=!0,Ve.emit("actualizarJugada",{casilla:this.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!1},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),t.props.activarDado()}))):(this.state.puedoMover=!1,this.handleOpen()),this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}this.setState({rgb:d,innerWheelOpen:!0,centerCircleOpen:!1},(function(){}))}},{key:"innerWheelClicked",value:function(e){var t=this.ctx.getImageData(e.x,e.y,1,1).data,a=Object(s.a)(t,4),n=a[0],r=a[1],o=a[2],i=a[3],c={r:n,g:r,b:o},l=St(c);if(this.props.onColourSelected(l),this.state.desactivado=!1,this.setState({rgb:c,centerCircleOpen:!0},(function(){})),255===i&&!0===this.state.puedoMover){this.state.puedoMover=!1,this.handleOpen();for(var d=0;d<this.state.posiblesJugadas.length;d++)this.state.posiblesJugadas[d].casilla.num===At(n,r,o)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[d]);this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}}},{key:"clear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({rgb:"#ffffff",innerWheelOpen:!1,centerCircleOpen:!1},(function(){e.initCanvas(),e.drawCenterCircle(),t&&t()}))}},{key:"dibujarTablero",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.drawInnerWheel();Math.floor(24*Math.random()),Math.floor(24*Math.random());this.drawOuterWheel(1,e),this.drawRadius(.1,e),this.drawSpacers(),this.drawCenterCircle()}},{key:"jugada",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){a&&a()})),Ve.emit("posiblesJugadas",e,(function(e){if(t.state.posiblesJugadas=e.info,"err"!==e.res){"No es el turno."===e.info?(t.state.puedoMover=!1,alert("No es tu turno")):t.state.puedoMover=!0;for(var a=[],n=0;n<e.info.length;n++)a[n]=e.info[n].casilla.num;t.state.puedoMover&&t.dibujarTablero(a)}else"No es el turno."===e.info&&(t.state.puedoMover=!1,alert("No es tu turno"));t.props.desactivarDado()}))}},{key:"inicializarTablero",value:function(){this.drawInnerWheel(),this.drawOuterWheel(1),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}},{key:"setQuienSoy",value:function(e){this.setState({quiensoy:e})}},{key:"setValores",value:function(e,t,a){for(var n=[],r=[],o=0;o<t;o++)r.push(e[o].nombre),n.push(e[o].ficha);this.setState({quienSoy:a}),this.setState({playerName:r,numPlayers:t}),this.setState({imagenes:n})}},{key:"iniciarPartida",value:function(){this.props.radius;this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){}))}},{key:"cargarPartida",value:function(e,t){for(var a=0;a<e.length;a++){var n=zt(e[a],a),r=this.state.positionsX;r[a]=n.x;var o=this.state.positionsY;o[a]=n.y,this.setState({positionsX:r,positionsY:o})}this.inicializarTablero()}},{key:"drawOuterWheel",value:function(e,t){var a=this,n=this.props,r=n.radius,o=n.colours,i=n.lineWidth,s=2*r,c=2*r,l=Rt(r,i),d=o.map((function(e){return wt(e)}));d.forEach((function(n,r){a.ctx.beginPath();var o=Pt/d.length*r,u=Pt/d.length*(r+1);if(a.ctx.arc(c/2,s/2,l,o+3,u+3),a.ctx.lineWidth=i,null!=t){var h=.1;t.forEach((function(e,t){At(n.r,n.g,n.b)===e&&(h=1),a.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")")})),1!=h&&(a.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")"))}else a.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(e,")");a.ctx.stroke(),a.ctx.closePath()}))}},{key:"drawSpacers",value:function(){this.props.spacers&&this.drawSpacer(this.firstSpacerRadius)}},{key:"drawSpacer",value:function(e){var t=this.props,a=t.radius,n=t.padding,r=t.spacers,o=r.colour,i=r.shadowColour,s=r.shadowBlur,c=2*a,l=2*a,d=Rt(e,n);this.ctx.beginPath(),this.ctx.arc(l/2,c/2,d,0,Pt),this.ctx.lineWidth=n,this.ctx.shadowColor=i,this.ctx.shadowBlur=s,this.ctx.strokeStyle=o,this.ctx.stroke(),this.ctx.closePath(),this.ctx.shadowColor="transparent"}},{key:"drawRadius",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.drawRad(-27,-90,0,["#ff6403","#ecd703","#0091df"],e,t),this.drawRad(27,90,180,["#ecd704","#ff00ec","#0091de"],e,t),this.drawRad(65,-70,60,["#ff00ed","#008810","#0091dd"],e,t),this.drawRad(94,20,120,["#3b3884","#ff00ee","#ff6404"],e,t),this.drawRad(-65,70,240,["#ff6405","#3b3883","#00880f"],e,t),this.drawRad(-94,-20,-60,["#00880e","#3b3882","#ff00ef"],e,t)}},{key:"drawRad",value:function(e,t,a,n){var r=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=this.props.radius;this.ctx.beginPath();var c=[e],l=[t];this.ctx.translate(s+c[0],s+l[0]),this.ctx.rotate(a*Math.PI/180),this.ctx.translate(-(s+c[0]),-(s+l[0]));for(var d=function(){var e=wt(n[u]);if(0!=i.length){var t=0;i.forEach((function(a,n){At(e.r,e.g,e.b)===a&&(r.ctx.fillStyle="rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,",",1,")"),t=1)})),1!=t&&(r.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",",.1,")"))}else r.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",").concat(o,")");r.ctx.fillRect(s+c[0],s+l[0]-50*u,50,50),r.ctx.stroke()},u=0;u<3;u++)d();this.ctx.setTransform(1,0,0,1,0,0),this.ctx.closePath()}},{key:"changePosition",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=zt(this.state.casillaActualInfo.casilla.num,a),r=this.state.positionsX;r[a]=n.x;var o=this.state.positionsY;o[a]=n.y,this.setState({positionsX:r,positionsY:o})}},{key:"drawInnerWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=t;var a=this.state.rgb,n=a.r,r=a.g,o=a.b,i=this.props,s=i.radius,c=i.lineWidth,l=i.shades,d=(i.animated,2*s),u=2*s,h=Rt(this.innerWheelRadius,c);this.ctx.clearRect(0,0,u,d);var j=kt(n,r,o,l);function b(){var e=this;j.forEach((function(t,a){e.ctx.beginPath();var n=Pt/j.length*a+Dt,r=Pt/j.length*(a+1)+.5*Math.PI;e.ctx.arc(u/2,d/2,h,n,r),e.ctx.lineWidth=c,e.ctx.strokeStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),e.ctx.stroke(),e.ctx.closePath()}))}function p(){var a=this;j.forEach((function(t,n){a.ctx.beginPath();var r=Pt/j.length*n+Dt,o=Pt/j.length*(n+1)+.5*Math.PI;a.ctx.arc(u/2,d/2,h,r,o),a.ctx.lineWidth=c*e,a.ctx.strokeStyle="rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"),a.ctx.stroke(),a.ctx.closePath()})),(e+=.1)<1&&t(p)}p=p.bind(this),b=b.bind(this)}},{key:"drawCenterCircle",value:function(){var e=this.state.rgb,t=this.props.radius,a=2*t,n=2*t;this.ctx.lineWidth=0,this.ctx.beginPath(),this.ctx.arc(n/2,a/2,50,0,2*Math.PI),this.ctx.fillStyle="rgb(".concat(255,", ",255,", ",255,")"),this.ctx.fill(),this.ctx.lineWidth=.1,this.ctx.strokeStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"),this.ctx.stroke(),this.ctx.closePath(),this.drawPlayers()}},{key:"cargarImagen",value:function(){for(var e=this,t=[],a=0;a<this.state.imagenes.length;a++){var n=new Image;n.onload=function(){e.setState({prueba:!e.state.prueba})},n.src="/images/fichas/"+this.state.imagenes[a]+".png",t.push(n)}return t}},{key:"drawPlayers",value:function(){this.props.radius;this.ctx.beginPath(),this.ctx.fillStyle="rgb(".concat(0,", ",0,", ",0,")");for(var e=this.cargarImagen(),t=0;t<this.state.numPlayers;t++)this.ctx.fillText(this.state.playerName[t],this.state.positionsX[t]+25,this.state.positionsY[t]+12.5),this.ctx.drawImage(e[t],this.state.positionsX[t],this.state.positionsY[t],25,25);this.ctx.closePath()}},{key:"getPosiblesJugadas",value:function(){return this.state.casillaActualInfo}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this,t=this.props,a=t.radius;return t.dynamicCursor?Object(R.jsxs)("div",{children:[Object(R.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,onMouseMove:this.onCanvasHover,width:"".concat(2*a,"px"),height:"".concat(2*a,"px")}),Object(R.jsx)("div",{children:Object(R.jsx)(st.a,{variant:"popover",popupId:"demo-popup-popover",children:function(t){return Object(R.jsx)("div",{children:Object(R.jsx)(Wt.a,{open:e.getOpen(),onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:e.getOpen(),children:Object(R.jsx)(ee.a,{style:{color:Et.a[500]},children:Object(R.jsxs)(te.a,{children:[Object(R.jsx)(C.a,{align:"left",children:"Responda a la pregunta."}),Object(R.jsx)("div",{align:"right",children:Object(R.jsx)(It.CountdownCircleTimer,{onComplete:function(){e.state.contestada||Ve.emit("actualizarJugada",{casilla:e.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!0},(function(t){console.log("Jugada actualizada: "+t.res+" "+t.info),e.props.activarDado()})),e.handleClose()},isPlaying:!0,duration:60,initialRemainingTime:60,colors:"#A30000",size:80})}),Object(R.jsx)(Ot,{pregunta:e.getPosiblesJugadas(),onResponse:e.handleResponseFromQuiz,children:" "}),Object(R.jsx)(m.a,{onClick:e.handleClose,style:{color:"red"},disabled:e.state.botonCerrar,children:"CERRAR"})]})})})})}})})]}):Object(R.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,width:"".concat(2*a,"px"),height:"".concat(2*a,"px")})}}]),a}(n.Component);Tt.defaultProps={colours:["#ff00ea","#3b3885","#ecd702","#fffffa","#ff00e9","#ff6402","#3b3887","#ffffff","#008813","#0091e2","#ff6400","#fffffe","#ecd700","#008812","#0091e1","#fffffd","#ff6401","#0091e0","#008811","#fffffc","#ecd701","#3b3886","#ff00eb","#fffffb"],shades:16,padding:0,dynamicCursor:!0,preset:!1,animate:!1};var Nt=Tt,Jt=a(167),Ft=a.n(Jt),qt=(a(260),a.p+"static/media/dado.80ec73e2.mp3"),Mt=(a(261),a(324)),Bt=a(325),Ut=a(326),Gt=a(327),Vt=a(328),Ht=a(6),Lt=a.p+"static/media/ascensor.fabbf54a.mp3",_t=a(99),Xt=a.n(_t),Yt="rgb(255, 255, 255)",Qt=function(e){Object(nt.a)(a,e);var t=Object(rt.a)(a);function a(e){var n;return Object(tt.a)(this,a),(n=t.call(this,e)).state={selectedColour:Yt,dado:0,play:!1,turno:"",admin:"",open:!1,datosJugadores:[{avatar:"",nombre:"",coloresAcertados:[],banner:"",ficha:""}],desconectados:[],coloresAcertados:[],jugadores:[],codigoSala:null,username:"",esprimero:!0,nuevoJugador:!1,puedoTirar:!1,sounds:!1,music:!1,partidaEmpezada:!1,yes:!0,desconexion:!1},n.cambiarSonido=function(){n.setState({sounds:!n.state.sounds})},n.cambiarMusica=function(){n.setState({music:!n.state.music})},n.audio=new Audio(qt),n.rellenarQuesitos=function(e){},n.listarJugadores=function(e){console.assert(!1,"Entrando a listar jugadores...");var t=n.state.desconectados,a=n.state.datosJugadores;return console.assert(!1,t),console.assert(!1,a),Object(R.jsx)(be.a,{dense:!0,className:e.root,children:a.map((function(e){var a="";a=t.includes(e.nombre)?"#D64728":"#000000",console.assert(!1,a);var n,r="checkbox-list-secondary-label-".concat(e);return n="banner0"===e.banner||"banner4"===e.banner?"black":"white",Object(R.jsx)("div",{style:{backgroundImage:"url(/images/banners/"+e.banner+".jpg)",backgroundSize:"cover",color:n,blockSize:100,alignContent:"center",border:"solid",borderColor:"black",textSizeAdjust:"auto",boxSizing:"inherit"},children:Object(R.jsxs)(pe.a,{children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{altP:"Remy Sharp",src:"/images/fichas/"+e.ficha+".png"})}),Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{altP:"Remy Sharp",src:"/images/avatars/"+e.avatar+".jpg"})}),Object(R.jsx)(me.a,{id:r,disableTypography:!0,primary:Object(R.jsx)(C.a,{type:"body2",style:{color:a},children:e.nombre})}),Object(R.jsx)(Ze.a,{children:Object(R.jsx)(Ke,{color:e.coloresAcertados})})]},e)})}))})},n.botonEmpezar=function(){if(n.state.username===n.state.admin&&!n.state.partidaEmpezada)return Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:n.iniciarPartidaa,children:"Empezar Partida"})},n.togglePlay=function(){n.setState({play:!n.state.play},(function(){n.state.sounds?n.audio.play():n.audio.pause()}))},n.iniciarPartidaa=function(){for(var e=0,t=0;t<n.state.jugadores.length;t++)n.state.jugadores[t]===j()&&(e=t);console.assert(!1,n.state.jugadores),console.assert(!1,n.colourWheel),n.colourWheel.setValores(n.state.datosJugadores,n.state.datosJugadores.length,e),n.colourWheel.iniciarPartida((function(){n.setState({selectedColour:Yt})})),Ve.emit("comenzarPartida",(function(e){console.log("Al comenzar partida: "+e.res+" "+e.info),"ok"===e.res&&(n.colourWheel.inicializarTablero(),n.setState({partidaEmpezada:!0}))}))},n.jugada=function(){var e=n.state.dado;console.assert(!1,"num"+n.state.dado),n.colourWheel.jugada(e,(function(){n.setState({selectedColour:Yt})}))},n.rollDoneCallback=function(e){console.assert(!1,"You rolled a ".concat(e)),n.setState({dado:e}),console.assert(!1,"sacaste un "+n.state.dado),n.jugada()},n.rollDoneCallback2=function(e){setTimeout((function(){n.rollDoneCallback(e)}),1e3)},n.turn=function(){return Object(R.jsx)("h1",{children:n.state.turno})},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1});n.heGanado()},n.handleQuesitos=function(e){var t;switch(console.assert(!1,e),console.assert(!1,"quesito de"+e.quesito),e.quesito){case"Historia":t="yellow";break;case"Deportes":t="orange";break;case"Entretenimiento":t="pink";break;case"Ciencias":t="green";break;case"Geografia":t="blue";break;case"Cultura General":t="purple"}for(var a=!1,r=0;r<n.state.coloresAcertados.length;r++)console.assert(!1,n.state.coloresAcertados[r]),console.assert(!1,e.quesito),n.state.coloresAcertados[r]===t&&(a=!0);if(""!==e.quesito&&!a){var o=n.state.coloresAcertados;o.push(t),n.setState({coloresAcertados:o});for(var i=n.state.datosJugadores,s=0;s<i.length;s++)i[s].nombre===e.user&&i[s].coloresAcertados.push(t);n.setState({datosJugadores:i})}},u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){if(n.setState({username:e.data._id}),console.assert(!1,"no se que poner ",e.data._id,n.state.esprimero,n.state.jugadores.length,n.state.jugadores),0===n.state.jugadores.length&&n.state.esprimero){console.assert(!1,"Es el primero, lo ponemos como admin");var t=n.state.jugadores.concat(e.data._id);n.setState({jugadores:t,admin:e.data._id,datosJugadores:[{avatar:e.data.avtr,banner:e.data.bnr,ficha:e.data.fich,nombre:e.data._id,coloresAcertados:[]}]})}else 1===n.state.jugadores.length&&n.state.esprimero?n.setState({admin:e.data._id}):console.assert(!1,"Se intenta meter un usuario que ya estaba")})).catch((function(e){console.assert(!1,e.response)})),n}return Object(at.a)(a,[{key:"activarDado",value:function(){this.setState({puedoTirar:!0})}},{key:"desactivarDado",value:function(){this.setState({puedoTirar:!1})}},{key:"componentDidMount",value:function(){var e=this;Ve.on("nuevoJugador",(function(t){console.assert(!1,"Cargando nuevo jugador...");var a=t.jugador;if(!e.state.jugadores.includes(a)){var n,r,o;null==t.imgs||""===t.imgs.ficha?(n="ficha0",r="banner0",o="avatar0"):(n=t.imgs.ficha,r=t.imgs.banner,o=t.imgs.avatar);var i=e.state.datosJugadores.concat({ficha:n,nombre:t.jugador,banner:r,avatar:o,coloresAcertados:[]});console.assert(!1,i),e.setState({datosJugadores:i});var s=e.state.jugadores.concat(a);e.setState({jugadores:s})}})),Ve.on("cargarJugadores",(function(t){console.assert(!1,t),console.assert(!1,t.jugadores.usuario);for(var a=[],n=[],r=0;r<t.jugadores.length;r++){var o=void 0,i=void 0,s=void 0;null==t.jugadores[r].imgs||""===t.jugadores[r].imgs?(o="ficha0",i="banner0",s="avatar0"):(o=t.jugadores[r].imgs.ficha,i=t.jugadores[r].imgs.banner,s=t.jugadores[r].imgs.avatar),a.push(t.jugadores[r]),n.push({nombre:t.jugadores[r].usuario,ficha:o,banner:i,avatar:s,coloresAcertados:[]})}console.assert(!1,a),console.assert(!1,n),a.length>1?e.setState({admin:"",esprimero:!1,datosJugadores:n}):e.setState({admin:e.state.username,esprimero:!0,datosJugadores:n})})),Ve.on("reconexionJugador",(function(t){var a=e.state.desconectados,n=e.state.datosJugadores,r=t.jugador,o=a.indexOf(r);o>-1?(a.splice(o,1),e.setState({desconectados:a})):n.some((function(e){return e.nombre===r}))?console.assert(!1,"AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS"):console.assert(!1,"ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA")})),Ve.on("estadoPartida",(function(t){console.assert(!1,t);for(var a=[],n=0;n<t.jugadores.length;n++){for(var r=[],o=0;o<t.jugadores[n].quesitos.length;o++)switch(t.jugadores[n].quesitos[o]){case"Historia":r.push("yellow");break;case"Deportes":r.push("orange");break;case"Entretenimiento":r.push("pink");break;case"Ciencias":r.push("green");break;case"Geografia":r.push("blue");break;case"Cultura General":r.push("purple")}var i=void 0,s=void 0,c=void 0;null==t.jugadores[n].imgs||""===t.jugadores[n].imgs?(i="ficha0",s="banner0",c="avatar0"):(i=t.jugadores[n].imgs.ficha,s=t.jugadores[n].imgs.banner,c=t.jugadores[n].imgs.avatar),a.push({ficha:i,nombre:t.jugadores[n].usuario,banner:s,avatar:c,coloresAcertados:r})}console.assert(!1,a),e.setState({admin:a[0].nombre,esprimero:!1,datosJugadores:a}),console.assert(!1,"Volviendo a la partida");for(var l=[],d=0;d<t.jugadores.length;d++)l.push(t.jugadores[d].casilla);for(var u=0,h=0;h<e.state.datosJugadores.length;h++)e.state.datosJugadores[h].nombre===j()&&(u=h);e.setState({partidaEmpezada:!0}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,u),console.assert(!1,l),e.colourWheel.cargarPartida(l,u),e.colourWheel.drawPlayers()})),Ve.on("abandonoSala",(function(t){console.assert(!1,"Entramos en abandono de sala "+e.state.jugadores);for(var a,n=e.state.datosJugadores,r=0,o=n.length,i=0;i<o;i++)n[i].nombre===t&&(r=i),n[i].nombre===t&&(a=i);r>-1?(console.assert(!1,"Hemos sacado el index del jugador que abandona"),n.splice(r,1),e.setState({datosJugadores:n}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,a)):(console.assert(!1,"ha dado error el indexOf"),e.setState({jugadores:n}))})),Ve.on("jugadorSale",(function(t){console.assert(!1,"Jugador saliendo...");var a=e.state.desconectados;a.includes(t)?console.assert(!1,"POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO"):(a.push(t),console.assert(!1,a),e.setState({desconectados:a}))})),Ve.on("cambioLider",(function(t){var a=t.antiguo,n=t.nuevo;console.assert(!1,"Antiguo lider: "+a+" nuevo: "+n);var r=e.state.datosJugadores;console.assert(!1,r);var o=0,i=r.length;console.assert(!1,r[0]);for(var s=0;s<i;s++)r[s].nombre==a&&(o=s);o>-1?(console.assert(!1,"Hemos sacado el index del jugador que abandona(en cambio Lider)"),r.splice(o,1),e.setState({jugadores:r,admin:n})):console.assert(!1,"ha dado error el indexOf")})),this.audio.addEventListener("ended",(function(){return e.setState({play:!1})})),Ve.on("turno",(function(t){console.assert(!1,"Turno de: "+t),console.assert(!1,j()),e.setState({turno:t}),t!==j()&&j()||e.activarDado()})),Ve.on("finDelJuego",(function(t){console.assert(!1,"Fin del juego, gana: "+t),e.handleOpen()})),Ve.emit("obtenerIdSala",(function(t){e.setState({codigoSala:t})})),Ve.on("comienzoPartida",(function(t){console.assert(!1,"Comienza la partida");for(var a=0,n=0;n<e.state.datosJugadores.length;n++)e.state.datosJugadores[n].nombre===j()&&(a=n);e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,a),console.assert(!1,"dibujand"),e.colourWheel.inicializarTablero(),e.setState({partidaEmpezada:!0})})),Ve.on("disconnect",(function(){console.log("disconection"),e.setState({desconexion:!0})}))}},{key:"componentWillUnmount",value:function(){var e=this;this.audio.removeEventListener("ended",(function(){return e.setState({play:!1})}))}},{key:"heGanado",value:function(){var e=this,t=this.state.datosJugadores,a=t.findIndex((function(t){return t.nombre===e.state.username}));return 6===t[a].coloresAcertados.length}},{key:"finPartida",value:function(){var e=this.state.datosJugadores;e.sort((function(e,t){var a=e.coloresAcertados.length,n=t.coloresAcertados.length;return n<a?-1:n>a?1:0}));for(var t="RESULTADOS: \n",a=1,n=0,r=0;r<e.length;r++)r>0&&e[r].coloresAcertados.length<e[r-1].coloresAcertados.length?(a+=n,n=1):n++,t+=a.toString()+". "+e[r].nombre+"\n";return t}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this;if(this.state.desconexion)return Object(R.jsxs)("div",{children:["Ha habido un error",Object(R.jsx)("br",{}),Object(R.jsx)(m.a,{href:"/Play",style:{color:"red"},children:"Volver"})]});var t=this.props.classes;this.state.selectedColour,new Audio("../music/dado.mp3");return Object(R.jsxs)(y.a,{container:!0,children:[Object(R.jsx)(y.a,{item:!0,xs:3,direction:"row",children:Object(R.jsx)(ee.a,{children:Object(R.jsx)(te.a,{children:Object(R.jsxs)("div",{style:{height:"fit-content"},children:[Object(R.jsx)("h2",{children:"Sala"}),Object(R.jsx)("div",{children:this.listarJugadores(t)}),Object(R.jsx)("div",{children:Object(R.jsxs)("h6",{style:{font:"arial"},children:["C\xd3DIGO: ",this.state.codigoSala]})}),Object(R.jsx)("div",{children:this.botonEmpezar()})]})})})}),Object(R.jsx)(y.a,{item:!0,xs:8,children:Object(R.jsx)(ee.a,{style:{color:Et.a[500]},children:Object(R.jsxs)(te.a,{children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)(P.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/Play",children:[Object(R.jsx)(Ee.a,{color:"primary"}),"Volver"]}),Object(R.jsx)(N.a,{trigger:Object(R.jsx)(P.a,{color:"secondary",variant:"contained",children:Object(R.jsx)(Mt.a,{color:"primary"})}),position:"right top",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h5",{children:"INFORMACI\xd3N"}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"AMARILLO: historia"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"VERDE: Ciencias"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"ROSA: Entretenimiento"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"MORADO: Cultura General"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"NARANJA: Deportes"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"AZUL: Geografia"})}),Object(R.jsx)("li",{children:Object(R.jsx)("font",{size:2,children:"BLANCO: tira otra vez"})})]})}),Object(R.jsx)(P.a,{onClick:this.cambiarSonido,children:this.state.sounds?Object(R.jsx)(Bt.a,{color:"primary"}):Object(R.jsx)(Ut.a,{color:"primary"})}),Object(R.jsx)(P.a,{onClick:this.cambiarMusica,color:"secondary",children:this.state.music?Object(R.jsx)(Gt.a,{color:"primary"}):Object(R.jsx)(Vt.a,{color:"primary"})}),Object(R.jsx)(Xt.a,{url:Lt,playStatus:this.state.music?Xt.a.status.PLAYING:Xt.a.status.PAUSED,playFromPosition:300,loop:!0,volume:20})]}),Object(R.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",backgroundColor:"#353833",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(R.jsx)("div",{style:{textAlign:"center",color:"#FFFFFF"},children:Object(R.jsx)("h1",{children:Object(R.jsx)("span",{children:"UniTrivia"})})}),Object(R.jsx)("div",{style:{textAlign:"right",color:"#FFFFFF"},children:this.state.turno===this.state.username?Object(R.jsx)("h2",{children:"Tu turno!"}):Object(R.jsxs)("h2",{children:["Turno de :",this.state.turno]})}),Object(R.jsx)(Nt,{numPlayers:this.state.jugadores.length,playerName:this.state.jugadores,radius:250,padding:10,lineWidth:50,onColourSelected:function(t){return e.setState({selectedColour:t})},onRef:function(t){return e.colourWheel=t},spacers:{colour:"#FFFFFF",shadowColour:"grey",shadowBlur:5},preset:!0,presetColour:this.state.selectedColour,animated:!0,desactivarDado:this.desactivarDado.bind(this),activarDado:this.activarDado.bind(this),onResponse:this.handleQuesitos}),Object(R.jsxs)(qe.a,{isOpen:this.getOpen(),onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:!0,children:[Object(R.jsx)("h2",{children:"Fin de la partida"}),Object(R.jsx)("div",{children:this.finPartida()}),Object(R.jsx)("div",{children:Object(R.jsx)(m.a,{variant:"primary",href:"/menu",onClick:this.handleClose,children:"Aceptar"})})]}),Object(R.jsxs)(m.a,{style:{cursor:"pointer",fontSize:20,fontWeight:"500",color:"#FFFFFF",marginTop:20},onClick:this.togglePlay,disabled:!this.state.puedoTirar,children:[Object(R.jsx)(m.a,{onClick:function(){e.reactDice.rollAll()},children:"tirar dado"}),Object(R.jsx)(Ft.a,{numDice:1,rollDone:this.rollDoneCallback2,ref:function(t){return e.reactDice=t},outline:!0,faceColor:"white",dotColor:"black",rollTime:2,sound:this.state.sounds?"../music/dado.mp3":"",disableIndividual:!this.state.puedoTirar})]})]})]})})})]})}}]),a}(n.Component),Kt=Object(Ht.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(Qt),Zt=function(e){e.children;return Object(n.useEffect)((function(){window.onpopstate=function(){alert("Acaba de abandonar la partida"),window.location.reload(!0)}})),null};var $t,ea,ta=function(e){return Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(Kt,{}),Object(R.jsx)(Qe,{}),Object(R.jsx)(Zt,{})]})},aa=(T.a.button($t||($t=Object(I.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),T.a.div(ea||(ea=Object(I.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),na=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var ra,oa,ia=function(){na();var e=function(e){return Object(R.jsxs)("h7",{children:["Jugador ",e]})};return Object(R.jsxs)(aa,{children:[Object(R.jsx)("h3",{children:"Crear Sala"}),"Codigo de la Sala",Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("h6",{children:"XWDWED"}),Object(R.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(R.jsx)("div",{style:{marginTop:100},children:Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Game",children:"Empezar Partida"})}),Object(R.jsx)("div",{style:{marginTop:100},children:Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},sa=(T.a.button(ra||(ra=Object(I.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),T.a.div(oa||(oa=Object(I.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),ca=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var la,da,ua=function(e){var t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){console.log(r),o(e.target.value)}}},ha=function(){ca();var e=ua("");return Object(R.jsxs)(sa,{children:[Object(R.jsx)("h3",{children:"Unirse a Sala"}),"Introduce el c\xf3digo de la sala",Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("div",{children:Object(R.jsx)("div",{children:Object(R.jsx)(f.a,Object(h.a)(Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"codigo",label:"Codigo",name:"codigo",autoComplete:"codigo",autoFocus:!0},e),{},{label:"C\xf3digo de la sala"}))})}),Object(R.jsx)("div",{style:{marginTop:10},children:Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Sala",children:"Unirme"})}),Object(R.jsx)("div",{style:{marginTop:100},children:Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},ja=(T.a.button(la||(la=Object(I.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),T.a.div(da||(da=Object(I.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),ba=Object(S.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var pa=function(){ba();var e=function(e){return Object(R.jsxs)("h7",{children:["Jugador ",e]})};return Object(R.jsxs)(ja,{children:[Object(R.jsxs)("h3",{children:["Sala ",Object(R.jsx)("h6",{children:"XWDWED"})," "]}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(R.jsx)("div",{style:{marginTop:100},children:Object(R.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Salirse"})})]})},ga=Object(S.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));var ma=function(e){var t=[],a=[],r=Object(n.useState)(null),o=Object(s.a)(r,2),i=o[0],c=o[1],l=Object(n.useState)(null),d=Object(s.a)(l,2),h=d[0],j=d[1],p=void 0,m=ga(),x=e.location.state.actual_coins;console.log(x);var f=e.location.state.comprados;console.log(f);var O=e.location.state.tipo;console.log(O);var v=null;if("Avatar"===O){v="Bienvenido a la Tienda de Avatares";for(var k=0;k<f.length;k++){var w=f[k];"a"==w[0]&&t.push(w)}}else if("Banner"===O){v="Bienvenido a la Tienda de Banners";for(var C=0;C<f.length;C++){var S=f[C];"b"===S[0]&&t.push(S)}}else if("Ficha"===O){v="Bienvenido a la Tienda de Formas de Ficha";for(var A=0;A<f.length;A++){var z=f[A];"f"===z[0]&&t.push(z)}}return console.log(t),Object(n.useEffect)((function(){u.a.get("https://unitrivia.herokuapp.com/api/tienda/catalogo",{headers:{tipo:O}}).then((function(e){p=e.data,console.log(p),console.log(e.data),console.log(e);for(var n=0,r=0;r<p.length;r++){for(var o=!1,i=0;i<t.length;i++)console.log(p[r].nombre),p[r].nombre===t[i]&&(o=!0);o||(a[n]=p[r],n++)}0===a.length&&alert("Ya tienes todos los objetos"),console.log(a.length),j(a),c(a.length)})).catch((function(e,t){console.log(e.response),console.log(t)}))}),[]),Object(R.jsxs)(ee.a,{children:[Object(R.jsxs)(P.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/profile",children:[Object(R.jsx)(Ee.a,{color:"primary"}),"Volver"]}),Object(R.jsxs)(y.a,{container:!0,spacing:2,children:[Object(R.jsx)(y.a,{xs:6,children:Object(R.jsx)(ce.a,{subheader:"Objetos que hay actualmente en la tienda",title:v})}),Object(R.jsx)(y.a,{xs:6,children:Object(R.jsx)(ce.a,{subheader:x,title:"Coins"})})]}),Object(R.jsx)(be.a,{children:Object(R.jsx)("div",{className:m.demo,children:Object(R.jsx)(Oe.a,{height:300,width:1500,itemSize:80,itemCount:i,children:function(e){var t=e.index,a=e.style;console.log(h);var n=h[t].precio+" coins",r=function(){(console.log("clickado "+h[t].nombre),h[t].precio>x)?alert("No dispone de suficientes coins para comprar este objeto"):!0===window.confirm("Presione en OK para comprar "+h[t].nombre+" por "+h[t].precio+" coins")&&u.a.post("https://unitrivia.herokuapp.com/api/tienda/comprar",{},{headers:{nombre:h[t].nombre,jwt:b()}}).then((function(e){alert("Adquirido"),setTimeout((function(){console.log("esperamos server reaccione")}),1e3),window.history.go(-1)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},o=void 0;return"Avatar"===O?(o="/images/avatars/"+h[t].nombre+".jpg",Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:r,children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{src:o})}),Object(R.jsx)(me.a,{primary:h[t].nombre,secondary:n})]},t)):"Banner"===O?(o="/images/banners/"+h[t].nombre+".jpg",Object(R.jsx)("div",{children:Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:r,children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)("img",{src:o,width:"600",height:"75"})}),Object(R.jsx)(me.a,{primary:h[t].nombre,secondary:n})]},t)})):"Ficha"===O?(o="/images/fichas/"+h[t].nombre+".png",Object(R.jsxs)(pe.a,{button:!0,style:a,onClick:r,children:[Object(R.jsx)(ge.a,{children:Object(R.jsx)(g.a,{src:o})}),Object(R.jsx)(me.a,{primary:h[t].nombre,secondary:n})]},t)):null}})})})]})};var xa=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){b()&&o(!1)}),[]),r&&b()?Object(R.jsx)("div",{className:"content",children:"Checking Authentication..."}):Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(c.a,{children:Object(R.jsx)("div",{children:Object(R.jsx)("div",{className:"content",children:Object(R.jsxs)(l.d,{children:[Object(R.jsx)(l.b,{exact:!0,path:"/",component:F}),Object(R.jsx)(l.b,{path:"/login",component:E}),Object(R.jsx)(l.b,{exact:!0,path:"/ChangePassword",component:H}),Object(R.jsx)(l.b,{path:"/register",component:Y}),Object(R.jsx)(M,{path:"/Menu",component:re}),Object(R.jsx)(M,{path:"/Play",component:Xe}),Object(R.jsx)(M,{path:"/Game",component:ta}),Object(R.jsx)(M,{path:"/CrearSala",component:ia}),Object(R.jsx)(M,{path:"/UnirseSala",component:ha}),Object(R.jsx)(M,{path:"/Sala",component:pa}),Object(R.jsx)(Je,{path:"/Profile",component:Pe}),Object(R.jsx)(Je,{path:"/Tienda",component:ma})]})})})})})};i.a.render(Object(R.jsx)(xa,{}),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.4d4f0aa9.chunk.js.map