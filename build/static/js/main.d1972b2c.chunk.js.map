{"version":3,"sources":["Utils/Common.js","Login.js","home/AppBar.js","Home.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","ChangePassword.js","Register.js","Menu.js","account/AccountProfile.js","account/AccountProfileDetails.js","settings/SettingsPassword.js","account/Stats.js","account/Items.js","tienda/Tienda.js","profile.js","Utils/NoGuestRoute.js","Play.js","game/chat.js","game/Cheese.js","game/room.js","game/src/Quiz/GameOver.js","game/src/Quiz/Quiz.js","game/src/utils/utils.js","game/src/utils/hexStrings.js","game/src/components/colourWheel/ColourWheel.js","music/dado.mp3","music/ascensor.mp3","game/Board.js","Game.js","CrearSala.js","UnirseSala.js","Sala.js","App.js","index.js"],"names":["getUser","userStr","sessionStorage","getItem","JSON","parse","getToken","removeUserSession","removeItem","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","width","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","marginTop","submit","fondo","position","left","top","transform","boxShadow","error","textAlign","useFormInput","initialValue","useState","value","setValue","onChange","e","target","Login","props","setLoading","username","password","loginError","setLoginError","setError","noUser","setUser","noPass","setPass","classes","Grid","container","component","className","CssBaseline","item","xs","Avatar","noValidate","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","helperText","FormControlLabel","control","Checkbox","Button","onClick","axios","get","headers","then","response","token","user","console","log","data","setItem","stringify","history","push","catch","status","alert","message","Box","mt","flexGrow","menuButton","marginRight","title","AppAppBar","AppBar","Toolbar","IconButton","edge","aria-label","Home","useEffect","Fragment","PrivateRoute","Component","rest","render","to","pathname","state","from","location","PublicRoute","ChangePassword","answer","newPassword","preg","setPreg","noNewP","setNewP","noRes","setRes","Container","maxWidth","disabled","defaultValue","post","res","newpassword","Register","email","reppassword","question","noEmail","setEmail","noQuestion","setQuestion","noAns","setAns","dist","setDist","Rep","setNoRep","err","setErr","RegExp","justify","StyledMenu","styled","button","div","nav","open","a","Menu","Card","CardContent","role","small","large","AccountProfile","profiles","banner","ficha","sx","md","src","sm","gutterBottom","mail","AccountProfileDetails","profile","CardHeader","subheader","Divider","pregu","resu","SettingsPassword","oldpassword","confirm","values","setValues","handleChange","event","handleModifyPassword","window","reload","onSubmit","justifyContent","p","Stats","jugadas","coins","ganadas","avatares","banners","fichas","background","renderRowAvatars","index","style","currentAv","ListItem","String","jwt","idavatar","ListItemAvatar","ListItemText","primary","renderRowBanners","currentB","idbanner","renderRowFichas","currentF","idformficha","Items","comprados","openAvatar","setOpenAvatar","openBanner","setOpenBanner","openFicha","setOpenFicha","i","length","word","List","demo","ExpandLess","ExpandMore","Collapse","in","timeout","itemSize","itemCount","CardActions","onResponse","Tienda","comprados_tipo","catalogo_tipo_no_reps","numObj","setnum","cat","setCat","catalogo_tipo","undefined","actual_coins","tipo","header","lo_tengo","j","nombre","code","ArrowBack","precio","clickBuy","setTimeout","go","current","Profile","setCoins","wins","setWins","setFicha","setBanner","setComprados","setAvatar","njugadas","setNjugadas","setUsername","cns","ng","fich","bnr","rfs","avtr","nj","_id","Helmet","minHeight","py","lg","bind","pt","delete","NoGuestRoute","ENDPOINT","conn","Play","modalAbierto","modalAbiertoState","esReconexion","setReconexion","abrirModal","io","extraHeaders","operacion","on","connected","disconnected","nsp","priv","Modal","isOpen","ModalHeader","ModalBody","ModalFooter","salaAct","sala","require","Chat","usuario","jugador","addResponseMessage","msgFull","msg","handleNewUserMessage","newMessage","emit","subtitle","Cheese","cheeses","forEach","Room","Title","h1","Points","GameOver","estado","pts","QuizWindow","Options","Option","Question","Quiz","pregunta","incorrect_answers","resps_inc","correct_answer","resp_c","quiz","setQuiz","number","setNumber","setPts","pickAnswer","userAnswer","innerText","result","casillaInfo","arr","pregunta_global","options","sort","Math","random","dangerouslySetInnerHTML","__html","map","produceRgbShades","r","g","b","amount","shades","hsl","tinycolor","toHsl","l","toRgb","colourToRgbObj","colour","calculateBounds","min","max","inside","cursorPosFromCenter","convertObjToString","obj","toRgbString","getEffectiveRadius","trueRadius","lineWidth","getCasillaNumber","casilla","getCoordByCasilla","coord","x","y","fullCircle","PI","quarterCircle","ColourWheel","handleResponseFromQuiz","setState","botonCerrar","pintarQuesito","num","quesito","categoria","finTurno","activarDado","cantidad","handleOpen","handleClose","rgb","innerWheelOpen","centerCircleOpen","numPlayers","positionsX","positionsY","puedoMover","playerName","dado","quienSoy","posiblesJugadas","casillaActualInfo","desactivado","imagenes","mostrarFicha","prueba","outerWheelBounds","innerWheelBounds","centerCircleBounds","outerWheelRadius","innerWheelRadius","centerCircleRadius","firstSpacerRadius","secondSpacerRadius","canvasEl","ctx","onCanvasHover","onCanvasClick","clientX","clientY","radius","this","canvasPos","getBoundingClientRect","h","w","onCanvas","fromCenter","sqrt","clearRect","drawOuterWheel","drawSpacers","padding","firstSpacerBounds","secondSpacerBounds","onRef","document","getElementById","getContext","preset","presetColour","drawInnerWheel","drawRadius","drawCenterCircle","indice","coords","vecx","vecy","inicializarTablero","ques","evt","getRelativeMousePos","cursor","outerWheelClicked","innerWheelClicked","evtPos","colours","rgbaArr","getImageData","opac","rgbArg","onColourSelected","arrayPosiblesJugadas","changePosition","callback","initCanvas","casillasMarcadas","floor","drawPlayers","toString","casillas","dibujarTablero","desactivarDado","quiensoy","players","numplayers","imgs","playernames","info","opa","effectiveRadius","rgbArr","beginPath","startAngle","endAngle","arc","op","val","strokeStyle","stroke","closePath","spacers","drawSpacer","spacerRadius","shadowColour","shadowBlur","shadowColor","drawRad","ys","angle","colors","translate","rotate","marcada","fillStyle","fillRect","setTransform","player","animationPercentage","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","animated","rgbShades","drawShades","animateShades","fill","images","imageObj1","Image","onload","cargarImagen","drawImage","dynamicCursor","onMouseMove","popupId","popupState","getOpen","onClose","aria-labelledby","aria-describedby","disableBackdropClick","green","onComplete","isPlaying","duration","initialRemainingTime","size","getPosiblesJugadas","defaultProps","animate","yourDefaultColour","Board","selectedColour","play","turno","admin","datosJugadores","coloresAcertados","desconectados","jugadores","codigoSala","esprimero","nuevoJugador","puedoTirar","sounds","music","partidaEmpezada","yes","cambiarSonido","cambiarMusica","audio","Audio","dados","rellenarQuesitos","listarJugadores","dense","includes","labelId","blockSize","alignContent","border","borderColor","textSizeAdjust","altP","disableTypography","ListItemSecondaryAction","botonEmpezar","iniciarPartidaa","togglePlay","pause","colourWheel","setValores","iniciarPartida","jugada","rollDoneCallback","rollDoneCallback2","turn","heGanado","handleQuesitos","exito","arrayDatosJugadores","list","concat","listDatos","users","gamers","arrayJugadores","indexUser","indexOf","splice","some","elemento","userList","quesitos","cargarPartida","antiguo","nuevo","addEventListener","removeEventListener","aux","findIndex","A","B","pos","incr","direction","font","trigger","HelpOutline","VolumeUp","VolumeOff","MusicNote","MusicOff","url","musica","playStatus","Sound","PLAYING","PAUSED","playFromPosition","loop","volume","ref","finPartida","fontSize","fontWeight","reactDice","rollAll","numDice","rollDone","dice","outline","faceColor","dotColor","rollTime","sound","disableIndividual","withStyles","BackButtonListener","children","onpopstate","Game","Div","CrearSala","imprimirJugadoresSala","UnirseSala","codigo","Sala","App","authLoading","setAuthLoading","exact","path","ReactDOM"],"mappings":"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NC,EACjCsB,EAAU,GACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,MAANC,EACnCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EAC/BsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,KAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EAC/BsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACnCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,GACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,EACjCsB,EAAU,GACK,IAANxB,GAAiB,MAANC,GAAmB,MAANC,EACjCsB,EAAU,GAEG,MAANxB,GAAmB,MAANC,GAAmB,IAANC,EACjCsB,EAAU,IACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,IACK,IAANxB,GAAiB,MAANC,GAAmB,KAANC,EACjCsB,EAAU,IAEG,IAANxB,GAAiB,MAANC,GAAmB,KAANC,EAC/BsB,EAAU,IACK,KAANxB,GAAkB,KAANC,GAAkB,MAANC,EACjCsB,EAAU,IACK,MAANxB,GAAmB,IAANC,GAAiB,MAANC,IACjCsB,EAAU,KAELA,EAIF,SAASC,GAAmBD,EAAQjK,GACzC,IAAImK,EAAM,CAACC,EA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","file":"static/js/main.d1972b2c.chunk.js","sourcesContent":["// return the user data from the session storage\nexport const getUser = () => {\n  const userStr = sessionStorage.getItem('user');\n  if (userStr) return JSON.parse(userStr);\n  else return null;\n}\n\n// return the token from the session storage\nexport const getToken = () => {\n  return sessionStorage.getItem('token') || null;\n}\n\n// remove the token and user from the session storage\nexport const removeUserSession = () => {\n  sessionStorage.removeItem('token');\n  sessionStorage.removeItem('user');\n}\n\n// set the token and user from the session storage\nexport const setUserSession = (token, user) => {\n  sessionStorage.setItem('token', token);\n  sessionStorage.setItem('user', JSON.stringify(user));\n}\n\n// set the token and user from the session storage\nexport const setToken = (token) => {\n  sessionStorage.setItem('token', token);\n}\n\n\n\nexport const setPlayers = (players) => {\n\n  sessionStorage.setItem('players', JSON.stringify(players));\n\n}\n\nexport const getPlayers = () => {\n  console.log(sessionStorage.getItem('players'))\n  return sessionStorage.getItem('players') || null;\n}\n\nexport const setSoyAdmin = (soy) => {\n\n  sessionStorage.setItem('soyAdmin', soy);\n\n}\n\nexport const getSoyAdmin = () => {\n  console.log(sessionStorage.getItem('soyAdmin'))\n  return sessionStorage.getItem('soyAdmin') || null;\n}","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {setToken, setUserSession} from './Utils/Common';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        width: '100%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    },\n    error: {\n        width: '100%', \n        position: 'absolute', textAlign:'center',\n        color: 'white',\n\t\tbackgroundColor: 'red',\n    }\n}));\n\nfunction Login(props) {\n  const [loading, setLoading] = useState(false);\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [loginError,setLoginError]=useState(false);\n  const [error, setError] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n\n\n    const classes = useStyles();\n\n\n    // handle button click of login form\n  const handleLogin = () => {\n    setError(null);\n    setLoading(true);\n\n      if(username.value==''){\n          setUser(true);\n      }else{\n          setUser(false);\n      }\n      if(password.value == ''){\n          setPass(true);\n      }else{\n          setPass(false);\n      }\n\n\n    if(username.value!='' && password.value != ''){\n        axios.get('https://unitrivia.herokuapp.com/api/login', { headers:{\n                username: username.value,\n                password: password.value\n            }}).then(response => {\n            setLoading(false);\n            console.log(response)\n            setUserSession(response.data, username.value);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            //alert(error.message)\n            if (error.response.status === 401){setLoginError(true); setError(\"El Ususario o la contraseña se han introducido incorrectamente\");} //setError(error.response.data.message);\n            else{setLoginError(true); setError(\"El Ususario o la contraseña se han introducido incorrectamente\");}\n        });\n    }\n\n  }\n\n    const handleLogAsGuest = () => {\n        setError(null);\n        setLoading(true);\n\n        axios.get('https://unitrivia.herokuapp.com/api/logAsGuest'\n            ).then(response => {\n            setLoading(false);\n\n            setToken(response.data);\n            props.history.push('/menu');\n        }).catch(error => {\n            setLoading(false);\n            alert(error.message);\n            if (error.response.status === 401) { setError(error.response.data.message); console.log(error)}\n            else {setLoginError(true); setError(\"Something went wrong. Please try again later.\");console.log(error)}\n        });\n\n\n    }\n    const showError= () =>{\n        //console.log(loginError);\n        //console.log(error);\n        if(!loginError) return null;\n        return(\n            <div className={classes.error}>\n                {error}\n            </div>\n        );\n        \n    }\n  return (\n      <Grid container component=\"main\" className={classes.root}>\n          <CssBaseline />\n            {showError()}\n          <Grid item xs={false} className={classes.image} />\n          <div className={classes.fondo} >\n              <div className={classes.paper}>\n                  <Avatar className={classes.avatar}>\n                      <LockOutlinedIcon />\n                  </Avatar>\n                  <Typography component=\"h1\" variant=\"h5\">\n                      Acceder\n                  </Typography>\n                  <form className={classes.form} noValidate>\n                      <TextField\n                          error={noUser === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"username\"\n                          label=\"Usuario\"\n                          name=\"username\"\n                          autoComplete=\"username\"\n                          autoFocus\n                          {...username}\n                          helperText={noUser ? 'introduce el usario' : ''}\n                      />\n                      <TextField\n                          error={noPass === true}\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          name=\"password\"\n                          label=\"Contraseña\"\n                          type=\"password\"\n                          id=\"password\"\n                          helperText={noPass ? 'introduce la contraseña' : ''}\n                          {...password}\n                      />\n                      <FormControlLabel\n                          control={<Checkbox value=\"remember\" color=\"primary\" />}\n                          label=\"Remember me\"\n                      />\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogin}\n                      >\n                          Acceder\n                      </Button>\n                      <Grid container>\n                          <Grid item xs>\n                              <Link href=\"/changepassword\" variant=\"body2\">\n                                  Olvidaste la contraseña?\n                              </Link>\n                          </Grid>\n                          <Grid item>\n                              <Link href=\"/register\" variant=\"body2\">\n                                  {\"No tienes cuenta? Regístrate\"}\n                              </Link>\n                          </Grid>\n                      </Grid>\n                      <Button\n                          fullWidth\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={handleLogAsGuest}\n                      >\n                          Acceder como invitado\n                      </Button>\n                      <Box mt={5}>\n                          <Copyright />\n                      </Box>\n                  </form>\n              </div>\n              </div>\n          </Grid>\n      \n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Login;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nfunction AppAppBar(props) {\n    const classes = useStyles();\n    return(\n    <AppBar position=\"static\">\n        <Toolbar>\n            <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n                UniTrivia\n            </Typography>\n            <Button color=\"inherit\" href={'/login'}>Login</Button>\n            <Button color=\"inherit\" href={'/Register'}>Sign up</Button>\n        </Toolbar>\n    </AppBar>\n    );\n}\n\n\n\nexport default AppAppBar;","import React, {useEffect} from 'react';\nimport AppBar from './home/AppBar'\nimport {getToken, getUser} from \"./Utils/Common\";\nimport axios from \"axios\";\n\nfunction Home(props) {\n\n    useEffect(() => {\n\n        if(getUser()!=null){\n            props.history.push('/menu');\n        }\n    }, []);\n  return (\n      <React.Fragment>\n        <AppBar></AppBar>\n        <div>\n          Welcome to the Home Page!\n        </div>\n      </React.Fragment>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n    />\n  )\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { getToken } from './Common';\n\n// handle the public routes\nfunction PublicRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => !getToken() ? <Component {...props} /> : <Redirect to={{ pathname: '/dashboard' }} />}\n    />\n  )\n}\n\nexport default PublicRoute;","import React, {useState} from 'react'\nimport axios from \"axios\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Link from \"@material-ui/core/Link\";\nimport Box from \"@material-ui/core/Box\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction ChangePassword(props) {\n    const username = useFormInput('');\n    const answer = useFormInput('');\n    const newPassword = useFormInput('');\n    let [preg, setPreg] = useState(null);\n    const [noUser, setUser] = useState(false);\n    const [noNewP, setNewP] = useState(false);\n    const [noRes, setRes] = useState(false);\n\n\n    const classes = useStyles();\n\n\n\n    // handle button click of recover question\n    const handleRecoverQuestion = () => {\n        try{\n            if(username.value == ''){\n                setUser(true);\n            }else {\n                setUser(false);\n                axios.get('https://unitrivia.herokuapp.com/api/login/recover/question', {\n                    headers: {\n                        username: username.value,\n                    }\n                }).then(response => {\n\n                    console.log(response)\n                    setPreg(response.data)\n\n\n                }).catch(error => {\n                    alert('Error al recuperar pregunta, usuario no existe');\n\n\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n    // handle button click of login form\n    const handleModify = () => {\n        try {\n            if(username.value == '' || answer.value == '' || newPassword.value == ''){\n                if(username.value == ''){\n                    setUser(true);\n                }else{\n                    setUser(false);\n                }\n\n                if(answer.value == ''){\n                    setRes(true);\n                }else{\n                    setRes(false);\n                }\n\n                if(newPassword.value == ''){\n                    setNewP(true);\n                }else{\n                    setNewP(false);\n                }\n            }else {\n                setUser(false);\n                setRes(false);\n                setNewP(false);\n\n                axios.post('https://unitrivia.herokuapp.com/api/login/recover/password', {}, {\n                    headers: {\n                        username: username.value,\n                        res: answer.value,\n                        newpassword: newPassword.value\n                    }\n                }).then(response => {\n\n                    //setUserSession(response.data.token, response.data.user);\n                    props.history.push('/login');\n                }).catch(error => {\n\n                    alert('Error al validar respuesta, revise la respuesta introducida');\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n    }\n\n\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Typography component=\"h1\" variant=\"h2\">\n                    UniTrivia\n                </Typography>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    He olvidado mi contraseña\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} spacing={2}>\n                            <TextField\n                                error = {noUser}\n                                autoComplete=\"fname\"\n                                name=\"username\"\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"username\"\n                                label=\"Usuario\"\n                                autoFocus\n                                {...username}\n                                helperText = {noUser ? 'Introduzca el usuario' : ''}\n                            />\n\n                        </Grid>\n                        <Grid item xs={12}  spacing={2}>\n                        <Button\n\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleRecoverQuestion}\n                        >\n                            Recuperar pregunta\n                        </Button>\n                    </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                disabled\n                                fullWidth\n                                value={preg}\n                                id=\"question\"\n                                name=\"question\"\n                                defaultValue=\"---\"\n                                label=\"Pregunta de seguridad\"\n\n\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noRes}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                id=\"answer\"\n                                label=\"Respuesta a la pregunta\"\n                                name=\"answer\"\n\n                                {...answer}\n                                helperText = {noRes ? 'Introduzca la respuesta' : ''}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                error = {noNewP}\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                label=\"Nueva contraseña\"\n                                type=\"password\"\n                                id=\"password\"\n\n                                {...newPassword}\n                                helperText = {noNewP ? 'Introduzca la nueva contraseña' : ''}\n\n                            />\n                        </Grid>\n\n                        <Grid item xs={12}>\n\n                        </Grid>\n                    </Grid>\n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleModify}\n                    >\n                        Confirmar\n                    </Button>\n\n                </form>\n            </div>\n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Container>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default ChangePassword;","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport axios from 'axios';\nimport { setUserSession } from './Utils/Common';\nimport { useForm } from 'react-hook-form';\n\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                UniGames\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '80vh'\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'repeat-x',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        height: '110%',\n        width: '200%'\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    fondo:{\n        margin: theme.spacing(2,2,5),\n        position: 'absolute', left: '50%', top: '50%',\n        transform: 'translate(-50%, -50%)',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(1),\n        boxShadow: \"0px 0px 5px 2px #9E9E9E\",\n    }\n}));\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\nexport default function Register(props) {\n\n\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const username = useFormInput('');\n    const email = useFormInput('');\n    const password = useFormInput('');\n    const reppassword = useFormInput('');\n    const question = useFormInput('');\n    const answer = useFormInput('');\n    \n\n\n    const [noUser, setUser] = useState(false);\n    const [noPass, setPass] = useState(false);\n    const [noEmail, setEmail] = useState(false);\n    const [noQuestion, setQuestion] = useState(false);\n    const [noAns, setAns] = useState(false);\n    const [dist, setDist] = useState(false);\n    const [Rep, setNoRep] = useState(false);\n    const [err, setErr] = useState(null);\n    const emailRegex = new RegExp('/\\S+@\\S+\\.\\S+/');\n\n\n\n    const handleRegister = () => {\n        const user = {username}\n        setError(null);\n        setLoading(true);\n\n        username.value == '' ? setUser(true) : setUser(false);\n        password.value == '' ? setPass(true) : setPass(false);\n        email.value == '' ? setEmail(true) : setEmail(false);\n        question.value == '' ? setQuestion(true) : setQuestion(false);\n        answer.value == '' ? setAns(true) : setAns(false);\n        if(reppassword.value == ''){\n            setNoRep(true)\n            setErr('introduce la contraseña')\n        }else{\n            setNoRep(false)\n        }\n        if(password.value!=reppassword.value){\n            setDist(true)\n            setErr('las contraseñas no coinciden')\n        }else{\n            setDist(false)\n        }\n\n\n\n        if(username.value!='' && password.value!='' && email.value!='' && question.value!=''&& answer.value!='' && password.value==reppassword.value) {\n\n//https://unitrivia.herokuapp.com/api/register\n            axios.post('https://unitrivia.herokuapp.com/api/register', {}, {\n                headers: {\n                    'username': username.value,\n                    'password': password.value,\n                    'email': email.value,\n                    'preg': question.value,\n                    'res': answer.value\n                }\n            }).then((response) => {\n                console.log(response.data)\n                console.log(response)\n                setLoading(false);\n                //setUserSession(response.data.token, response.data.user);\n                props.history.push('/login');\n            }).catch((error) => {\n                setLoading(false);\n                console.log(error.response)\n                if (error.response.status === 400) {\n                    setError(error.response.data.message);\n                    alert('usuario existente')\n                }else {\n                    setError(\"Something went wrong. Please try again later.\");\n                }\n            });\n        }\n    }\n\n\n    const classes = useStyles();\n    // eslint-disable-next-line no-undef\n\n\n\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n            <Grid item xs={false} className={classes.image} />\n                <div className={classes.fondo}> \n                    <div className={classes.paper}>\n                        <Typography component=\"h1\" variant=\"h2\">\n                            UniTrivia\n                        </Typography>\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            Regístrate\n                        </Typography>\n\n                        <form className={classes.form} noValidate>\n                            <Grid container spacing={2}>\n                                <Grid item xs={12} >\n                                    <TextField\n                                        error={noUser === true}\n                                        autoComplete=\"fname\"\n                                        name=\"username\"\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"username\"\n                                        label=\"Usuario\"\n                                        autoFocus\n                                        {...username}\n\n                                        helperText={noUser ? 'introduce el usario' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noEmail === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"email\"\n                                        label=\"Email Address\"\n                                        type=\"email\"\n                                        name=\"email\"\n                                        autoComplete=\"email\"\n                                        {...email}\n                                        helperText={noEmail ? 'introduce el email' : ''}\n\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noPass === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Contraseña\"\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                        {...password}\n                                        helperText={noPass ? 'introduce la contraseña' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={dist === true || Rep === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        name=\"reppassword\"\n                                        label=\"Repetir contraseña\"\n                                        type=\"password\"\n                                        id=\"reppassword\"\n                                        autoComplete=\"current-password\"\n                                        {...reppassword}\n                                        helperText={dist === true || Rep === true ? err: ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noQuestion === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"question\"\n                                        label=\"Pregunta de seguridad\"\n                                        name=\"question\"\n                                        {...question}\n                                        helperText={noQuestion ? 'introduce la pregunta de seguridad' : ''}\n\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        error={noAns === true}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth\n                                        id=\"answer\"\n                                        label=\"Respuesta a la pregunta\"\n                                        name=\"answer\"\n                                        {...answer}\n                                        helperText={noAns ? 'introduce la respuesta a la pregunta de seguridad' : ''}\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n\n                                </Grid>\n                            </Grid>\n                            <Button\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleRegister}\n\n                            >\n                                Registrarse\n                            </Button>\n                            <Grid container justify=\"flex-end\">\n                                <Grid item>\n                                    <Link href=\"/login\" variant=\"body2\">\n                                        Ya tienes una cuenta? Accede\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </div>\n                </div>\n            \n            <Box mt={5}>\n                <Copyright />\n            </Box>\n        </Grid>\n    );\n}\n\n","import React from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getUser, removeUserSession} from \"./Utils/Common\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\nconst A = styled.a`\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Menu() {\n    const classes = useStyles();\n\n\n    return (\n\n        <Card>\n            <CardContent>\n\n            <StyledMenu open={true}>\n                <h1>UNITRIVIA</h1>\n                <h2>MENÚ</h2>\n                <Button href=\"/Play\">\n                    <span role=\"img\" aria-label=\"about us\">🎮️</span>\n                    JUGAR\n                </Button>\n                <Button href=\"/profile\" disabled={getUser() == null}>\n                    <span role=\"img\" aria-label=\"price\">💇‍♀️</span>\n                    PERFIL\n                </Button>\n                <Button href=\"/Login\" onClick={removeUserSession}>\n                    <span role=\"img\" aria-label=\"contact\">❌</span>\n                    CERRAR SESIÓN\n                </Button>\n            </StyledMenu>\n\n                </CardContent>\n\n            {/*<But>hole</But>\n                <Popup trigger={<button> Trigger</button>} position=\"top center\">\n                    <div>Popup content here !!</div>\n                </Popup>\n\n                */}\n\n\n        </Card>\n    );\n}\n\n\nexport default Menu;","import moment from 'moment';\nimport React, {useEffect} from 'react'\n//{`${profiles.mail} ${user.country}`}\n//<Typography\n//                         color=\"textSecondary\"\n//                         variant=\"body1\"\n//                     >\n//                         {`${moment().format('hh:mm A')} ${user.timezone}`}\n//                     </Typography>\nimport {\n    Avatar,\n    Box,\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    Divider,\n    Grid,\n    makeStyles,\n    Typography\n} from '@material-ui/core';\nimport Banner from 'react-js-banner';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        '& > *': {\n            margin: theme.spacing(1),\n        },\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    large: {\n        width: theme.spacing(13),\n        height: theme.spacing(13),\n    },\n}));\n\n\nfunction AccountProfile(props) {\n    const classes = useStyles();\n    const profiles=props;\n    let avatar = '/images/avatars/' + props.avatar + '.jpg';\n    let banner = '/images/banners/' + props.banner + '.jpg';\n    let ficha = '/images/fichas/' + props.ficha + '.png';\n\n    console.log(avatar);\n    console.log(banner);\n    console.log(ficha);\n\n    return (\n\n        <Card {...props}>\n            <CardContent>\n                <Box\n                    sx={{\n                        alignItems: 'center',\n                        display: 'flex',\n                        flexDirection: 'column'\n                    }}\n                >\n                <Grid\n                    container\n                    spacing={3}\n                >\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={6}\n                    >\n\n                        <Avatar\n                            title='Avatar'\n                            src={avatar}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        sm={3}\n                        xs={6}\n\n                    >\n                        <Avatar\n                            title='Forma Ficha'\n                            src={ficha}\n                            className={classes.large}\n\n\n                        />\n                    </Grid>\n\n                    <Grid\n                        item\n                        md={6}\n                        xs={12}\n                    >\n\n                        <img\n\n                            title='Banner'\n                            src={banner}\n                            sx={{\n                                alignItems: 'center',\n                                display: 'flex',\n                                flexDirection: 'row'\n                            }}\n                            width=\"800\"\n                            height=\"300\"\n\n                        />\n                    </Grid>\n                </Grid>\n                    <Typography\n                        color=\"textPrimary\"\n                        gutterBottom\n                        variant=\"h3\"\n                    >\n                        {profiles.user}\n                    </Typography>\n                    <Typography\n                        color=\"textSecondary\"\n                        variant=\"body1\"\n                    >\n                        {`${profiles.mail} `}\n                    </Typography>\n\n                </Box>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default AccountProfile;\n","import React, {useState} from 'react';\n\nimport {Box, Button, Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\nconst states = [\n  {\n    value: 'alabama',\n    label: 'Alabama'\n  },\n  {\n    value: 'new-york',\n    label: 'New York'\n  },\n  {\n    value: 'san-francisco',\n    label: 'San Francisco'\n  }\n];\n\nfunction AccountProfileDetails(props) {\n  const profile=props;\n\n\n\n\n  const handleChange = (event) => {\n\n  };\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Información del usuario\"\n              title=\"Perfil\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.user}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Usuario\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.mail}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Email\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.pregu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Pregunta de seguridad\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    value={profile.resu}\n                    disabled\n                    id=\"outlined-disabled\"\n                    label=\"Respuesta\"\n                    defaultValue=\"Hello World\"\n                    variant=\"outlined\"\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n        </Card>\n      </form>\n\n  );\n}\n\nexport default AccountProfileDetails;\n","import { useState } from 'react';\nimport React from 'react'\nimport { getToken } from '../Utils/Common';\n\n\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  TextField\n} from '@material-ui/core';\nimport axios from \"axios\";\nimport {setUserSession} from \"../Utils/Common\";\n\nconst SettingsPassword = (props) => {\n  const [values, setValues] = useState({\n    oldpassword: '',\n    password: '',\n    confirm: ''\n  });\n\n  const handleChange = (event) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleModifyPassword= () => {\n    axios.post('https://unitrivia.herokuapp.com/api/profile/modify/password',{} ,{ headers:{\n        'jwt': getToken(),\n        newpassword: values.password,\n        oldpassword: values.oldpassword\n      }}).then(response => {\n      console.log(response)\n      alert('Contraseña cambiada exitosamente');\n      window.location.reload(true);\n    }).catch(error => {\n      alert(error.message)\n    });\n\n\n  }\n\n  return (\n    <form {...props} onSubmit={handleModifyPassword}>\n      <Card>\n        <CardHeader\n          subheader=\"Update password\"\n          title=\"Password\"\n        />\n        <Divider />\n        <CardContent>\n          <TextField\n              fullWidth\n              label=\"Old password\"\n              margin=\"normal\"\n              name=\"oldpassword\"\n              onChange={handleChange}\n              type=\"password\"\n              value={values.oldpassword}\n              variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"New Password\"\n            margin=\"normal\"\n            name=\"password\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.password}\n            variant=\"outlined\"\n          />\n          <TextField\n            fullWidth\n            label=\"Confirm new password\"\n            margin=\"normal\"\n            name=\"confirm\"\n            onChange={handleChange}\n            type=\"password\"\n            value={values.confirm}\n            variant=\"outlined\"\n          />\n        </CardContent>\n        <Divider />\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'flex-end',\n            p: 2\n          }}\n        >\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={handleModifyPassword}\n          >\n            Update\n          </Button>\n        </Box>\n      </Card>\n    </form>\n  );\n};\n\nexport default SettingsPassword;\n","import React, {useState} from 'react';\n\nimport {Card, CardContent, CardHeader, Divider, Grid, TextField} from '@material-ui/core';\n\nconst states = [\n  {\n    value: 'alabama',\n    label: 'Alabama'\n  },\n  {\n    value: 'new-york',\n    label: 'New York'\n  },\n  {\n    value: 'san-francisco',\n    label: 'San Francisco'\n  }\n];\n\nfunction Stats(props) {\n  const profile=props\n\n\n\n\n  return (\n      <form\n          autoComplete=\"off\"\n          noValidate\n          {...props}\n      >\n        <Card>\n          <CardHeader\n              subheader=\"Estadísticas del usuario\"\n              title=\"Estadísticas\"\n          />\n          <Divider/>\n          <CardContent>\n            <Grid\n                container\n                spacing={3}\n            >\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas jugadas\"\n                    name=\"firstName\"\n                    defaultValue={'0'}\n                    value={profile.jugadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Coins\"\n                    name=\"question\"\n                    value={profile.coins}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas ganadas\"\n                    name=\"email\"\n                    defaultValue={'0'}\n                    value={profile.ganadas}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n              <Grid\n                  item\n                  md={6}\n                  xs={12}\n              >\n                <TextField\n                    fullWidth\n                    label=\"Partidas Perdidas\"\n                    name=\"question\"\n                    value={profile.jugadas-profile.ganadas}\n                    defaultValue={'0'}\n                    variant=\"outlined\"\n                    disabled={true}\n                />\n              </Grid>\n\n            </Grid>\n          </CardContent>\n          <Divider/>\n\n\n        </Card>\n\n\n      </form>\n\n  );\n}\n\nexport default Stats;\n","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddBox from '@material-ui/icons/AddBox';\nimport {Card, CardHeader, Collapse, Typography, Button, Grid, CardActions} from \"@material-ui/core\";\nimport PropTypes from 'prop-types';\nimport {FixedSizeList} from 'react-window';\nimport {ExpandLess, ExpandMore} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport {getToken} from \"../Utils/Common\";\n\nlet avatares = [];\nlet banners = [];\nlet fichas = [];\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\nfunction renderRowAvatars(props){\n  const { index, style } = props;\n  let currentAv = '/images/avatars/' + avatares[index] + '.jpg';\n    //console.log(avatares);\n\n  const clickAddAvatar = () => {\n        console.log(\"avatar clickado\");\n        console.log(String(avatares[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Avatar\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/avatar', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idavatar: String(avatares[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar avatar');\n            });\n        }\n  }\n\n  return(\n\n      <ListItem button style={style} key={index} onClick={clickAddAvatar}>\n        <ListItemAvatar>\n          <Avatar\n            src={currentAv}\n          >\n\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText\n            primary={avatares[index]}\n        />\n      </ListItem>\n\n  )\n};\n\nrenderRowAvatars.propTypes = {\n  index: PropTypes.number.isRequired,\n  style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowBanners(props){\n    const { index, style } = props;\n    let currentB = '/images/banners/' + banners[index] + '.jpg';\n    //console.log(avatares);\n\n    const clickAddBanner = () => {\n        console.log(\"banner clickado\");\n        console.log(String(banners[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Banner\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/banner', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idbanner: String(banners[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar banner');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddBanner}>\n            <ListItemAvatar>\n                <img\n                    src={currentB}\n                    width=\"300\"\n                    height=\"50\"\n                >\n\n                </img>\n            </ListItemAvatar>\n            <ListItemText\n                primary={banners[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowBanners.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\n\nfunction renderRowFichas(props){\n    const { index, style } = props;\n    let currentF = '/images/fichas/' + fichas[index] + '.png';\n    //console.log(avatares);\n\n    const clickAddFichas = () => {\n        console.log(\"ficha clickado\");\n        console.log(String(fichas[index]));\n        let aceptar = window.confirm(\"Presione en OK para cambiar su Forma de Ficha\");\n        if(aceptar === true) {\n            axios.post('https://unitrivia.herokuapp.com/api/profile/modify/formFicha', {}, {\n                headers: {\n                    jwt: getToken(),\n                    idformficha: String(fichas[index])\n                }\n            }).then(response => {\n\n                //setUserSession(response.data.token, response.data.user);\n                window.location.reload(true);\n            }).catch(error => {\n\n                alert('Error al cambiar forma de ficha');\n            });\n        }\n    }\n\n    return(\n\n        <ListItem button style={style} key={index} onClick={clickAddFichas}>\n            <ListItemAvatar>\n                <Avatar\n                    src={currentF}\n                >\n\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={fichas[index]}\n            />\n        </ListItem>\n\n    )\n}\n\nrenderRowFichas.propTypes = {\n    index: PropTypes.number.isRequired,\n    style: PropTypes.object.isRequired,\n};\n\nfunction Items(props) {\n    const profile = props.comprados;\n    const coins = props.coins;\n    const classes = useStyles();\n    const [openAvatar, setOpenAvatar] = useState(false);\n    const [openBanner, setOpenBanner] = useState(false);\n    const [openFicha, setOpenFicha] = useState(false);\n\n    if(profile != null) {\n        console.log(profile);\n        console.log(coins);\n        avatares = [];\n        banners = [];\n        fichas = [];\n        for (let i = 0; i < profile.length; i++) {\n            let word = profile[i];\n            if (word[0] == 'a') {\n                avatares.push(word);\n            } else if (word[0] == 'b') {\n                banners.push(word);\n            } else if (word[0] == 'f') {\n                fichas.push(word);\n            }\n        }\n    }\n\n\n\n\n    const handleClickAv = () => {\n        setOpenAvatar(!openAvatar);\n    };\n    const handleClickBa = () => {\n        setOpenBanner(!openBanner);\n    };\n    const handleClickFi = () => {\n        setOpenFicha(!openFicha);\n    };\n\n    const irATiendaAvatares = () =>{\n        props.onResponse(\"Avatar\")\n    }\n\n    const irATiendaBanners = () =>{\n        props.onResponse(\"Banner\")\n    }\n\n    const irATiendaFichas = () =>{\n        props.onResponse(\"Ficha\")\n    }\n\n  return (\n      <Card>\n        <CardHeader\n            subheader=\"Objetos adquiridos por el usuario\"\n            title=\"Objetos\"\n        />\n        <List>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickAv}>\n                  <ListItemText primary=\"Avatares\" />\n                  {openAvatar ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openAvatar} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={avatares.length}>\n                      {renderRowAvatars}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickBa}>\n                  <ListItemText primary=\"Banners\" />\n                  {openBanner ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openBanner} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={banners.length}>\n                      {renderRowBanners}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n          <div className={classes.demo}>\n              <ListItem button onClick={handleClickFi}>\n                  <ListItemText primary=\"Formas de ficha\" />\n                  {openFicha ? <ExpandLess /> : <ExpandMore />}\n              </ListItem>\n              <Collapse in={openFicha} timeout=\"auto\">\n                  <FixedSizeList height={100} width={800} itemSize={46} itemCount={fichas.length}>\n                      {renderRowFichas}\n                  </FixedSizeList>\n              </Collapse>\n          </div>\n\n        </List>\n        <CardActions>\n         <Button\n            color=\"primary\"\n            fullWidth\n            variant=\"text\"\n            onClick={irATiendaAvatares}\n         >\n             Obtener Avatares\n         </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaBanners}\n          >\n              Obtener Banners\n          </Button>\n          <Button\n              color=\"primary\"\n              fullWidth\n              variant=\"text\"\n              onClick={irATiendaFichas}\n          >\n              Obtener Fichas\n          </Button>\n        </CardActions>\n      </Card>\n\n  );\n}\n\nexport default Items;\n","import React, { useState, useEffect } from 'react';\nimport {Card, CardHeader, Collapse, Grid} from '@material-ui/core';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {ArrowBack, ExpandLess, ExpandMore} from \"@material-ui/icons\";\nimport {FixedSizeList} from \"react-window\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken} from \"../Utils/Common\";\nimport axios from \"axios\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport PropTypes from \"prop-types\";\nimport async from \"async\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nlet comprados_tipo = [];\nlet catalogo_tipo_no_reps = [];\nlet tipo = undefined;\n\nconst useStyles = makeStyles((theme) => ({\n\n    root: {\n        width: '100%',\n        height: 400,\n        maxWidth: 300,\n        backgroundColor: theme.palette.background.paper,\n    },\n}));\n\n\n\n\n\n\n\nfunction Tienda (props){\n    let comprados_tipo = [];\n    let catalogo_tipo_no_reps = [];\n    const [numObj, setnum] = useState(null);\n    const [cat, setCat] = useState(null);\n    let catalogo_tipo = undefined;\n    const classes = useStyles();\n    let coins = props.location.state.actual_coins;\n    console.log(coins);\n    let comprados = props.location.state.comprados;\n    console.log(comprados);\n    let tipo = props.location.state.tipo;\n    console.log(tipo);\n    let header = null;\n\n    if(tipo == \"Avatar\"){\n        header = \"Bienvenido a la Tienda de Avatares\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] == 'a') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo == \"Banner\"){\n        header = \"Bienvenido a la Tienda de Banners\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] == 'b') {\n                comprados_tipo.push(word);\n            }\n        }\n    }else if(tipo == \"Ficha\"){\n        header = \"Bienvenido a la Tienda de Formas de Ficha\"\n        for (let i = 0; i < comprados.length; i++) {\n            let word = comprados[i];\n            if (word[0] == 'f') {\n                comprados_tipo.push(word);\n            }\n        }\n    }\n\n    console.log(comprados_tipo);\n\n\n\n    useEffect(() => {\n       axios.get('https://unitrivia.herokuapp.com/api/tienda/catalogo',{headers: {\n                tipo: tipo\n            }}).then((response) => {\n\n            catalogo_tipo = response.data;\n            console.log(catalogo_tipo);\n            console.log(response.data);\n            console.log(response);\n            //quitamos de la tienda lo que ya tenemos\n            let index = 0;\n            for(let i = 0; i < catalogo_tipo.length; i++){\n                let lo_tengo = false;\n                for(let j = 0; j < comprados_tipo.length; j++){\n                    console.log(catalogo_tipo[i].nombre);\n                    if(catalogo_tipo[i].nombre == comprados_tipo[j]){\n                        lo_tengo = true;\n                    }\n\n                }\n                if(!lo_tengo){\n                    catalogo_tipo_no_reps[index] = catalogo_tipo[i];\n                    index++;\n                }\n            }\n            if(catalogo_tipo_no_reps.length == 0){\n                alert(\"Ya tienes todos los objetos\")\n            }\n            console.log(catalogo_tipo_no_reps.length);\n            setCat(catalogo_tipo_no_reps);\n            setnum(catalogo_tipo_no_reps.length);\n        }).catch((code,message) => {\n            console.log(code.response)\n            console.log(message)\n\n        });\n    }, []);\n\n\n    function renderRow(props){\n        const { index, style } = props;\n        console.log(cat);\n        let precio = cat[index].precio + \" coins\";\n        const clickBuy = () => {\n\n\n            console.log(\"clickado \" + cat[index].nombre);\n            if(cat[index].precio > coins){\n                alert(\"No dispone de suficientes coins para comprar este objeto\");\n            }else{\n                let aceptar = window.confirm(\"Presione en OK para comprar \" + cat[index].nombre + \" por \" + cat[index].precio + \" coins\");\n                if(aceptar === true) {\n                    axios.post('https://unitrivia.herokuapp.com/api/tienda/comprar', {}, {\n                        headers: {\n                            nombre: cat[index].nombre,\n                            jwt: getToken()\n                        }\n                    }).then(response => {\n\n                        //setUserSession(response.data.token, response.data.user);\n                        alert(\"Adquirido\");\n                        setTimeout(function(){console.log(\"esperamos server reaccione\")}, 1000);\n                        window.history.go(-1);\n                    }).catch(error => {\n\n                        alert('Error al cambiar forma de ficha');\n                    });\n                }\n            }\n        }\n\n        let current = undefined;\n        if(tipo == \"Avatar\"){\n            current = '/images/avatars/' + cat[index].nombre + '.jpg';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else if(tipo == \"Banner\"){\n            current = '/images/banners/' + cat[index].nombre + '.jpg';\n            return(\n                <div>\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <img\n                            src={current}\n                            width=\"600\"\n                            height=\"75\"\n                        >\n\n                        </img>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n                </div>\n\n            )\n        }else if(tipo == \"Ficha\"){\n            current = '/images/fichas/' + cat[index].nombre + '.png';\n            return(\n\n                <ListItem button style={style} key={index} onClick={clickBuy}>\n                    <ListItemAvatar>\n                        <Avatar\n                            src={current}\n                        >\n\n                        </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                        primary={cat[index].nombre}\n                        secondary={precio}\n                    />\n                </ListItem>\n\n            )\n        }else{\n            return(null);\n        }\n\n    }\n\n    renderRow.propTypes = {\n        index: PropTypes.number.isRequired,\n        style: PropTypes.object.isRequired,\n    };\n    return(\n        <Card>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/profile'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Grid\n                container\n                spacing={2}\n            >\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader=\"Objetos que hay actualmente en la tienda\"\n                        title={header}\n                    />\n                </Grid>\n                <Grid\n                    xs={6}\n                >\n                    <CardHeader\n                        subheader={coins}\n                        title=\"Coins\"\n                    />\n                </Grid>\n            </Grid>\n            <List>\n                <div className={classes.demo}>\n                    <FixedSizeList height={300} width={1500} itemSize={80} itemCount={numObj}>\n                        {renderRow}\n                    </FixedSizeList>\n                </div>\n            </List>\n        </Card>\n\n    );\n}\n\n\nexport default Tienda;","import React, {useEffect, useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Helmet } from 'react-helmet';\nimport {\n    Box,\n    Container,\n    Grid, Link\n} from '@material-ui/core';\nimport AccountProfile from './account/AccountProfile';\nimport AccountProfileDetails from './account/AccountProfileDetails';\nimport SettingsPassword from './settings/SettingsPassword';\nimport Stats from './account/Stats'\nimport Items from './account/Items'\nimport axios from \"axios\";\nimport {setUserSession,getToken,removeUserSession} from \"./Utils/Common\";\nimport Tienda from './tienda/Tienda';\nimport {ArrowBack} from \"@material-ui/icons\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Profile(props) {\n\n    const classes = useStyles();\n    let [preg, setPreg] = useState(null);\n    let [res, setRes] = useState();\n    let [coins, setCoins] = useState(null);\n    let [wins, setWins] = useState(null);\n    let [ficha, setFicha] = useState(null);\n    let [banner, setBanner] = useState(null);\n    let [comprados, setComprados] = useState(null);\n    let [avatar, setAvatar] = useState(null);\n    let [njugadas, setNjugadas] = useState(null);\n    let [email, setEmail] = useState(null);\n    let [username, setUsername] = useState(null);\n\n\n    useEffect(() => {\n        console.log(getToken())\n\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setPreg(response.data.preg);\n            setRes(response.data.res);\n            setCoins(response.data.cns);\n            setWins(response.data.ng);\n            setFicha(response.data.fich);\n            setBanner(response.data.bnr);\n            setComprados(response.data.rfs);\n            setAvatar(response.data.avtr);\n            setNjugadas(response.data.nj);\n\n            setEmail(response.data.mail);\n            //username=response.data._id;\n            setUsername(response.data._id);\n\n            console.log(response.data)\n            console.log(response)\n            //setUserSession(response.data.token, response.data.user);\n        }).catch((code,message) => {\n            console.log(code.response)\n            /*if (error.response.status === 200) {\n                setError(error.response.data.message);\n                alert('usuario existente')\n            }else {\n                setError(\"Something went wrong. Please try again later.\");\n            }*/\n        });\n    }, []);\n\n    const handleDeleteUser = () => {\n        try {\n            var aceptar = window.confirm(\"Presione en OK para borrar cuenta para siempre\");\n            if(aceptar === true) {\n\n\n                axios.delete('https://unitrivia.herokuapp.com/api/profile', {\n                    headers: {\n                        'jwt': getToken()\n                    }\n                }).then(response => {\n                    console.log(response)\n                    removeUserSession();\n                    props.history.push('/login');\n                }).catch(error => {\n                    alert(error.message)\n                    console.log(error)\n                });\n            }\n        }catch (e) {\n            alert(e.message);\n        }\n\n    }\n\n    const irATiendaAvatares = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Avatar'\n            }\n        })\n    }\n\n    const irATiendaBanners = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Banner'\n            }\n        })\n    }\n\n    const irATiendaFichas = () =>{\n        props.history.push({\n            pathname: '/Tienda',\n            state:{\n                actual_coins: coins,\n                comprados: comprados,\n                tipo: 'Ficha'\n            }\n        })\n    }\n\n    function handleResponseFromItem(response){\n\n        console.log(response);\n        if(response == \"Avatar\"){\n            irATiendaAvatares();\n        }else if(response == \"Banner\"){\n            irATiendaBanners();\n        }else if(response == \"Ficha\"){\n            irATiendaFichas();\n        }\n    }\n\n\n    return (\n        <>\n            <Helmet>\n                <title>Account | Material Kit</title>\n            </Helmet>\n            <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/menu'}>\n                <ArrowBack color=\"primary\"/>\n                Volver\n            </IconButton>\n            <Box\n                sx={{\n                    backgroundColor: 'background.default',\n                    minHeight: '100%',\n                    py: 3\n                }}\n            >\n                <Container maxWidth=\"lg\">\n                    <Grid\n                        container\n                        spacing={3}\n                    >\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfile user={username} mail={email} avatar={avatar} banner={banner} ficha={ficha}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <AccountProfileDetails user={username} mail={email} pregu={preg} resu={res} />\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Stats jugadas={njugadas} ganadas={wins} coins={coins}/>\n                        </Grid>\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Items comprados={comprados} coins={coins} onResponse={handleResponseFromItem.bind()}/>\n                        </Grid>\n\n                        <Grid\n                            item\n                            lg={8}\n                            md={6}\n                            xs={12}\n                        >\n                            <Box sx={{ pt: 3 }}>\n                                <SettingsPassword />\n                            </Box>\n                        </Grid>\n                        <Button\n                            color=\"primary\"\n                            variant=\"contained\"\n                            onClick={handleDeleteUser}\n                        >\n                            Borrar usuario\n                        </Button>\n                    </Grid>\n\n                </Container>\n\n            </Box>\n        </>\n    );\n}\n\n\nexport default Profile;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {getToken, getUser} from './Common';\n\n// handle the private routes\nfunction NoGuestRoute({ component: Component, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={(props) => getToken() && getUser() ? <Component {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\n        />\n    )\n}\n\nexport default NoGuestRoute;","import React, {useEffect, useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {getToken, getUser, removeUserSession} from \"./Utils/Common\";\nimport {io,socketIOClient} from \"socket.io-client\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Modal, ModalHeader, ModalBody, ModalFooter, Input, Label} from \"reactstrap\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport {Card, CardContent} from \"@material-ui/core\";\n\nconst ENDPOINT = \"http://unitrivia.herokuapp.com/api/partida\";\n//const ENDPOINT = \"http://localhost:3000/api/partida\";\n\nexport let conn = undefined;\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst StyledMenu = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ${({open}) => open ? 'translateX(0)' : 'translateX(-100%)'};\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n`\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Play(props) {\n    const classes = useStyles();\n    const [connPassed, Pass] = useState(null);\n    const [modalAbierto ,modalAbiertoState] = useState(false);\n    let [esReconexion, setReconexion] = useState(false);\n    const code = useFormInput('');\n\n    useEffect( () => {\n\n\n    }, []);\n\n    const crearSala = ()=>{\n        console.log(\"comienza crearSala\");\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt: getToken(),\n                operacion: \"crearSala\",\n                priv:\"true\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n\n    }\n\n\n    const abrirModal = () =>{\n        modalAbiertoState(!modalAbierto);\n    }\n\n    const unirseSala = ()=>{\n        let salaAct = code.value;\n        console.log(salaAct);\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"unirseSala\",\n                sala: salaAct\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const partidaAleatoria = () =>{\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"buscarPartida\"\n            }\n        });\n        conn.on(\"connect\",()=>{\n            console.log(conn.connected);\n            console.log(conn.disconnected);\n            console.log(conn.nsp);\n            console.log(conn);\n            if(conn.connected === true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"No conectado\");\n                alert(\"Fallo al conectar con el servidor\");\n            }\n        })\n    }\n\n    const reconexion = () =>{\n        console.log(conn);\n        conn = undefined;\n        console.log(conn);\n        let conectado = undefined;\n\n        conn = io(ENDPOINT,{\n            extraHeaders:{\n                jwt:getToken(),\n                operacion: \"reconexion\"\n            }\n        });\n\n        console.log(conn);\n        conn.on(\"connect\",()=>{\n            conectado=conn.connected;\n            if(conectado==true){\n                console.log(\"Conectado\");\n                props.history.push('/Game');\n            }else{\n                console.log(\"no conectado\");\n                alert(\"Fallo al reconectar a partida\");\n            }\n        })\n    }\n\n    axios.get(ENDPOINT + \"/reconexion\",{headers: {\n            jwt: getToken()\n        }}).then((response) => {\n        setReconexion(response.data !== \"\");\n\n    }).catch((code, message) => {\n        console.log(code.response)\n    });\n\n    return (\n            <Card>\n                <CardContent>\n\n                    <StyledMenu open={true}>\n                        <h1>UNITRIVIA</h1>\n                        <h2>JUGAR</h2>\n                        <Button onClick={partidaAleatoria}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"about us\">🔎</span>\n                            PARTIDA ALEATORIA\n                        </Button>\n                        <Button  onClick={crearSala}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"price\">🛠</span>\n                            CREAR SALA\n                        </Button>\n                        <Button onClick={abrirModal}\n                           disabled={esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\">🤝</span>\n                            UNIRSE A SALA\n                        </Button>\n                        <Modal isOpen={modalAbierto == true}>\n                            <ModalHeader>\n                                Escriba el código de sala\n                            </ModalHeader>\n                            <ModalBody>\n\n                                <form className={classes.form} noValidate>\n                                    <TextField\n\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        id=\"code\"\n                                        label=\"Código\"\n                                        name=\"code\"\n                                        autoComplete=\"Codigo\"\n                                        autoFocus\n                                        {...code}\n\n                                    />\n                                </form>\n\n                            </ModalBody>\n                            <ModalFooter>\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    onClick={unirseSala}\n\n                                >\n                                    Confirmar Código\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={abrirModal}\n\n                                >\n                                    Cerrar\n                                </Button>\n\n                            </ModalFooter>\n                        </Modal>\n                        <Button onClick={reconexion}\n                           disabled={!esReconexion}>\n                            <span role=\"img\" aria-label=\"contact\">🔄</span>\n                            RECONECTAR\n                        </Button>\n                        <a href={'/Menu'}>\n                            <span role=\"img\" aria-label=\"contact\">⬅</span>\n                            ATRÁS\n                        </a>\n                    </StyledMenu>\n\n                </CardContent>\n            </Card>\n\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n\n    const handleChange = e => {\n        setValue(e.target.value);\n    }\n    return {\n        value,\n        onChange: handleChange\n    }\n}\n\n\n\nexport default Play;","import React, {useEffect, useState} from 'react';\nimport { Widget, addResponseMessage  } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport {conn} from \"../Play\";\nimport {getUser} from \"../Utils/Common\";\n\nconst io = require(\"socket.io-client\");\nconst http = require(\"http\");\n\n\nfunction Chat(props){\n\n    console.log(\"estoy en chat\");\n    console.log(conn);\n\n    /*let connTest1 = io(ENDPOINT,{\n        extraHeaders:{\n            jwt: getToken(),\n            operacion: \"crearSala\",\n            priv: \"true\"\n        }\n    });*/\n\n    conn.on('nuevoJugador',(user)=> {\n        const usuario = user.jugador;\n        addResponseMessage(\"El jugador \" + usuario + \" ha entrado a la sala.\");\n    })\n\n    conn.on('reconexionJugador',(user)=> {\n        const nombre = user.jugador;\n        addResponseMessage(\"El jugador \" + nombre + \" se ha reconectado.\");\n    })\n\n    conn.on('abandonoSala',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la sala.\");\n    })\n\n    conn.on('jugadorSale',(user)=>{\n        addResponseMessage(\"El jugador \" + user + \" ha abandonado la partida\");\n    })\n\n    conn.on('chat', ({usuario, msg})=>{\n        let msgFull = 'Mensaje de ' + usuario + ': ' + msg;\n        addResponseMessage(msgFull);\n    })\n\n\n    const handleNewUserMessage = (newMessage) => {\n        console.log(`New message incomig! ${newMessage}`);\n        // Now send the message throught the backend API\n        conn.emit(\"mensaje\", `${newMessage}`);\n        //end backend\n        //addResponseMessage(\"que tal\");\n    }\n\n\n\n    return (\n        <div className=\"Chat\">\n            <Widget\n                handleNewUserMessage={handleNewUserMessage}\n                title=\"CHAT\"\n                subtitle=\"Chat de la sala actual\"\n            />\n\n        </div>\n    );\n\n}\n\nexport default Chat;","import { render } from '@testing-library/react';\nimport React,{Component} from 'react';\nimport './Cheese.css';\n\n\nfunction Cheese (props){\n        let cheeses = []\n    console.log(props.color);\n        props.color.forEach((color)=>{\n            cheeses.push(<div className={\"piece \" + color}></div>)})\n        //cheeses.push(<div className={\"piece \" + \"blue\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"yellow\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"brown\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"orange\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"pink\"}></div>)\n        //cheeses.push(<div className={\"piece \" + \"green\"}></div>)\n        return (\n            <div className = \"cheese\">\n                {cheeses}\n            </div>\n        );\n\n}\nexport default Cheese;","import React, {useEffect, useState} from 'react'\nimport ReactDOM from 'react-dom'\nimport {Card, CardContent, TextField} from '@material-ui/core';\n//import {io,socketIOClient} from \"socket.io-client\";\nimport Cheese from './Cheese';\n//import Cheese from './Cheese';\nimport {getToken} from \"../Utils/Common\";\n\nimport {conn} from \"../Play\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Avatar from '@material-ui/core/Avatar';\n\n\nconst io = require(\"socket.io-client\");\nconst http = require(\"http\");\n\n\nconst ENDPOINT = \"http://unitrivia.herokuapp.com/api/partida\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Room(props) {\n    const classes = useStyles();\n    let [coloresAcertados,setColoresAcertados]=useState([\"yellow\",\"pink\"])\n    let [jugadores,setJugadores] = useState([]);\n    let [codigoSala,setCodigoSala] = useState(null);\n    let [username,setUsername]=useState(\"\");\n    let [admin,setAdmin] = useState('');\n    let esprimero=true;\n    let [nuevoJugador,setNuevoJugador]=useState(false);\n\n    useEffect(() => {\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            setUsername(response.data._id);\n            console.log(jugadores);\n            console.log(response.data._id);\n            if (jugadores.length==0 &&  esprimero) {\n                console.log(\"Es el primero, lo ponemos como admin\");\n                const list = jugadores.concat(response.data._id);\n                setAdmin(response.data._id);\n                setJugadores(list);\n            } else {\n                console.log(\"Se intenta meter un usuario que ya estaba\");\n            }\n        }).catch((code,message) => {\n            console.log(code.response)\n        });\n    }, []);\n    conn.on('nuevoJugador',(user)=> {\n        console.log(user);\n        console.log(admin);\n        if (!jugadores.includes(user)) {\n            console.log(\"Es nuevo de verdad\");\n            const list = jugadores.concat(user);\n            setJugadores(list);\n        } else {\n            console.log(\"Se intenta meter un usuario que ya estaba\");\n        }\n    })\n    conn.on('cargarJugadores',(users)=>{\n        console.log(users);\n        console.log(users.jugadores);\n        setAdmin(users.jugadores[0]);\n        esprimero=false;\n        //console.log(users.jugadores.prototype);\n        //setJugadores([...users.jugadores]);\n        setJugadores(users.jugadores);\n    })\n    conn.on('abandonoSala',(user)=>{\n        console.log(\"Entramos en abandono de sala \"+jugadores);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(user);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n            setJugadores(arrayJugadores);\n        }\n    })\n    conn.on('cambioLider',({antiguo,nuevo})=>{\n        console.log(\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n        var arrayJugadores=jugadores;\n        var indexUser=arrayJugadores.indexOf(antiguo);\n        if(indexUser>-1){//no ha dado error\n            console.log(\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n            arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n            setJugadores(arrayJugadores);\n            setAdmin(nuevo);\n        }else{\n            console.log(\"ha dado error el indexOf\");\n\n        }\n    })\n    const quesitos=()=>{\n        console.log(\"EStoy en quesitos\");\n        conn.on('estadoPartida',(info)=>{\n            console.log(info);\n        })\n    }\n\n    const listarJugadores = () => {\n        const listJugadores = jugadores.map((jugador)=>\n            <li key=\"{jugador}\">{jugador}</li>\n        )\n        return(\n            <List dense className={classes.root}>\n                {jugadores.map((value) => {\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    return (\n                        <div>\n                            <ListItem key={value} button>\n                                <ListItemText id={labelId} primary={`Line item ${value + 1}`} />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n    const devolverCodigoSala = () => {\n        conn.emit(\"obtenerIdSala\",(id)=>{\n            //console.log(\"En obtener id \");\n            console.assert(id!=='','Error al obtener idSala');\n            setCodigoSala(id);\n            //console.log(id);\n        })\n        //console.log(\"El identificador es :\");\n        return (\n            <h6>El codigo de la sala es {codigoSala}</h6>\n        )\n    }\n    const empezarPartida=()=>{\n        conn.on('comienzoPartida',()=>{\n            console.log(\"Comienza la partida\");\n        })\n    }\n    const botonEmpezar = () => {\n        console.log(\"Estoy en boton: username: \"+username+\"  y admin  \"+admin);\n        if(username===admin){\n            return(\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={empezarPartida}\n                >\n                    Empezar Partida\n                </Button>\n            )\n        }\n    }\n    return (\n        <div>\n            <div>\n                Hola\n            </div>\n            <div>\n                {listarJugadores()}\n            </div>\n            <div>\n                {devolverCodigoSala()}\n            </div>\n            <div>\n                {botonEmpezar()}\n            </div>\n        </div>\n\n    );\n}\n\n\nexport default Room;","import styled from 'styled-components'\nimport React from 'react'\nimport Button from '@material-ui/core/Button';\n\n\nconst Title = styled.h1`\n  margin-top: 4em;\n  font-size: 48px;\n`;\n\nconst Points = styled.p`\n  font-size: 24px;\n  margin-bottom: 3em;\n`;\n\nfunction GameOver(props){\n    let pts = props.pts;\n    let estado;\n    if(pts === 1){\n        estado = \"CORRECTA\";\n    }else{\n        estado = \"INCORRECTA\";\n    }\n\n\n\n    return (\n        <>\n            <Title>Resultado</Title>\n            <Points>Respuesta {estado}</Points>\n\n\n        </>\n\n    )\n}\n\nexport default GameOver","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport GameOver from './GameOver';\n\n\nconst QuizWindow = styled.div`\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n`;\n\nconst Options = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n`;\n\nconst Option = styled.button`\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n`;\n\nconst Question = styled.div`\n  width: 70%;\n  margin: 0 auto;\n`;\n\nfunction Quiz(props) {\n\n    //console.log(props.pregunta)\n    let question = props.pregunta.pregunta.pregunta; //se sacaría de props  pregunta.pregunta\n    //let question = \"preguntita brother\"; //se sacaría de props\n\n    let incorrect_answers = props.pregunta.pregunta.resps_inc; //se sacaría de props\n    let correct_answer = props.pregunta.pregunta.resp_c; //se sacaría de props\n\n    console.log(correct_answer)\n\n    const [quiz, setQuiz] = useState([]);\n    const [number, setNumber] = useState(0);\n    const [pts, setPts] = useState(0);\n\n    const shuffle = (arr) => arr.sort(() => Math.random() - 0.5);\n\n    const pickAnswer = (e) => {\n        console.log(e)\n        var userAnswer = e.target.innerText;\n        console.log(e.target.innerText)\n        console.log(quiz[number])\n        console.log(userAnswer)\n        if (quiz[number].answer === userAnswer){\n            setPts(pts + 1);\n            props.onResponse({result: 1, casillaInfo: props.pregunta});\n        }else{\n            console.log('fallaste'+ quiz[number].answer +' '+userAnswer)\n            props.onResponse({result: 0, casillaInfo: props.pregunta});\n        }\n        setNumber(number + 1);\n\n    }\n\n    useEffect(() => {\n\n\n        let pregunta_global = {\n            question: question,\n            options: shuffle([...incorrect_answers, correct_answer]),\n            answer: correct_answer\n        }\n        setQuiz([pregunta_global]);\n\n\n\n    }, []);\n\n\n\n\n\n    return (\n        <div>\n        <QuizWindow>\n            { quiz[number] &&\n\n            <>\n                <Question dangerouslySetInnerHTML={{ __html: quiz[number].question }}></Question>\n\n                <Options>\n                    {quiz[number].options.map((item, index) => (\n                        <Option key={index} dangerouslySetInnerHTML={{ __html: item }} onClick={pickAnswer}></Option>\n                    ))}\n                </Options>\n            </>\n\n            }\n            {\n\n                number === 1 && <GameOver pts={pts}/>\n            }\n\n        </QuizWindow>\n        </div>\n    )\n}\n\nexport default Quiz;","import tinycolor from 'tinycolor2' // TODO: Make this smaller?\n\nexport function produceRgbShades (r, g, b, amount) {\n  let shades = []\n\n  const hsl = tinycolor(`rgb(${r}, ${g}, ${b})`).toHsl()\n\n  for (let i = 9; i > 1; i -= 8 / amount) { // Decrements from 9 - 1; i being what luminosity (hsl.l) is multiplied by.\n    hsl.l = 0.1 * i\n    shades.push(tinycolor(hsl).toRgb())\n  }\n\n  return shades\n}\n\nexport function colourToRgbObj (colour) { // TODO: Note which colours tinycolor() can take; i.e. hex / rgb strings, objects, etc.\n  return tinycolor(colour).toRgb()\n}\n\nexport function calculateBounds (min, max) { // i.e. min & max pixels away from the center of the canvas.\n  return {\n    inside: (cursorPosFromCenter) => { // our relative mouse-position is passed through here to check.\n      return cursorPosFromCenter >= min && cursorPosFromCenter <= max\n    }\n  }\n}\n\nexport function convertObjToString (obj) {\n  return tinycolor(obj).toRgbString()\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getEffectiveRadius (trueRadius, lineWidth) {\n  return trueRadius - lineWidth / 2\n}\n\n// Method is helpful for generating a radius representative of the stroke + taking into account lineWidth.\nexport function getCasillaNumber (r, g, b) {\n  let casilla;\n  if (r === 59 && g === 56 && b === 135) {\n    casilla = 0\n  } else if (r === 255 && g === 255 && b === 255) {\n    casilla = 1\n  } else if (r === 0 && g === 136 && b === 19) {\n    casilla = 2\n  } else if (r === 0 && g === 145 && b === 226) {\n    casilla = 3\n  } else if (r === 255 && g === 100 && b === 0) {\n    casilla = 10\n  } else if (r === 255 && g === 255 && b === 254) {\n    casilla = 11\n  } else if (r === 236 && g === 215 && b === 0) {\n    casilla = 12\n  } else if (r === 0 && g === 136 && b === 18) {\n    casilla = 13\n  } else if (r === 0 && g === 145 && b === 225) {\n    casilla = 20\n  } else if (r === 255 && g === 255 && b === 253) {\n    casilla = 21\n  } else if (r === 255 && g === 100 && b === 1) {\n    casilla = 22\n  } else if (r === 0 && g === 145 && b === 224) {\n    casilla = 23\n  } else if (r === 0 && g === 136 && b === 17) {\n    casilla = 30\n  } else if (r === 255 && g === 255 && b === 252) {\n    casilla = 31\n  } else if (r === 236 && g === 215 && b === 1) {\n    casilla = 32\n  } else if (r === 59 && g === 56 && b === 134) {\n    casilla = 33\n  } else if (r === 255 && g === 0 && b === 235) {//\n    casilla = 40\n  } else if (r === 255 && g === 255 && b === 251) {\n    casilla = 41\n  } else if (r === 255 && g === 0 && b === 234) {\n    casilla = 42\n  } else if (r === 59 && g === 56 && b === 133) {\n    casilla = 43\n  } else if (r === 236 && g === 215 && b === 2) {\n    casilla = 50\n  } else if (r === 255 && g === 255 && b === 250) {\n    casilla = 51\n  } else if (r === 255 && g === 0 && b === 233) {\n    casilla = 52\n  } else if (r === 255 && g === 100 && b === 2) {\n    casilla = 53\n  }\n  else if (r === 255 && g === 100 && b === 3) {//radio 0\n    casilla = 63\n  } else if (r === 236 && g === 215 && b === 3) {\n    casilla = 62\n  } else if (r === 0 && g === 145 && b === 223) {\n    casilla = 61\n  }\n  else if (r === 255 && g === 0 && b === 237) {//radio 1\n    casilla = 73\n  } else if (r === 0 && g === 136 && b === 16) {\n    casilla = 72\n  } else if (r === 0 && g === 145 && b === 221) {\n    casilla = 71\n  }\n  else if (r === 59 && g === 56 && b === 132) {//radio 2\n    casilla = 83\n  } else if (r === 255 && g === 0 && b === 238) {\n    casilla = 82\n  } else if (r === 255 && g === 100 && b === 4) {\n    casilla = 81\n  }\n  else if (r === 236 && g === 215 && b === 4) {//radio 3\n    casilla = 93\n  } else if (r === 255 && g === 0 && b === 236) {\n    casilla = 92\n  } else if (r === 0 && g === 145 && b === 222) {\n    casilla = 91\n  }\n  else if (r === 255 && g === 100 && b === 5) {//radio 4\n    casilla = 103\n  } else if (r === 59 && g === 56 && b === 131) {\n    casilla = 102\n  } else if (r === 0 && g === 136 && b === 15) {\n    casilla = 101\n  }\n  else if (r === 0 && g === 136 && b === 14) {//radio 5\n    casilla = 113\n  } else if (r === 59 && g === 56 && b === 130) {\n    casilla = 112\n  } else if (r === 255 && g === 0 && b === 239) {\n    casilla = 111\n  }\n  return casilla\n}\n\n\nexport function getCoordByCasilla (casilla,i) {\n  let coord={x:0,y:0}\n  const offset=7\n  switch (casilla) {\n    case 0: coord.x=222.5 ;coord.y=4.6875+offset*i; break\n    case 1: coord.x=284.5 ;coord.y=11.6875+offset*i; break\n    case 2: coord.x=344.5 ;coord.y=23.6875+offset*i; break\n    case 3: coord.x=401.5 ;coord.y=57.6875+offset*i; break\n\n    case 10: coord.x=435.5;coord.y=111.6875+offset*i; break\n    case 11: coord.x=449.5;coord.y=166.6875+offset*i; break\n    case 12: coord.x=454.5;coord.y=220.6875+offset*i; break\n    case 13: coord.x=451.5;coord.y=278.6875+offset*i; break\n\n    case 20: coord.x=436.5;coord.y= 332.6875+offset*i; break\n    case 21: coord.x=404.5 ;coord.y=378.6875+offset*i; break\n    case 22: coord.x=343.5 ;coord.y=428.6875+offset*i; break\n    case 23: coord.x=287.5;coord.y= 448.6875+offset*i; break\n\n    case 30: coord.x=229.5;coord.y= 450.6875+offset*i; break\n    case 31: coord.x=175.5 ;coord.y=443.6875+offset*i; break\n    case 32: coord.x=124.5;coord.y= 423.6875+offset*i; break\n    case 33: coord.x=82.5 ;coord.y=385.6875+offset*i; break\n\n    case 40: coord.x=38.5 ;coord.y=341.6875+offset*i; break\n    case 41: coord.x=15.5 ;coord.y=286.6875+offset*i; break\n    case 42: coord.x=5.5 ;coord.y=223.6875+offset*i; break\n    case 43: coord.x=15.5 ;coord.y=167.6875+offset*i; break\n\n    case 50: coord.x=49.5 ;coord.y=108.6875+offset*i; break\n    case 51: coord.x=82.5 ;coord.y=67.6875+offset*i; break\n    case 52: coord.x=118.5 ;coord.y=38.6875+offset*i; break\n    case 53: coord.x=169.5 ;coord.y=13.6875+offset*i; break\n      //radio 0\n    case 61: coord.x=230.5 ;coord.y=62.6875+offset*i; break\n    case 62: coord.x=230.5 ;coord.y=113.6875+offset*i; break\n    case 63: coord.x=231.5;coord.y= 161.6875+offset*i; break\n      //radio 1\n\n    case 71: coord.x=377.5 ;coord.y=145.6875+offset*i; break\n    case 72: coord.x=330.5 ;coord.y=170.6875+offset*i; break\n    case 73: coord.x=293.5 ;coord.y=194.6875+offset*i; break\n      //radio 2\n    case 81: coord.x=390.5 ;coord.y=300.6875+offset*i; break\n    case 82: coord.x=343.5 ;coord.y=277.6875+offset*i; break\n    case 83: coord.x=310.5 ;coord.y=259.6875+offset*i; break\n      //radio 3\n    case 91: coord.x=232.5 ;coord.y=392.6875+offset*i; break\n    case 92: coord.x=236.5 ;coord.y=340.6875+offset*i; break\n    case 93: coord.x=235.5 ;coord.y=309.6875+offset*i; break\n      //radio 4\n    case 101: coord.x=92.5 ;coord.y=319.6875+offset*i; break\n    case 102: coord.x=135.5 ;coord.y=293.6875+offset*i; break\n    case 103: coord.x=179.5 ;coord.y=267.6875+offset*i; break\n      //radio 5\n    case 111: coord.x=94.5 ;coord.y=145.6875+offset*i; break\n    case 112: coord.x=136.5 ;coord.y=169.6875+offset*i; break\n    case 113: coord.x=179.5;coord.y= 195.6875+offset*i; break\n\n    case 777: coord.x=250;coord.y= 250+offset*i; break\n  }\n  return coord\n\n\n}","export default [\n  '#ff00ea',\n  '#3b3885',\n  '#ecd702',\n  '#fffffa',\n  '#ff00e9',\n  '#ff6402',\n  '#3b3887',//este es el primero\n  '#ffffff',\n  '#008813',\n  '#0091e2',\n  '#ff6400',\n  '#fffffe',\n  '#ecd700',\n  '#008812',\n  '#0091e1',\n  '#fffffd',\n  '#ff6401',\n  '#0091e0',\n  '#008811',\n  '#fffffc',\n  '#ecd701',//\n  '#3b3886',\n  '#ff00eb',\n  '#fffffb'\n]\n","// NOTES:\n// -- Array-destructuring assignment won't work w vanilla ie11; needs babel-polyfill lol\n\nimport React, {Component, useState} from 'react'\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\nimport PopupState, { bindTrigger, bindPopover } from 'material-ui-popup-state';\nimport Quiz from '../../Quiz/Quiz'\n\nimport PropTypes from 'prop-types'\n\n// Utils:\nimport {\n  calculateBounds,\n  colourToRgbObj,\n  convertObjToString,\n  getCasillaNumber, getCoordByCasilla,\n  getEffectiveRadius,\n  produceRgbShades\n} from '../../utils/utils'\nimport hexStrings from '../../utils/hexStrings'\nimport {Box, Card, CardContent, Modal, Popover, Typography} from '@material-ui/core'\nimport {conn} from '../../../../Play'\nimport {getPlayers, getToken, getUser} from \"../../../../Utils/Common\";\nimport throttle from 'lodash.throttle';\nimport Popup from \"reactjs-popup\";\nimport {green} from \"@material-ui/core/colors\";\nimport {CountdownCircleTimer} from \"react-countdown-circle-timer\";\nimport axios from \"axios\";\n// Global-vars:\nconst fullCircle = 2 * Math.PI\nconst quarterCircle = fullCircle / 4\n\nclass ColourWheel extends Component {\n\n  constructor (props) {\n\n    super(props)\n\n    this.state = {\n      rgb: null,\n      innerWheelOpen: false,\n      centerCircleOpen: false,\n      numPlayers: 0,\n      positionsX: [250,\n        250,\n        250,\n        250,\n        250,\n        250],\n      positionsY: [250,\n        250+10\n        ,250+20,\n        250+30,\n        250+40,\n        250+50],\n      puedoMover: false,\n      playerName: ['1','2','3','4','5','6'],\n      dado: 0,\n      quienSoy: 0,\n      posiblesJugadas: null,\n      casillaActualInfo: null,\n      desactivado:true,\n      open: false,\n      imagenes: [],\n      mostrarFicha:false,\n      pintarQuesito:false,\n      prueba: false,\n      botonCerrar: true\n    }\n\n    // Initialised just before the DOM has loaded; after constructor().\n    this.outerWheelBounds = null\n    this.innerWheelBounds = null\n    this.centerCircleBounds = null\n\n    this.outerWheelRadius = null\n    this.innerWheelRadius = null\n    this.centerCircleRadius = null\n    this.firstSpacerRadius = null\n    this.secondSpacerRadius = null\n\n    // Initialised once the DOM has loaded.\n    this.canvasEl = null\n    this.ctx = null\n\n    // Bindings:\n    this.onCanvasHover = this.onCanvasHover.bind(this)\n    this.onCanvasClick = this.onCanvasClick.bind(this)\n  }\n\n\n  // MARK - Common:\n  getRelativeMousePos (clientX, clientY) {\n    const { radius } = this.props\n\n    const canvasPos = this.canvasEl.getBoundingClientRect()\n    const h = radius * 2\n    const w = radius * 2\n\n    // evtPos relative to our canvas.\n    const onCanvas = {\n      x: clientX - canvasPos.left,\n      y: clientY - canvasPos.top\n    }\n\n    // e is our mouse-position relative to the center of the canvasEl; using pythag\n    const fromCenter = Math.sqrt(\n        (onCanvas.x - w / 2) * (onCanvas.x - w / 2) +\n        (onCanvas.y - h / 2) * (onCanvas.y - h / 2)\n    )\n\n    // This returns an object in which we have both mouse-pos relative to the canvas, as well as the true-middle.\n    return {\n      fromCenter,\n      onCanvas\n    }\n  }\n\n  initCanvas () {\n    this.state.numPlayers=this.props.numPlayers\n    const { radius } = this.props\n\n    const width = radius * 2\n    const height = radius * 2\n\n    this.ctx.clearRect(0, 0, width, height)\n\n    this.drawOuterWheel(1)\n    this.drawSpacers()\n    //this.drawCenterCircle()\n    //this.drawPlayers()\n  }\n\n  // MARK - Life-cycle methods:\n  componentWillMount () {\n    const { radius, lineWidth, padding } = this.props\n\n    // Setting effective radii:\n    this.outerWheelRadius = radius\n    this.innerWheelRadius = this.outerWheelRadius - lineWidth - padding\n    this.centerCircleRadius = this.innerWheelRadius - lineWidth - padding\n    this.firstSpacerRadius = this.outerWheelRadius - lineWidth // NOTE: effectiveRadius will take into account padding as lineWidth.\n    this.secondSpacerRadius = this.innerWheelRadius - lineWidth\n\n    // Defining our bounds-objects, exposes a .inside(e) -> boolean method:\n    this.outerWheelBounds = calculateBounds(radius - lineWidth, radius)\n    this.innerWheelBounds = calculateBounds(\n        this.innerWheelRadius - this.centerCircleRadius,\n        this.innerWheelRadius\n    )\n    this.centerCircleBounds = calculateBounds(0, this.centerCircleRadius)\n    this.firstSpacerBounds = calculateBounds(\n        this.firstSpacerRadius - padding,\n        this.firstSpacerRadius\n    )\n    this.secondSpacerBounds = calculateBounds(\n        this.secondSpacerRadius - padding,\n        this.secondSpacerRadius\n    )\n  }\n\n\n  componentDidMount () {\n    // Giving this context to our parent component.\n    this.props.onRef(this)\n\n    // Initialising our canvas & context objs.\n    this.canvasEl = document.getElementById('colour-picker')\n    this.ctx = this.canvasEl.getContext('2d')\n\n    if (this.props.preset) {\n      const rgb = colourToRgbObj(this.props.presetColour)\n\n      this.setState({ rgb }, () => {\n        this.drawInnerWheel()//borrar lo anterior\n        this.drawOuterWheel(1)//dibujar rueda\n        this.drawRadius()//dibujar radios\n        this.drawSpacers()//dibujar spacer\n        this.drawCenterCircle()//dibujar circulo central con los jugadores\n      })\n    } else {\n      this.drawOuterWheel(1)\n      this.drawSpacers()\n    }\n\n    /*conn.on('comienzoPartida', () => {\n      setTimeout(()=>{this.comienzo()}, 100);a\n    })*/\n\n    conn.on(\"jugada\",(res)=>{\n      console.log(res)\n      let indice=0;\n      for(var i=0;i<this.state.numPlayers;i++){\n        if(this.state.playerName[i]===res.user){\n          indice=i\n        }\n      }\n      let coords=getCoordByCasilla(res.casilla,indice)\n      const vecx=this.state.positionsX;\n      vecx[indice]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[indice]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n      this.inicializarTablero()\n      console.log(\"AQUIIIII \" + res.ques);\n      this.props.onResponse({quesito: res.ques, user: res.user});\n\n\n\n    })\n  }\n\n  /*comienzo(){\n    console.log(\"Comienza la partida\");\n    let quienSoy=0\n    for(var i=0;i<JSON.parse(getPlayers()).length;i++){\n      if(JSON.parse(getPlayers())[i]===getUser()){\n        quienSoy=i\n      }\n    }\n    this.setValores(JSON.parse(getPlayers()),JSON.parse(getPlayers()).length,quienSoy)\n    console.log('dibujand')\n\n    //this.drawCenterCircle()\n    this.inicializarTablero()\n  }*/\n\n\n  componentWillUnmount () {\n    this.props.onRef(undefined)\n  }\n\n  // MARK - mouse-events:\n  onCanvasHover ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for mouse-location:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter) &&\n        this.state.innerWheelOpen\n    ) {\n      this.canvasEl.style.cursor = 'crosshair'\n    } else if (\n        this.centerCircleBounds.inside(evt.fromCenter) &&\n        this.state.centerCircleOpen\n    ) {\n      // TODO: Have it clear on click?\n      this.canvasEl.style.cursor = 'pointer'\n    } else {\n      this.canvasEl.style.cursor = 'auto'\n    }\n  }\n\n  onCanvasClick ({ clientX, clientY }) {\n    const evt = this.getRelativeMousePos(clientX, clientY)\n\n    // Cases for click-events:\n    if (this.outerWheelBounds.inside(evt.fromCenter)) {\n      this.outerWheelClicked(evt.onCanvas)\n    } else if (\n        this.innerWheelBounds.inside(evt.fromCenter)\n    ) {\n      this.innerWheelClicked(evt.onCanvas)\n    }\n  }\n\n  // MARK - Clicks & action methods:\n  pregunta=true\n\n  outerWheelClicked (evtPos) {\n    const { radius,colours } = this.props\n\n    // returns an rgba array of the pixel-clicked.\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n    console.log('opac='+opac)\n\n    const rgb = { r, g, b }\n\n    // Whether the user wants rgb-strings or rgb objects returned.\n    const rgbArg = convertObjToString(rgb) // TODO: Let user set different return values in props; e.g. rbg obj, string, etc.\n    this.pregunta=false;\n    this.props.onColourSelected(rgbArg)\n    let opa\n    console.log(rgbaArr)\n    /*if (r == 255 && g == 255 && b == 255) {\n      opa = 0.1\n    } else {\n      opa = 1\n    }*/\n    opa=1\n\n    console.log(getCasillaNumber(r, g, b))\n    console.log(colours[7])\n    console.log(convertObjToString(colours[7]))\n    console.log(evtPos.x+' '+evtPos.y)\n    console.log(this.state.puedoMover)\n    this.state.desactivado=false\n    if(opac===255 && this.state.puedoMover===true){\n\n\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n        var arrayPosiblesJugadas=this.state.posiblesJugadas\n        if(arrayPosiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n          this.setState({casillaActualInfo: arrayPosiblesJugadas[j]})\n        }\n      }\n      if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n        this.props.activarDado();\n        this.state.desactivado=true\n        this.state.puedoMover=true;\n        conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n          quesito: \"\",\n          finTurno: false ,\n        }, (res)=>{\n          console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n          this.props.activarDado();\n        });\n      }else{\n        this.state.puedoMover=false;\n        this.handleOpen()\n      }\n      this.drawInnerWheel()\n      this.drawOuterWheel(opa)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n\n    }\n    this.setState(\n        {\n          rgb,\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n\n\n          /*if(opac===255 && this.state.puedoMover===true){\n\n\n            for (let j=0; j<this.state.posiblesJugadas.length; j++){\n              console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n              if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n                this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n              }\n            }\n            if(this.state.casillaActualInfo.casilla.tipo===\"Dado\"){\n              this.state.puedoMover=true;\n              conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                quesito: \"\",\n                finTurno: false ,\n              }, (res)=>{\n                console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n              });\n            }else{\n              this.state.puedoMover=false;\n            }\n            this.drawInnerWheel()\n            this.drawOuterWheel(opa)\n            this.changePosition(evtPos.x, evtPos.y)\n            this.drawRadius()\n            this.drawSpacers()\n            this.drawCenterCircle()\n\n          }*/\n        }\n    )\n\n\n\n\n  }\n\n  innerWheelClicked (evtPos) {\n    const rgbaArr = this.ctx.getImageData(evtPos.x, evtPos.y, 1, 1).data\n    const [r, g, b,opac] = rgbaArr\n\n    const rgb = { r, g, b }\n\n    const rgbArg = convertObjToString(rgb)\n    console.log(rgbaArr)\n\n\n    console.log(getCasillaNumber(r, g, b))\n    console.log(evtPos.x+' '+evtPos.y)\n\n    this.props.onColourSelected(rgbArg)\n    this.state.desactivado=false\n    this.setState(\n        {\n          rgb,\n          centerCircleOpen: true\n        },\n        () => {\n\n        }\n    )\n    if(opac===255 && this.state.puedoMover===true ){\n      console.log('asdf')\n      this.state.puedoMover=false;\n      this.handleOpen()\n      for (let j=0; j<this.state.posiblesJugadas.length; j++){\n        console.log('nume'+this.state.posiblesJugadas[j].casilla.num)\n        if(this.state.posiblesJugadas[j].casilla.num===getCasillaNumber(r, g, b)){\n          this.state.casillaActualInfo=this.state.posiblesJugadas[j];\n        }\n      }\n\n      this.drawInnerWheel()\n      this.drawOuterWheel(1)\n      this.changePosition(evtPos.x, evtPos.y,this.state.quienSoy)\n      this.drawRadius()\n      this.drawSpacers()\n      this.drawCenterCircle()\n    }\n  }\n\n  clear (callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: false,\n          centerCircleOpen: false\n        },\n        () => {\n          // Reset state & re-draw.\n          this.initCanvas()\n          this.drawCenterCircle()\n          if (callback) callback()\n        }\n    )\n  }\n\n  dibujarTablero(casillasMarcadas=[]){\n\n    // Reset state & re-draw.\n    //this.initCanvas()\n\n    this.drawInnerWheel()\n    const num1=Math.floor(Math.random() * 24) + 1;\n    const num2 = Math.floor(Math.random() * 24) + 1;\n\n    this.drawOuterWheel(1,casillasMarcadas)\n    this.drawRadius(0.1,casillasMarcadas)\n    this.drawSpacers()\n    this.drawCenterCircle()\n    this.drawPlayers()//añadido\n  }\n\n  jugada (dado,callback = false) {\n    this.setState(\n        {\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n        },\n        () => {\n          //dibujar tablero\n          //this.drawPosition()\n\n          if (callback) callback()\n        }\n    )\n    console.log('dado'+dado)\n\n\n    conn.emit(\"posiblesJugadas\", dado, (res)=>{\n      console.log(\"Posibles jugadas con dado: \" + dado.toString());\n      console.log(res['res']);\n      console.log(res['info']);\n      this.state.posiblesJugadas=res['info'];\n      console.log(this.state.posiblesJugadas);\n      if(res['res']!='err'){\n        if(res['info']===\"No es el turno.\"){\n          console.log('no turno')\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }else{\n          this.state.puedoMover=true;\n        }\n        console.log(res['info'].length);\n        console.log(res['info'][0]);\n        let casillas=[];\n        for(var i=0;i<res['info'].length;i++){\n\n          casillas[i]=res['info'][i].casilla.num\n        }\n        console.log(casillas[0])\n        if(this.state.puedoMover){//si es mi turno\n          this.dibujarTablero(casillas)\n        }\n      }else{\n        if(res['info']===\"No es el turno.\"){\n          console.log('no turno')\n          this.state.puedoMover=false;\n          alert('No es tu turno')\n        }\n      }\n      this.props.desactivarDado();\n\n\n    })\n\n\n  }\n\n\n\n  inicializarTablero(){\n    this.drawInnerWheel()//borrar lo anterior\n    this.drawOuterWheel(1)//dibujar rueda\n    this.drawRadius()//dibujar radios\n    this.drawSpacers()//dibujar spacer\n    console.log('inicializando')\n    this.drawCenterCircle()//dibujar circulo central con los jugadores\n    //this.drawPlayers()\n  }\n\n  setQuienSoy(quiensoy){\n    this.setState({quiensoy: quiensoy});\n  }\n\n  setValores(players,numplayers,quiensoy){\n    let imgs=[]\n    let playernames=[]\n    console.log(players)\n    for(var i=0;i<numplayers;i++){\n      playernames.push(players[i].nombre)\n      imgs.push(players[i].ficha)\n    }\n    /*this.state.playerName=playernames\n    this.state.numPlayers=numplayers\n    this.state.numPlayers=numplayers*/\n    console.log('quiensoy: '+quiensoy)\n    this.setState({quienSoy: quiensoy})\n    this.setState({playerName:playernames,numPlayers:numplayers})\n    this.setState({imagenes: imgs})\n    console.log(this.state.imagenes)\n  }\n\n\n\n\n  iniciarPartida (callback = false) {\n\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n    console.log(this.state.playerName)\n    this.setState(\n        {\n\n          rgb: '#ffffff',\n          innerWheelOpen: true,\n          centerCircleOpen: false,\n\n\n\n        },\n        () => {\n          // Reset state & re-draw.\n\n\n        }\n    )\n    console.log(this.state.positionsX)\n    console.log(this.state.positionsY)\n    //this.inicializarTablero()\n    conn.emit(\"comenzarPartida\", (res)=>{\n      console.log(res)\n      console.log(\"Al comenzar partida: \" + res.res + \" \" + res.info);\n      //this.inicializarTablero()\n      if(res.res==='ok'){\n        //this.drawCenterCircle()\n        this.inicializarTablero()\n      }\n\n\n    });\n\n\n  }\n\n  cargarPartida(casillas,quiensoy){\n    console.log(casillas)\n    for(var i=0; i< casillas.length;i++){\n      let coords=getCoordByCasilla(casillas[i],i)\n      //this.state.positionsX[player]=coords.x;\n      //this.state.positionsY[player]=coords.y;\n      const vecx=this.state.positionsX;\n      vecx[i]=coords.x;\n      const vecy=this.state.positionsY;\n      vecy[i]=coords.y;\n      this.setState({positionsX: vecx,positionsY: vecy})\n\n    }\n    console.log(this.state.positionsX)\n    console.log(this.state.playerName)\n    this.inicializarTablero()\n  }\n\n  // MARK - Drawing:\n\n\n\n  drawOuterWheel (opa,casillasMarcadas) {\n    // TODO: Draw outline; separate method.\n    const { radius, colours, lineWidth } = this.props\n    const height = radius * 2\n    const width = radius * 2\n\n    // This value ensures that the stroke accounts for the lineWidth provided to produce an accurately represented radius.\n    const effectiveRadius = getEffectiveRadius(radius, lineWidth)\n\n    // Converting each colour into a relative rgb-object we can iterate through.\n    const rgbArr = colours.map((colour) => colourToRgbObj(colour))\n\n    rgbArr.forEach((rgb, i) => {\n\n      this.ctx.beginPath()\n\n      // Creates strokes 1 / rgbArr.length of the circle circumference.\n      const startAngle = (fullCircle / rgbArr.length) * i\n      const endAngle = (fullCircle / rgbArr.length) * (i + 1)\n      this.ctx.arc(\n          width / 2,\n          height / 2,\n          effectiveRadius,\n          startAngle + 3,\n          endAngle + 3\n      )\n      this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n      //this.ctx.fillText('holaas dfa sdf',50+i*5 ,50+i*5);\n      // Stroke-style changes based on the shade:\n      //this.ctx.strokeText('h',50+i*5 ,50+i*5) ;\n      //rgb.r=rgb.r-100;\n      if (casillasMarcadas != null) {\n        let op = 0.1\n        //console.log(casillasMarcadas)\n        //console.log(25% 24)\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            op = 1\n          }\n\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n        })\n        if(op!=1){\n          this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${op})`\n\n        }\n        console.log('opacidad= '+op)\n      }else{\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.stroke()\n      this.ctx.closePath()\n\n\n    })\n  }\n\n  drawSpacers () {\n    if (this.props.spacers) {\n      this.drawSpacer(this.firstSpacerRadius)\n      //this.drawSpacer(this.secondSpacerRadius)\n    }\n  }\n\n  drawSpacer (spacerRadius) {\n    const {\n      radius,\n      padding,\n      spacers: { colour, shadowColour, shadowBlur }\n    } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(spacerRadius, padding)\n\n    this.ctx.beginPath()\n\n    this.ctx.arc(width / 2, height / 2, effectiveRadius, 0, fullCircle)\n    this.ctx.lineWidth = padding\n\n    this.ctx.shadowColor = shadowColour\n    this.ctx.shadowBlur = shadowBlur\n    this.ctx.strokeStyle = colour\n    this.ctx.stroke()\n    this.ctx.closePath()\n\n    // To reset our shadowColor for other strokes.\n    this.ctx.shadowColor = 'transparent'\n  }\n\n  drawRadius (opa,casillasMarcadas=[]) {\n    this.drawRad(-27,-90,0,['#ff6403','#ecd703','#0091df'],opa,casillasMarcadas)//radio 0\n    this.drawRad(27,90,180,['#ecd704','#ff00ec','#0091de'],opa,casillasMarcadas)//radio 3\n    this.drawRad(65,-70,60,['#ff00ed','#008810','#0091dd'],opa,casillasMarcadas)//radio 1\n    this.drawRad(94,20,120,['#3b3884','#ff00ee','#ff6404'],opa,casillasMarcadas)//radio 2\n    this.drawRad(-65,70,240,['#ff6405','#3b3883','#00880f'],opa,casillasMarcadas)//radio 4\n    this.drawRad(-94,-20,-60,['#00880e','#3b3882','#ff00ef'],opa,casillasMarcadas)//radio 5\n\n  }\n\n  drawRad (xs,ys,angle,colors,opa=1,casillasMarcadas=[]) {\n    // raf setup.\n    const { radius } = this.props\n    this.ctx.beginPath()\n    //65,-70 y 60º\n    //90,27 y 120º\n    //-65,70 y 240\n    //-90,-27 y -60\n    let x = [xs]//-27,27,\n    let y = [ys]//-90,90\n    this.ctx.translate(radius + x[0], radius + y[0]);\n    this.ctx.rotate(angle * Math.PI/180 );\n    this.ctx.translate(-(radius + x[0]),-( radius + y[0]));\n    for (var i=0;i<3;i++){\n      const rgb = colourToRgbObj(colors[i])\n      if (casillasMarcadas.length != 0) {\n        let marcada=0\n        casillasMarcadas.forEach((val, j) => {\n          if (getCasillaNumber(rgb.r, rgb.g, rgb.b) === (val)) {\n            this.ctx.fillStyle = `rgb(${rgb.r},${rgb.g},${rgb.b},${1})`\n            marcada=1\n          }\n        })\n        if(marcada!=1){\n          this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${0.1})`\n\n        }\n      }else{\n        this.ctx.fillStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b},${opa})`\n\n      }\n      this.ctx.fillRect(\n          radius + x[0],\n          radius + y[0]-50*i,\n          50, 50\n      );\n      this.ctx.stroke()\n\n    }\n\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.closePath()\n  }\n\n  changePosition(x,y,player=0) {\n\n    let coords=getCoordByCasilla(this.state.casillaActualInfo.casilla.num,player)\n    //this.state.positionsX[player]=coords.x;\n    //this.state.positionsY[player]=coords.y;\n    console.log('player'+player);\n    const vecx=this.state.positionsX;\n    vecx[player]=coords.x;\n    const vecy=this.state.positionsY;\n    vecy[player]=coords.y;\n    this.setState({positionsX: vecx,positionsY: vecy})\n\n  }\n\n  drawInnerWheel (animationPercentage = 0) {\n    // raf setup.\n    let requestAnimationFrame =\n        window.requestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.msRequestAnimationFrame\n    window.requestAnimationFrame = requestAnimationFrame\n\n    const {\n      rgb: { r, g, b }\n    } = this.state\n    const { radius, lineWidth, shades, animated } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    const effectiveRadius = getEffectiveRadius(\n        this.innerWheelRadius,\n        lineWidth\n    )\n\n    // Re-initialising canvas.\n    this.ctx.clearRect(0, 0, width, height)\n\n    //this.drawOuterWheel(1);\n    //this.drawRadius();\n    //this.drawSpacers()\n\n    const rgbShades = produceRgbShades(r, g, b, shades)\n\n    // Different functions for drawing our inner-wheel of shades.\n    function drawShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n    }\n\n    function animateShades () {\n      rgbShades.forEach((rgb, i) => {\n        this.ctx.beginPath()\n\n        const startAngle = (fullCircle / rgbShades.length) * i + quarterCircle\n        const endAngle =\n            (fullCircle / rgbShades.length) * (i + 1) + (1 / 2) * Math.PI\n\n        this.ctx.arc(\n            width / 2,\n            height / 2,\n            effectiveRadius,\n            startAngle,\n            endAngle\n        )\n        this.ctx.lineWidth = lineWidth * animationPercentage // This is the width of the innerWheel.\n\n        // Stroke style changes based on the shade:\n        this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n        this.ctx.stroke()\n        this.ctx.closePath()\n      })\n\n      // TODO: Make this animation speed dynamic.\n      animationPercentage += 1 / 10 // i.e. 1 / x frames\n\n      // Essentially re-draws rgbShades.forEach until the animationPercentage reaches 1, i.e. 100%\n      if (animationPercentage < 1) requestAnimationFrame(animateShades)\n    }\n\n    animateShades = animateShades.bind(this)\n    drawShades = drawShades.bind(this)\n\n    if (animated) {\n      //animateShades()\n    } else {\n      // TODO: Refactor into its own func.\n      //drawShades()\n    }\n  }\n\n  drawCenterCircle () {\n    const { rgb } = this.state\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n    this.ctx.lineWidth = 0\n\n    this.ctx.beginPath()\n    this.ctx.arc(\n        width / 2,\n        height / 2,\n        50,\n        0,\n        2 * Math.PI\n    )\n    this.ctx.fillStyle = `rgb(${255}, ${255}, ${255})`\n    this.ctx.fill()\n    this.ctx.lineWidth = 0.1\n    this.ctx.strokeStyle = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`\n    this.ctx.stroke()\n    this.ctx.closePath()\n    this.drawPlayers()\n  }\n\n  cargarImagen(){\n    let images=[]\n    for(var i=0; i<this.state.imagenes.length;i++){\n      const imageObj1 = new Image();\n      imageObj1.onload = ()=>{\n        this.setState({prueba: !this.state.prueba})\n      };\n      imageObj1.src= '/images/fichas/'+this.state.imagenes[i]+'.png';\n      images.push(imageObj1)\n    }\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/fichas/ficha0.png';\n    return images\n  }\n\n  drawPlayers () {\n    console.log('dibujando players')\n    const { radius } = this.props\n\n    const height = radius * 2\n    const width = radius * 2\n\n    //this.ctx.beginPath()\n    this.ctx.beginPath()\n    //this.ctx.fillStyle = `rgb(${0}, ${0}, ${0})`\n    //const imageObj1 = new Image();\n    console.log('imagen')\n    //imageObj1.src= 'http://i.stack.imgur.com/h5RjZ.png';\n    //imageObj1.src= '/images/avatars/avatar_6.png';\n    const imageObj1=this.cargarImagen()\n    console.log(this.state.numPlayers)\n    console.log('imagenes')\n    console.log(this.state.imagenes)\n\n    console.log(imageObj1)\n    for(var i=0;i<this.state.numPlayers;i++){\n      //console.log(this.state.playerName[i])\n      console.log(this.state.positionsX[i])\n      console.log(this.state.positionsY[i])\n      /*this.ctx.fillText(\n          this.state.playerName[i],\n          this.state.positionsX[i],\n          this.state.positionsY[i]\n      )*/\n\n\n      //imageObj1.crossOrigin = \"Anonymous\";\n\n      this.ctx.drawImage(imageObj1[i],this.state.positionsX[i],this.state.positionsY[i],25,25)\n\n      \n    }\n\n\n\n    //this.ctx.stroke()\n    this.ctx.closePath()\n  }\n\n  getPosiblesJugadas(){\n    return this.state.casillaActualInfo\n  }\n\n\n  handleResponseFromQuiz=(response)=>{\n    console.log(response);\n    console.log(response.result);\n    this.setState({botonCerrar:false})\n    this.setState({pintarQuesito:true})\n\n    conn.emit(\"actualizarJugada\", {casilla: response.casillaInfo.casilla.num,\n      quesito: response.casillaInfo.casilla.tipo===\"Quesito\"&&response.result===1?response.casillaInfo.casilla.categoria:\"\",\n      finTurno: response.result===0  //?true:false ,\n    }, (res)=>{\n      console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n      console.log(res['info']);\n\n    });\n    if(response.result===1){\n      this.props.activarDado();\n\n      axios.post('https://unitrivia.herokuapp.com/api/tienda/insertarMonedas',{},{headers: {\n          cantidad: 1,jwt: getToken()\n        }}).then((response) => {\n        console.log(response)\n      }).catch((code) => {\n        console.log(code.response)\n      });\n\n    }\n    if(response.result===1 && response.casillaInfo.casilla.tipo===\"Quesito\"){\n      this.props.onResponse({quesito: response.casillaInfo.casilla.categoria,user: getUser()});\n    }\n\n    //this.handleClose()\n\n\n  }\n\n  handleOpen = () => {\n\n    this.state.open=true;\n  };\n\n  handleClose = () => {\n\n    this.setState({open: false})\n    this.setState({botonCerrar:true})\n  };\n  getOpen(){\n    return this.state.open\n  }\n\n\n  render () {\n\n\n\n    const { radius, dynamicCursor } = this.props\n    /*\n        conn.on(\"jugada\",(res)=>{\n          console.log(res)\n          let indice=0;\n          for(var i=0;i<this.state.numPlayers;i++){\n            if(this.state.playerName[i]===res.user){\n              indice=i\n            }\n          }\n          let coords=getCoordByCasilla(res.casilla,indice)\n          this.state.positionsX[indice]=coords.x;\n          this.state.positionsY[indice]=coords.y;\n          this.inicializarTablero()\n        })\n    */\n\n    /*\n    conn.on('nuevoJugador', (user) => {\n      console.log(\"Entra en la sala: \" + user);\n    })\n\n    conn.on('turno', (info) => {\n      console.log(\"Turno de: \" + info);\n\n    })\n    */\n\n\n    return dynamicCursor ? (\n        <div>\n          <canvas\n              id=\"colour-picker\"\n              onClick={this.onCanvasClick}\n              onMouseMove={this.onCanvasHover}\n              width={`${radius * 2}px`}\n              height={`${radius * 2}px`}\n          />\n          <div>\n            <PopupState variant=\"popover\" popupId=\"demo-popup-popover\">\n              {(popupState) => (\n                  <div>\n\n\n                    <Modal\n                        open={this.getOpen()}\n                        onClose={this.handleClose}\n                        aria-labelledby=\"simple-modal-title\"\n                        aria-describedby=\"simple-modal-description\"\n                        disableBackdropClick={this.getOpen()}\n\n\n                    >\n\n                      <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                          <Typography align={'left'}>Responda a la pregunta.</Typography>\n                          <div align={'right'}>\n                          <CountdownCircleTimer\n                              onComplete={() => {\n                                console.log('timer')\n                                conn.emit(\"actualizarJugada\", {casilla: this.state.casillaActualInfo.casilla.num,\n                                  quesito: \"\",\n                                  finTurno: true ,\n                                }, (res)=>{\n                                  console.log(\"Jugada actualizada: \" + res['res'] + \" \" + res['info']);\n                                  this.props.activarDado();\n                                });\n                                this.handleClose()\n                              }}\n                              isPlaying\n                              duration={60}\n                              initialRemainingTime={60}\n                              colors=\"#A30000\"\n                              size={80}\n                          />\n                          </div>\n                          <Quiz  pregunta={this.getPosiblesJugadas()} onResponse={this.handleResponseFromQuiz} > </Quiz>\n                          <Button onClick={this.handleClose} style={{color: 'red'}} disabled={this.state.botonCerrar}>CERRAR</Button>\n                        </CardContent>\n                      </Card>\n\n\n                    </Modal>\n                  </div>\n              )}\n            </PopupState>\n\n          </div>\n        </div>\n    ) : (\n        <canvas\n            id=\"colour-picker\"\n            onClick={this.onCanvasClick}\n            width={`${radius * 2}px`}\n            height={`${radius * 2}px`}\n        />\n\n    )\n  }\n\n\n\n}\n\nColourWheel.propTypes = {\n  playerName: PropTypes.array,\n  numPlayers: PropTypes.number,\n  radius: PropTypes.number.isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  colours: PropTypes.array,\n  shades: PropTypes.number,\n  padding: PropTypes.number,\n  dynamicCursor: PropTypes.bool,\n  spacers: PropTypes.object,\n  onColourSelected: PropTypes.func,\n  preset: PropTypes.bool\n  // presetColour: PropTypes.string\n}\n\nColourWheel.defaultProps = {\n  colours: hexStrings,\n  shades: 16,\n  padding: 0,\n  dynamicCursor: true,\n  preset: false,\n  animate: false\n}\n\nexport default ColourWheel","export default __webpack_public_path__ + \"static/media/dado.80ec73e2.mp3\";","export default __webpack_public_path__ + \"static/media/ascensor.a3d7c97f.mp3\";","import React, {Component, useEffect, useState} from 'react'\n\n// react-colour-wheel:\nimport ColourWheel from './src/components/colourWheel/ColourWheel'\nimport ReactDice from 'react-dice-complete'\nimport 'react-dice-complete/dist/react-dice-complete.css'\nimport Button from '@material-ui/core/Button'\nimport {getPlayers, getSoyAdmin, getToken, getUser, setPlayers} from \"../Utils/Common\";\nimport {get} from \"react-hook-form\";\nimport dados from '../music/dado.mp3'\nimport {conn} from \"../Play\";\nimport {Card, CardContent, Grid, ListItemAvatar, Popper, Typography} from \"@material-ui/core\";\nimport {Modal, ModalHeader, ModalBody, ModalFooter, Input, Label} from \"reactstrap\";\n\nimport {green} from \"@material-ui/core/colors\";\nimport Quiz from \"./src/Quiz/Quiz\";\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport Room from \"./room\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline, MusicNote, MusicOff, VolumeOff, VolumeUp} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Cheese from \"./Cheese\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Avatar from '@material-ui/core/Avatar';\nimport musica from \"../music/ascensor.mp3\";\nimport Sound from \"react-sound\";\nimport {CountdownCircleTimer} from \"react-countdown-circle-timer\";\nimport {color} from \"@material-ui/system\";\n\nconst yourDefaultColour = 'rgb(255, 255, 255)'\n\n\nconst useStyles = (theme) => ({\n    root: {\n        width: '100%',\n        maxWidth: 360,\n        backgroundColor: theme.palette.background.paper,\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n});\n\n\n\nclass Board extends Component {\n    state = {\n        selectedColour: yourDefaultColour,\n        dado: 0,\n        play: false,\n        turno:'',\n        admin:'',\n        open:false,\n        datosJugadores:[{\n            avatar:\"\",\n            nombre:\"\",\n            coloresAcertados: [],\n            banner:\"\",\n            ficha:\"\"\n        }],\n        desconectados: [],\n        coloresAcertados: [],\n        jugadores: [],\n        codigoSala: null,\n        username: \"\",\n        esprimero: true,\n        nuevoJugador: false,\n\n        puedoTirar: false,\n        sounds: false,\n        music: false,\n        partidaEmpezada:false,\n        yes:true,\n\n    }\n\n\n    cambiarSonido=()=>{\n        this.setState({sounds: !this.state.sounds})\n    }\n    cambiarMusica =()=>{\n        this.setState({music: !this.state.music})\n    }\n    audio = new Audio(dados)\n\n    constructor(props) {\n        super(props);\n        axios.get('https://unitrivia.herokuapp.com/api/profile',{headers: {\n                jwt: getToken()\n            }}).then((response) => {\n            this.setState({username:response.data._id})\n            console.log(this.state.jugadores);\n            console.log(response.data._id);\n            console.log(\"no se que poner \", response.data._id, this.state.esprimero, this.state.jugadores.length, this.state.jugadores);\n            if (this.state.jugadores.length == 0 &&  this.state.esprimero) {\n                console.log(\"Es el primero, lo ponemos como admin\");\n                const list = this.state.jugadores.concat(response.data._id);\n                //this.state.admin = response.data._id;\n                this.setState({\n                    jugadores:list,\n                    admin: response.data._id,\n                    datosJugadores:[{\n                        avatar: response.data.avtr,\n                        banner: response.data.bnr,\n                        ficha: response.data.fich,\n                        nombre: response.data._id,\n                        coloresAcertados: []\n                    }\n                    ]\n                })\n\n            } else if (this.state.jugadores.length == 1 &&  this.state.esprimero){\n                this.setState({admin: response.data._id})\n\n            } else {\n                console.log(\"Se intenta meter un usuario que ya estaba\");\n\n            }\n        }).catch((code) => {\n            console.log(code.response)\n        });\n    }\n\n    activarDado(){\n        this.setState({\n            puedoTirar: true\n        })\n    }\n\n    desactivarDado(){\n        this.setState({\n            puedoTirar: false\n        })\n    }\n\n    rellenarQuesitos=(color)=>{\n        //this.state({coloresAcertados: color});\n\n    }\n\n    listarJugadores = (classes) => {\n        console.log(\"Entrando a listar jugadores...\")\n\n        let desconectados = this.state.desconectados;\n        let datosJugadores = this.state.datosJugadores;\n\n        //datosJugadores.some((user) => desconectados.includes(user.nombre)) ? color = '#D64728' : color = '#000000';\n        console.log(desconectados)\n\n        return(\n            <List dense className={classes.root}>\n                {datosJugadores.map((value) => {\n                    let color = '';\n                    desconectados.includes(value.nombre) ? color = '#D64728' : color = '#000000';\n                    console.log(color)\n\n                    const labelId = `checkbox-list-secondary-label-${value}`;\n                    let error;\n                    if (value.banner === 'banner0' || value.banner === 'banner4') {\n                        error = 'black'\n                    } else {\n                        error = 'white'\n                    }\n\n                    return (\n                        <div style={{\n                            backgroundImage: \"url(\" + \"/images/banners/\" + value.banner + \".jpg\" + \")\",\n                            backgroundSize: 'cover', color: error ,blockSize: 100, alignContent: 'stretch',\n                            border: 'solid', borderColor: 'black', textSizeAdjust: 'auto'\n                        }}>\n                            <ListItem key={value}>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/fichas/\" + value.ficha + \".png\"}/>\n                                </ListItemAvatar>\n                                <ListItemAvatar>\n                                    <Avatar altP=\"Remy Sharp\" src={\"/images/avatars/\" + value.avatar + \".jpg\"}/>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    id={labelId}\n                                    disableTypography\n                                    primary={\n                                        <Typography type=\"body2\" style={{ color: color }}>\n                                            {value.nombre}\n                                        </Typography>\n                                    }\n                                />\n                                <ListItemSecondaryAction>\n                                    <Cheese color={value.coloresAcertados}></Cheese>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n\n                        </div>\n\n                    );\n                })}\n            </List>\n        )\n    }\n\n\n    /*\n        devolverCodigoSala(){\n            conn.emit(\"obtenerIdSala\",(id)=>{\n                //this.state.codigoSala = id;\n                this.setCodigoSala(id)\n                this.setState({codigoSala: id});\n                console.log(id);\n                console.log(this.state.codigoSala)\n            })\n            console.log(\"El identificador es :\"+ this.state.codigoSala);\n\n        }\n    */\n\n\n    botonEmpezar = () => {\n\n        if(this.state.username===this.state.admin){\n            if(!this.state.partidaEmpezada){\n                return(\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={this.iniciarPartidaa}\n                    >\n                        Empezar Partida\n                    </Button>\n                )\n            }\n\n        }\n    }\n\n\n    componentDidMount(){\n\n        conn.on('nuevoJugador',(user)=> {\n            console.log(\"Cargando nuevo jugador...\")\n            const usuario = user.jugador;\n\n            if (!this.state.jugadores.includes(usuario)) {\n                let ficha;\n                let banner;\n                let avatar;\n                if(user.imgs == null || user.imgs.ficha == \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = user.imgs.ficha;\n                    banner = user.imgs.banner;\n                    avatar = user.imgs.avatar;\n                }\n                const listDatos = this.state.datosJugadores.concat({\n                    ficha:ficha,\n                    nombre: user.jugador,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []\n                })\n                console.log(listDatos);\n                this.setState({datosJugadores:listDatos});\n                const list = this.state.jugadores.concat(usuario);\n                this.setState({jugadores:list})\n            }\n        })\n\n        conn.on('cargarJugadores',(users)=>{\n            console.log(users);\n            console.log(users.jugadores.usuario);\n            let list = [];\n            let gamers = [];\n            for(let i = 0; i<users.jugadores.length; i++){\n                let ficha;\n                let banner;\n                let avatar;\n                if(users.jugadores[i].imgs == null || users.jugadores[i].imgs == \"\"){\n                    ficha = \"ficha0\";\n                    banner = \"banner0\";\n                    avatar = \"avatar0\";\n                }else{\n                    ficha = users.jugadores[i].imgs.ficha;\n                    banner = users.jugadores[i].imgs.banner;\n                    avatar = users.jugadores[i].imgs.avatar;\n                }\n                list.push(users.jugadores[i]);\n                gamers.push({\n                    nombre:users.jugadores[i].usuario,\n                    ficha:ficha,\n                    banner:banner,\n                    avatar:avatar,\n                    coloresAcertados: []});\n            }\n            console.log(list);\n            console.log(gamers);\n\n\n            if(list.length > 1){\n                this.setState({admin: '',\n                    esprimero:false, datosJugadores: gamers});\n            } else {\n                this.setState({admin: this.state.username,\n                    esprimero:true, datosJugadores: gamers});\n            }\n\n\n            //console.log(users.jugadores.prototype);\n            //setJugadores([...users.jugadores]);\n            //this.state.jugadores = users.jugadores;\n            //this.setState({jugadores: users.jugadores})\n        })\n\n        conn.on('reconexionJugador',(user)=> {\n            let desconectados = this.state.desconectados;\n            let arrayJugadores = this.state.datosJugadores;\n            let nombre = user.jugador;\n            let indexUser = desconectados.indexOf(nombre)\n\n            if(indexUser > -1){ //si esta reconocido como desconectado lo elimina\n               desconectados.splice(indexUser,1);\n                this.setState({desconectados: desconectados})\n\n            }else if (!arrayJugadores.some((elemento) => elemento.nombre === nombre)){ //si no, comprueba que esté en la partida\n                console.log(\"ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA\");\n            } else {\n                console.log(\"AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS\");\n            }\n            //this.colourWheel.setValores(this.state.jugadores,this.state.jugadores.length,quienSoy)\n        })\n\n        conn.on('estadoPartida',(users)=>{//arreglar\n            console.log(users);\n            let userList = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                let color=[];\n                for(let j=0; j< users.jugadores[i].quesitos.length ; j++){\n                    switch (users.jugadores[i].quesitos[j]) {\n                        case \"Historia\":\n                            color.push( \"yellow\");\n                            break;\n                        case \"Deportes\":\n                            color.push( \"orange\");\n                            break;\n                        case \"Entretenimiento\":\n                            color.push( \"pink\");\n                            break;\n                        case \"Ciencias\":\n                            color.push( \"green\");\n                            break;\n                        case \"Geografia\":\n                            color.push( \"blue\");\n                            break;\n                        case \"Cultura General\":\n                            color.push( \"purple\");\n                            break;\n                    }\n                }\n\n                userList.push({\n                    ficha:users.jugadores[i].imgs.ficha,\n                    nombre: users.jugadores[i].usuario,\n                    banner:users.jugadores[i].imgs.banner,\n                    avatar:users.jugadores[i].imgs.avatar,\n                    coloresAcertados: color\n                })\n            }\n            console.log(userList);\n            this.setState({admin: userList[0].nombre,\n                esprimero:false, datosJugadores: userList});\n\n            console.log(\"Volviendo a la partida\");\n            let casillas = [];\n            for(let i = 0; i < users.jugadores.length; i++){\n                casillas.push(users.jugadores[i].casilla)\n            }\n            //TODO: cargar un estado de partida de forma dinámica, es decir, distinto del inicial\n            let quienSoy=0\n            for(let i=0;i<this.state.datosJugadores.length;i++){\n                if(this.state.datosJugadores[i].nombre===getUser()){\n                    quienSoy=i\n                }\n            }\n            this.setState({partidaEmpezada:true})\n            this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n            console.log(casillas)\n            this.colourWheel.cargarPartida(casillas,quienSoy)\n            this.colourWheel.drawPlayers()\n        })\n\n        conn.on('abandonoSala',(user)=>{\n            console.log(\"Entramos en abandono de sala \"+this.state.jugadores);\n            var arrayJugadores = this.state.datosJugadores;\n            //var arrayDatosJugadores = this.state.datosJugadores;\n            //var indexUser = arrayJugadores.indexOf(user);\n            let quienSoy\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            //console.log(arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre===user) {\n                    indexUser = i;\n                }\n                if(arrayJugadores[i].nombre===user){\n                    quienSoy=i;\n                }\n            }\n\n            if(indexUser>-1){//no ha dado error\n                console.log(\"Hemos sacado el index del jugador que abandona\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //arrayDatosJugadores.splice(indexUser,1);\n                //this.state.jugadores = arrayJugadores;\n                this.setState({datosJugadores:arrayJugadores})\n                this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n\n            }else{\n                console.log(\"ha dado error el indexOf\");\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores})\n            }\n        })\n\n        conn.on('jugadorSale',(user)=>{\n            console.log(\"Jugador saliendo...\");\n            let desconectados = this.state.desconectados;\n\n            if(!desconectados.includes(user)){ //si no está lo mete\n                desconectados.push(user);\n                console.log(desconectados)\n                this.setState({desconectados: desconectados})\n\n            }else{\n                console.log(\"POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO\");\n            }\n        })\n\n        conn.on('cambioLider',({antiguo,nuevo})=>{\n            console.log(\"Antiguo lider: \"+antiguo+ \" nuevo: \"+nuevo);\n            var arrayJugadores = this.state.datosJugadores;\n            console.log(arrayJugadores)\n            let indexUser = 0 //arrayJugadores.nombre.indexOf(antiguo);\n            let length = arrayJugadores.length\n            console.log(arrayJugadores[0])\n            for(let i=0;i<length;i++){\n                if (arrayJugadores[i].nombre==antiguo) {\n                    indexUser = i;\n                }\n            }\n            if(indexUser>-1){//no ha dado error\n                console.log(\"Hemos sacado el index del jugador que abandona(en cambio Lider)\");\n                arrayJugadores.splice(indexUser,1); // quitamos el usuario del array de jugadores\n                //this.state.jugadores = arrayJugadores;\n                this.setState({jugadores: arrayJugadores,\n                    admin: nuevo})\n                //this.state.admin = nuevo;\n            }else{\n                console.log(\"ha dado error el indexOf\");\n\n            }\n        })\n        /*\n        conn.on('estadoPartida',(info)=>{\n            console.log(info);\n        })*/\n\n        this.audio.addEventListener('ended', () => this.setState({ play: false }));\n\n        conn.on('turno', (info) => {\n            console.log(\"Turno de: \" + info);\n            console.log(getUser())\n            //this.state.turno=info\n            this.setState({turno:info})\n            if(info===getUser() || !getUser()){\n                //alert('Es tu turno!')\n                this.activarDado()\n            }else{\n                //alert('Es el turno de '+info)\n            }\n        })\n\n        conn.on('finDelJuego', (usuario) => {\n            console.log(\"Fin del juego, gana: \" + usuario);\n            this.handleOpen()\n        })\n\n        conn.emit(\"obtenerIdSala\",(id)=>{\n            //this.state.codigoSala = id;\n            this.setState({codigoSala: id});\n        })\n\n        conn.on('comienzoPartida', () => {\n            console.log(\"Comienza la partida\");\n            let quienSoy=0\n            for(var i=0;i<this.state.datosJugadores.length;i++){\n                if(this.state.datosJugadores[i].nombre===getUser()){\n                    quienSoy=i\n                }\n            }\n            this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n            console.log('dibujand')\n\n            //this.drawCenterCircle()\n            this.colourWheel.inicializarTablero()\n\n        })\n    }\n\n    componentWillUnmount() {\n        this.audio.removeEventListener('ended', () => this.setState({ play: false }));\n    }\n\n    togglePlay = () => {\n        this.setState({ play: !this.state.play }, () => {\n            this.state.sounds ? this.audio.play() : this.audio.pause();\n        });\n    }\n\n    iniciarPartidaa = () => {\n\n        let quienSoy=0\n        for(var i=0;i<this.state.jugadores.length;i++){\n            if(this.state.jugadores[i]===getUser()){\n                quienSoy=i\n            }\n        }\n        console.log(this.state.jugadores)\n        console.log(this.colourWheel)\n        this.colourWheel.setValores(this.state.datosJugadores,this.state.datosJugadores.length,quienSoy)\n\n        this.colourWheel.iniciarPartida(() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n        this.setState({partidaEmpezada:true})\n    }\n\n    jugada = () => {\n        let dado= this.state.dado;\n        console.log('num'+this.state.dado)\n        this.colourWheel.jugada(dado,() => {\n            // Do some other stuff in this callback if you want -- other than re-setting your selectedColour.\n            this.setState({ selectedColour: yourDefaultColour })\n        })\n    }\n\n    rollDoneCallback =(num) =>{\n        console.log(`You rolled a ${num}`)\n        //this.state.dado={num}\n        this.setState({dado: num})\n        console.log(`sacaste un `+this.state.dado)\n        this.jugada()\n\n\n    }\n\n\n\n    rollDoneCallback2 =(num) =>{\n        setTimeout(()=>{this.rollDoneCallback(num)}, 1000);//2000\n    }\n\n    turn =() =>{\n        return(\n            <h1>{this.state.turno}</h1>\n        )\n    }\n\n    heGanado(){\n        let aux = this.state.datosJugadores;\n        let index = aux.findIndex((jugador) => (jugador.nombre === this.state.username));\n        return aux[index].coloresAcertados.length === 6;\n    }\n\n    finPartida(){\n        let aux = this.state.datosJugadores;\n        aux.sort(function(a, b){\n            const A = a.coloresAcertados.length;\n            const B = b.coloresAcertados.length;\n            if(B < A){\n                return -1;\n            } else if(B > A){\n                return 1;\n            } else {\n                return 0;\n            }\n        });\n\n        let result = \"RESULTADOS: \\n\";\n        let pos = 1;\n        let incr = 0;\n        for(let i = 0; i<aux.length; i++){\n            if(i > 0 && aux[i].coloresAcertados.length < aux[i-1].coloresAcertados.length) {\n                pos += incr;\n                incr = 1;\n            } else {\n                incr++;\n            }\n            result += pos.toString() + \". \" + aux[i].nombre + \"\\n\";\n        }\n        return result;\n    }\n\n    handleOpen = () => {\n\n        //this.state.open=true;\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.setState({open:false});\n        let cantidad = 0;\n        if(this.heGanado()){\n            cantidad = 20;\n        } else {\n            cantidad = 10;\n        }\n\n    };\n\n    getOpen(){\n        return this.state.open\n    }\n\n\n    handleQuesitos=(response)=>{\n        console.log(response);\n        console.log('quesito de'+response.quesito);\n        let color;\n        switch (response.quesito) {\n            case \"Historia\":\n                color = \"yellow\";\n                break;\n            case \"Deportes\":\n                color = \"orange\";\n                break;\n            case \"Entretenimiento\":\n                color = \"pink\";\n                break;\n            case \"Ciencias\":\n                color = \"green\";\n                break;\n            case \"Geografia\":\n                color = \"blue\";\n                break;\n            case \"Cultura General\":\n                color = \"purple\";\n                break;\n        }\n        var exito = false;\n        for(let i=0;i<this.state.coloresAcertados.length;i++){\n            console.log(this.state.coloresAcertados[i])\n            console.log(response.quesito)\n            if(this.state.coloresAcertados[i]===color){\n                exito = true\n            }\n        }\n\n        if(response.quesito!==\"\" && !exito) {\n\n            const colors = this.state.coloresAcertados;\n            colors.push(color);\n            this.setState({coloresAcertados: colors});\n            var arrayDatosJugadores = this.state.datosJugadores;\n            for (var i = 0; i < arrayDatosJugadores.length; i++) {\n                if (arrayDatosJugadores[i].nombre === response.user) {\n                    arrayDatosJugadores[i].coloresAcertados.push(color)\n                }\n            }\n            this.setState({datosJugadores: arrayDatosJugadores});\n        }\n        //this.setState({})\n        //console.log(this.state.coloresAcertados)\n    }\n\n\n    render () {\n        const {classes} = this.props\n        const { selectedColour } = this.state\n        let audio = new Audio(\"../music/dado.mp3\")\n\n\n//                    backgroundImage: 'url(https://vips.org/wp-content/uploads/2018/09/question-background.png)',\n        const start = () => {\n            audio.play()\n        }\n//onClick={this.togglePlay}\n\n\n        /*\n        return (\n            <div\n                style={{\n                    height: '100%',\n                    width: '100%',\n                    display: 'flex',\n                    backgroundColor: '#353833',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                }}\n            >\n                <div style={{ textAlign: 'center', color: '#FFFFFF' }}>\n                    <h1><span>UniTrivia</span></h1>\n                </div>\n                <div style={{ textAlign: 'right', color: '#FFFFFF' }}>\n                    <h1><span>Turno de :{this.state.turno}</span></h1>\n                </div>\n\n                <ColourWheel\n                    numPlayers={JSON.parse(getPlayers()).length}\n                    playerName={JSON.parse(getPlayers())}\n                    radius={250}\n                    padding={10}\n                    lineWidth={50}\n                    onColourSelected={(rgb) => this.setState({ selectedColour: rgb })}\n                    onRef={ref => (this.colourWheel = ref)}\n                    spacers={{\n                        colour: '#FFFFFF',\n                        shadowColour: 'grey',\n                        shadowBlur: 5\n                    }}\n                    preset // You can set this bool depending on whether you have a pre-selected colour in state.\n                    presetColour={this.state.selectedColour}\n                    animated\n\n                />\n                <Popup\n                    open={this.getOpen()}\n                    onClose={this.handleClose}\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                >\n\n                    <Card style={{ color: green[500] }} >\n                        <CardContent>\n                            <Typography>Fin de la partida.</Typography>\n                            <Button href={'/menu'}>Volver al menú</Button>\n                        </CardContent>\n                    </Card>\n\n\n                </Popup>\n\n\n                <div\n                    onClick={this.iniciarPartidaa}\n                    style={{\n                        cursor: 'pointer',\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: '#FFFFFF',\n                        marginTop: 20\n                    }}>\n                    <Button disabled={!getSoyAdmin()}>Iniciar partida{console.log(getSoyAdmin())}</Button>\n                </div>\n                <div\n                    style={{\n                        cursor: 'pointer',\n                        fontSize: 20,\n                        fontWeight: '500',\n                        color: '#FFFFFF',\n                        marginTop: 20\n                    }}\n                    onClick={this.togglePlay}\n\n                    >\n                    <Button onClick={()=>{this.reactDice.rollAll()}}>tirar dado</Button>\n                    <ReactDice\n                        numDice={1}\n                        rollDone={this.rollDoneCallback2}\n                        ref={dice => this.reactDice = dice}\n                        outline={true}\n                        faceColor={'white'}\n                        dotColor={'black'}\n                        rollTime={2}\n                        sound={'../music/dado.mp3'}\n\n                    />\n\n                </div>\n\n            </div>\n        )*/\n\n        return (\n            <Grid container>\n                <Grid item xs={2} direction=\"row\">\n                    <Card >\n                        <CardContent>\n                            <div style={{height: \"fit-content\"}}>\n                                <h2>\n                                    Sala\n                                </h2>\n                                <div>\n                                    {this.listarJugadores(classes)}\n                                </div>\n                                <div>\n                                    {/*this.devolverCodigoSala()*/}\n                                    <h6 style={{ font: 'arial'}}>CÓDIGO: {this.state.codigoSala}</h6>\n\n                                </div>\n                                <div>\n                                    {this.botonEmpezar()}\n                                </div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={8} >\n                    <Card style={{ color: green[500] }} >\n                        <CardContent>\n\n                            <div>\n                                <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/Play'}>\n                                    <ArrowBack color=\"primary\"/>\n                                    Volver\n                                </IconButton>\n\n                                <Popup trigger={\n                                    <IconButton color=\"secondary\" variant=\"contained\" >\n                                        <HelpOutline color=\"primary\"/>\n                                    </IconButton>} position=\"right top\" >\n                                    <div>\n                                        <h5>INFORMACIÓN</h5>\n                                        <li><font size={2}>AMARILLO: historia</font></li>\n                                        <li><font size={2}>VERDE: Ciencias</font></li>\n                                        <li><font size={2}>ROSA: Entretenimiento</font></li>\n                                        <li><font size={2}>MORADO: Cultura General</font></li>\n                                        <li><font size={2}>NARANJA: Deportes</font></li>\n                                        <li><font size={2}>AZUL: Geografia</font></li>\n                                        <li><font size={2}>BLANCO: tira otra vez</font></li>\n                                    </div>\n                                </Popup>\n\n                                <IconButton onClick={this.cambiarSonido} >\n                                    {this.state.sounds ? <VolumeUp color=\"primary\"/>:<VolumeOff color=\"primary\"/>}\n                                </IconButton>\n\n                                <IconButton onClick={this.cambiarMusica} color=\"secondary\">\n                                    {this.state.music ? <MusicNote color=\"primary\"/>:<MusicOff color=\"primary\"/>}\n                                </IconButton>\n\n\n\n                                <Sound\n                                    url={musica}\n                                    playStatus={\n                                        this.state.music ?Sound.status.PLAYING:Sound.status.PAUSED\n                                    }\n                                    playFromPosition={300}\n                                    loop={true}\n                                    volume={20}\n                                />\n\n\n                            </div>\n                            <div\n                                style={{\n                                    height: '100%',\n                                    width: '100%',\n                                    display: 'flex',\n                                    backgroundColor: '#353833',\n                                    flexDirection: 'column',\n                                    justifyContent: 'center',\n                                    alignItems: 'center'\n                                }}\n                            >\n                                <div style={{ textAlign: 'center', color: '#FFFFFF' }}>\n                                    <h1><span>UniTrivia</span></h1>\n                                </div>\n                                <div style={{ textAlign: 'right', color: '#FFFFFF' }}>\n                                    {this.state.turno === this.state.username?<h2>Tu turno!</h2>:<h2>Turno de :{this.state.turno}</h2>}\n                                </div>\n\n                                <ColourWheel\n                                    numPlayers={this.state.jugadores.length}\n                                    playerName={this.state.jugadores}\n                                    radius={250}\n                                    padding={10}\n                                    lineWidth={50}\n                                    onColourSelected={(rgb) => this.setState({ selectedColour: rgb })}\n                                    onRef={ref => (this.colourWheel = ref)}\n                                    spacers={{\n                                        colour: '#FFFFFF',\n                                        shadowColour: 'grey',\n                                        shadowBlur: 5\n                                    }}\n                                    preset // You can set this bool depending on whether you have a pre-selected colour in state.\n                                    presetColour={this.state.selectedColour}\n                                    animated\n                                    desactivarDado={this.desactivarDado.bind(this)}\n                                    activarDado={this.activarDado.bind(this)}\n                                    onResponse={this.handleQuesitos}\n\n                                />\n\n                                <Modal\n                                    isOpen={this.getOpen()}\n                                    onClose={this.handleClose}\n                                    aria-labelledby=\"simple-modal-title\"\n                                    aria-describedby=\"simple-modal-description\"\n                                    disableBackdropClick={true}\n                                >\n                                    <h2>\n                                        Fin de la partida\n                                    </h2>\n                                    <div>\n                                        {this.finPartida()}\n                                    </div>\n                                    <div>\n                                        <Button\n                                            variant=\"primary\"\n                                            href={'/menu'}\n                                            onClick={this.handleClose}\n                                        >\n                                            Aceptar\n                                        </Button>\n                                    </div>\n                                </Modal>\n\n\n                                <Button\n                                    style={{\n                                        cursor: 'pointer',\n                                        fontSize: 20,\n                                        fontWeight: '500',\n                                        color: '#FFFFFF',\n                                        marginTop: 20\n                                    }}\n                                    onClick={this.togglePlay}\n                                    disabled={!this.state.puedoTirar}\n\n\n\n                                >\n                                    <Button onClick={()=>{this.reactDice.rollAll()}}>tirar dado</Button>\n                                    <ReactDice\n                                        numDice={1}\n                                        rollDone={this.rollDoneCallback2}\n                                        ref={dice => this.reactDice = dice}\n                                        outline={true}\n                                        faceColor={'white'}\n                                        dotColor={'black'}\n                                        rollTime={2}\n                                        sound={this.state.sounds?'../music/dado.mp3':''}\n                                        disableIndividual={!this.state.puedoTirar}\n                                    />\n\n                                </Button>\n\n                            </div>\n\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nexport default withStyles(useStyles)(Board);\n","import React, {useEffect} from 'react'\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {ArrowBack, HelpOutline} from \"@material-ui/icons\";\nimport {green} from \"@material-ui/core/colors\";\nimport {Card, CardContent, Grid} from \"@material-ui/core\";\n//style={{ color: green[500] }}\nimport Chat from \"./game/chat\";\nimport Room from \"./game/room\";\nimport Board from \"./game/Board\";\n\nimport Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport {conn} from \"./Play\";\n\nconst BackButtonListener = ({children}) => {\n\n    useEffect(() => {\n        window.onpopstate = () => {\n            alert(\"Acaba de abandonar la partida\");\n            window.location.reload(true);\n\n        }\n    })\n\n    return null;\n};\n\n\nfunction Game(props) {\n        console.log(\"Estoy en game\");\n        console.log(conn);\n        //const classes = useStyles();\n\n    /*\n        return (\n\n                    <Grid container spacing={2}>\n                        <Grid item xs={2} direction=\"row\">\n                            <Room></Room>\n                        </Grid>\n                        <Grid item xs={8} >\n                         <Card style={{ color: green[500] }} >\n                             <CardContent>\n\n                                <div>\n                                    <IconButton color=\"secondary\" variant=\"contained\" aria-label=\"add an alarm\" href={'/Play'}>\n                                        <ArrowBack color=\"primary\"/>\n                                        Volver\n                                    </IconButton>\n                                    <IconButton color=\"secondary\" variant=\"contained\" >\n                                        <HelpOutline color=\"primary\"/>\n\n                                    </IconButton>\n\n                                </div>\n                                <Board></Board>\n\n                             </CardContent>\n                         </Card>\n                        </Grid>\n                        <Chat></Chat>\n                        <BackButtonListener/>\n                    </Grid>\n\n        );\n        */\n    return (\n        <Grid container spacing={2}>\n            <Board></Board>\n            <Chat></Chat>\n            <BackButtonListener/>\n        </Grid>\n\n    );\n}\n\n\nexport default Game;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction CrearSala() {\n    const classes = useStyles();\n\n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Crear Sala</h3>\n            Codigo de la Sala<br/><br/>\n            {imprimirCodigoSala()}\n\n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            <div style={{marginTop: 100}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Game'}\n                >\n                    Empezar Partida\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrás\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default CrearSala;","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport TextField from '@material-ui/core/TextField';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction UnirseSala() {\n    const classes = useStyles();\n    const codigo = useFormInput('');\n    return (\n        <Div>\n            <h3>Unirse a Sala</h3>\n            Introduce el código de la sala<br/><br/>\n            <div>\n            <div>\n            <TextField\n                          variant=\"outlined\"\n                          margin=\"normal\"\n                          required\n                          fullWidth\n                          id=\"codigo\"\n                          label=\"Codigo\"\n                          name=\"codigo\"\n                          autoComplete=\"codigo\"\n                          autoFocus\n                          {...codigo}\n                          label=\"Código de la sala\"\n                      />\n            </div>\n            </div>\n            <div style={{marginTop: 10}}>\n            <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Sala'}\n                >\n                    Unirme\n                </Button>\n            </div>\n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Atrás\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\nconst useFormInput = initialValue => {\n    const [value, setValue] = useState(initialValue);\n  \n    const handleChange = e => {\n    console.log(value)\n      setValue(e.target.value);\n    }\n    return {\n      value,\n      onChange: handleChange\n    }\n  }\nexport default UnirseSala;\n","import React,{useState} from 'react'\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import {Dropdown,DropdownItem,DropdownMenu,DropdownToggle} from 'reactstrap';\n\nconst But=styled.button`\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n`;\n\nconst Div=styled.div`\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n`;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh',\n    },\n    image: {\n        backgroundImage: 'url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)',\n        backgroundRepeat: 'no-repeat',\n        backgroundColor:\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n    },\n    paper: {\n        margin: theme.spacing(8, 4),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nfunction Sala() {\n    const classes = useStyles();\n    \n    const imprimirCodigoSala=()=>{\n        return (<h6>XWDWED</h6>)\n    }\n    const imprimirJugadoresSala=(num)=>{\n        return (<h7>Jugador {num}</h7>)\n    }\n    return (\n\n        <Div>\n            <h3>Sala {imprimirCodigoSala()} </h3>\n            <br/><br/>\n            \n            <br></br>\n            {imprimirJugadoresSala(1)}\n            {imprimirJugadoresSala(2)}\n            {imprimirJugadoresSala(3)}\n            {imprimirJugadoresSala(4)}\n            \n            <div style={{marginTop: 100}}>\n                \n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    href={'/Play'}\n                >\n                    Salirse\n                </Button>\n            </div>\n        </Div>\n    );\n}\n\n\nexport default Sala;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\n\nimport Login from './Login';\nimport Home from './Home';\n\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport ChangePassword from \"./ChangePassword\";\nimport Register from \"./Register\";\nimport Menu from \"./Menu\";\nimport Profile from './profile';\nimport NoGuestRoute from \"./Utils/NoGuestRoute\";\nimport Play from \"./Play\";\nimport Game from \"./Game\";\nimport CrearSala from \"./CrearSala\";\nimport UnirseSala from \"./UnirseSala\";\nimport Sala from \"./Sala\";\nimport Tienda from \"./tienda/Tienda\"\n\nfunction App(props) {\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    /*axios.get(`http://localhost:4000/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.token, response.data.user);\n      setAuthLoading(false);\n    }).catch(error => {\n      //removeUserSession();\n      setAuthLoading(false);\n    });*/\n    setAuthLoading(false);\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\" >Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/login\" component={Login} />\n              <Route exact path=\"/ChangePassword\" component={ChangePassword} />\n              <Route path=\"/register\" component={Register}/>\n              <PrivateRoute path=\"/Menu\" component={Menu}/>\n              <PrivateRoute path=\"/Play\" component={Play}/>\n              <PrivateRoute path=\"/Game\" component={Game}/>\n              <PrivateRoute path=\"/CrearSala\" component={CrearSala}/>\n              <PrivateRoute path=\"/UnirseSala\" component={UnirseSala}/>\n              <PrivateRoute path=\"/Sala\" component={Sala}/>\n              <NoGuestRoute path=\"/Profile\" component={Profile}/>\n              <NoGuestRoute path=\"/Tienda\" component={Tienda}/>\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n/*\n\n*/\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n//const config = require('./config');\n//const logger = require('./logger');\n//const ExpressServer = require('./expressServer');\n//const bd = require('./utils/DatabaseConnection.js');\n//const bd = require('../utils/DatabaseConnection.js');\n/*\nconst launchServer = async () => {\n    try{\n\n        bd.iniciar(\"mongodb://localhost:27017\", \"UniTrivia\");\n        logger.info(\"Pool Connection initialized\");\n    }catch (err){\n        logger.error(\"Cannot initialize Pool Connection\", err.message)\n        await this.close();\n    }\n    try {\n        this.expressServer = new ExpressServer(config.URL_PORT, config.OPENAPI_YAML);\n        this.expressServer.launch();\n        logger.info('Express server running');\n    } catch (error) {\n        logger.error('Express Server failure', error.message);\n        await this.close();\n    }\n};\n\nlaunchServer().catch(e => logger.error(e));\n*/\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}