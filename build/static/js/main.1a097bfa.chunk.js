(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{222:function(e,a,t){},290:function(e,a){},292:function(e,a){},437:function(e,a,t){},449:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(9),i=t.n(r),s=(t(222),t(7)),c=t(90),l=t(58),d=t(13),u=t.n(d),h=t(8),j=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},b=function(){return sessionStorage.getItem("token")||null},g=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},p=t(524),m=t(494),f=t(490),x=t(519),O=t(492),v=t(523),y=t(487),k=t(520),w=t(489),C=t(79),S=t.n(C),R=t(47),A=t(488),W=t(1);function P(){return Object(W.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var I=Object(A.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",width:"100%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"},error:{width:"100%",position:"absolute",textAlign:"center",color:"white",backgroundColor:"red"}}}));var E=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},z=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=(t[0],t[1]),r=E(""),i=E(""),c=Object(n.useState)(!1),l=Object(s.a)(c,2),d=l[0],j=l[1],b=Object(n.useState)(null),g=Object(s.a)(b,2),C=g[0],A=g[1],z=Object(n.useState)(!1),T=Object(s.a)(z,2),D=T[0],N=T[1],J=Object(n.useState)(!1),F=Object(s.a)(J,2),q=F[0],M=F[1],B=I();return Object(W.jsxs)(w.a,{container:!0,component:"main",className:B.root,children:[Object(W.jsx)(f.a,{}),d?Object(W.jsx)("div",{className:B.error,children:C}):null,Object(W.jsx)(w.a,{item:!0,xs:!1,className:B.image}),Object(W.jsx)("div",{className:B.fondo,children:Object(W.jsxs)("div",{className:B.paper,children:[Object(W.jsx)(p.a,{className:B.avatar,children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(R.a,{component:"h1",variant:"h5",children:"Acceder"}),Object(W.jsxs)("form",{className:B.form,noValidate:!0,children:[Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===D,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Usuario",name:"username",autoComplete:"username",autoFocus:!0},r),{},{helperText:D?"introduce el usario":""})),Object(W.jsx)(x.a,Object(h.a)({error:!0===q,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",helperText:q?"introduce la contrase\xf1a":""},i)),Object(W.jsx)(O.a,{control:Object(W.jsx)(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(W.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){A(null),o(!0),""==r.value?N(!0):N(!1),""==i.value?M(!0):M(!1),""!=r.value&&""!=i.value&&u.a.get("https://unitrivia.herokuapp.com/api/login",{headers:{username:r.value,password:i.value}}).then((function(a){var t,n;o(!1),console.log(a),t=a.data,n=r.value,sessionStorage.setItem("token",t),sessionStorage.setItem("user",JSON.stringify(n)),e.history.push("/menu")})).catch((function(e){o(!1),e.response.status,j(!0),A("El Ususario o la contrase\xf1a se han introducido incorrectamente")}))},children:"Acceder"}),Object(W.jsxs)(w.a,{container:!0,children:[Object(W.jsx)(w.a,{item:!0,xs:!0,children:Object(W.jsx)(y.a,{href:"/changepassword",variant:"body2",children:"Olvidaste la contrase\xf1a?"})}),Object(W.jsx)(w.a,{item:!0,children:Object(W.jsx)(y.a,{href:"/register",variant:"body2",children:"No tienes cuenta? Reg\xedstrate"})})]}),Object(W.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){A(null),o(!0),u.a.get("https://unitrivia.herokuapp.com/api/logAsGuest").then((function(a){var t;o(!1),t=a.data,sessionStorage.setItem("token",t),e.history.push("/menu")})).catch((function(e){o(!1),alert(e.message),401===e.response.status?(A(e.response.data.message),console.log(e)):(j(!0),A("Something went wrong. Please try again later."),console.log(e))}))},children:"Acceder como invitado"}),Object(W.jsx)(k.a,{mt:5,children:Object(W.jsx)(P,{})})]})]})})]})},T=t(495),D=t(496),N=t(493),J=Object(A.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var F=function(e){var a=J();return Object(W.jsx)(T.a,{position:"static",children:Object(W.jsxs)(D.a,{children:[Object(W.jsx)(N.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"}),Object(W.jsx)(R.a,{variant:"h6",className:a.title,children:"UniTrivia"}),Object(W.jsx)(m.a,{color:"inherit",href:"/login",children:"Login"}),Object(W.jsx)(m.a,{color:"inherit",href:"/Register",children:"Sign up"})]})})};var q=function(e){return Object(n.useEffect)((function(){null!=j()&&e.history.push("/menu")}),[]),Object(W.jsxs)(o.a.Fragment,{children:[Object(W.jsx)(F,{}),Object(W.jsx)("div",{children:"Welcome to the Home Page!"})]})},M=t(80);var B=function(e){var a=e.component,t=Object(M.a)(e,["component"]);return Object(W.jsx)(l.b,Object(h.a)(Object(h.a)({},t),{},{render:function(e){return b()?Object(W.jsx)(a,Object(h.a)({},e)):Object(W.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var U=t(497);function V(){return Object(W.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var _=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var G=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},H=function(e){var a=G(""),t=G(""),o=G(""),r=Object(n.useState)(null),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),g=j[0],O=j[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),C=y[0],A=y[1],P=Object(n.useState)(!1),I=Object(s.a)(P,2),E=I[0],z=I[1],T=_();return Object(W.jsxs)(U.a,{component:"main",maxWidth:"xs",className:T.root,children:[Object(W.jsx)(f.a,{}),Object(W.jsxs)("div",{className:T.paper,children:[Object(W.jsx)(R.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(W.jsx)(p.a,{className:T.avatar,children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(R.a,{component:"h1",variant:"h5",children:"He olvidado mi contrase\xf1a"}),Object(W.jsxs)("form",{className:T.form,noValidate:!0,children:[Object(W.jsxs)(w.a,{container:!0,spacing:2,children:[Object(W.jsx)(w.a,{item:!0,xs:12,spacing:2,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:g,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},a),{},{helperText:g?"Introduzca el usuario":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,spacing:2,children:Object(W.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==a.value?O(!0):(O(!1),u.a.get("https://unitrivia.herokuapp.com/api/login/recover/question",{headers:{username:a.value}}).then((function(e){console.log(e),l(e.data)})).catch((function(e){alert("Error al recuperar pregunta, usuario no existe")})))}catch(e){alert(e.message)}},children:"Recuperar pregunta"})}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,{variant:"outlined",disabled:!0,fullWidth:!0,value:c,id:"question",name:"question",defaultValue:"---",label:"Pregunta de seguridad"})}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:E,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},t),{},{helperText:E?"Introduzca la respuesta":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:C,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Nueva contrase\xf1a",type:"password",id:"password"},o),{},{helperText:C?"Introduzca la nueva contrase\xf1a":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12})]}),Object(W.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){try{""==a.value||""==t.value||""==o.value?(""==a.value?O(!0):O(!1),""==t.value?z(!0):z(!1),""==o.value?A(!0):A(!1)):(O(!1),z(!1),A(!1),u.a.post("https://unitrivia.herokuapp.com/api/login/recover/password",{},{headers:{jwt:b(),res:t.value,newpassword:o.value}}).then((function(a){e.history.push("/login")})).catch((function(e){alert("Error al validar respuesta, revise la respuesta introducida")})))}catch(n){alert(n.message)}},children:"Confirmar"})]})]}),Object(W.jsx)(k.a,{mt:5,children:Object(W.jsx)(V,{})})]})};t(192);function L(){return Object(W.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(y.a,{color:"inherit",href:"https://material-ui.com/",children:"UniGames"})," ",(new Date).getFullYear(),"."]})}var Y=Object(A.a)((function(e){return{root:{height:"80vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"repeat-x",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",height:"110%",width:"200%"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},fondo:{margin:e.spacing(2,2,5),position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",marginTop:e.spacing(1),boxShadow:"0px 0px 5px 2px #9E9E9E"}}})),X=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}};function Q(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=(t[0],t[1]),r=Object(n.useState)(null),i=Object(s.a)(r,2),c=(i[0],i[1]),l=X(""),d=X(""),j=X(""),b=X(""),g=X(""),f=X(""),O=Object(n.useState)(!1),v=Object(s.a)(O,2),C=v[0],A=v[1],P=Object(n.useState)(!1),I=Object(s.a)(P,2),E=I[0],z=I[1],T=Object(n.useState)(!1),D=Object(s.a)(T,2),N=D[0],J=D[1],F=Object(n.useState)(!1),q=Object(s.a)(F,2),M=q[0],B=q[1],U=Object(n.useState)(!1),V=Object(s.a)(U,2),_=V[0],G=V[1],H=Object(n.useState)(!1),Q=Object(s.a)(H,2),K=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(null),oe=Object(s.a)(ne,2),re=oe[0],ie=oe[1],se=(new RegExp("/S+@S+.S+/"),Y());return Object(W.jsxs)(w.a,{container:!0,component:"main",className:se.root,children:[Object(W.jsx)(w.a,{item:!0,xs:!1,className:se.image}),Object(W.jsx)("div",{className:se.fondo,children:Object(W.jsxs)("div",{className:se.paper,children:[Object(W.jsx)(R.a,{component:"h1",variant:"h2",children:"UniTrivia"}),Object(W.jsx)(p.a,{className:se.avatar,children:Object(W.jsx)(S.a,{})}),Object(W.jsx)(R.a,{component:"h1",variant:"h5",children:"Reg\xedstrate"}),Object(W.jsxs)("form",{className:se.form,noValidate:!0,children:[Object(W.jsxs)(w.a,{container:!0,spacing:2,children:[Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===C,autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Usuario",autoFocus:!0},l),{},{helperText:C?"introduce el usario":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===N,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"},d),{},{helperText:N?"introduce el email":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===E,variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password"},j),{},{helperText:E?"introduce la contrase\xf1a":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===K||!0===ae,variant:"outlined",required:!0,fullWidth:!0,name:"reppassword",label:"Repetir contrase\xf1a",type:"password",id:"reppassword",autoComplete:"current-password"},b),{},{helperText:!0===K||!0===ae?re:""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===M,variant:"outlined",required:!0,fullWidth:!0,id:"question",label:"Pregunta de seguridad",name:"question"},g),{},{helperText:M?"introduce la pregunta de seguridad":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12,children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({error:!0===_,variant:"outlined",required:!0,fullWidth:!0,id:"answer",label:"Respuesta a la pregunta",name:"answer"},f),{},{helperText:_?"introduce la respuesta a la pregunta de seguridad":""}))}),Object(W.jsx)(w.a,{item:!0,xs:12})]}),Object(W.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){c(null),o(!0),""==l.value?A(!0):A(!1),""==j.value?z(!0):z(!1),""==d.value?J(!0):J(!1),""==g.value?B(!0):B(!1),""==f.value?G(!0):G(!1),""==b.value?(te(!0),ie("introduce la contrase\xf1a")):te(!1),j.value!=b.value?(Z(!0),ie("las contrase\xf1as no coinciden")):Z(!1),""!=l.value&&""!=j.value&&""!=d.value&&""!=g.value&&""!=f.value&&j.value==b.value&&u.a.post("https://unitrivia.herokuapp.com/api/register",{},{headers:{username:l.value,password:j.value,email:d.value,preg:g.value,res:f.value}}).then((function(a){console.log(a.data),console.log(a),o(!1),e.history.push("/login")})).catch((function(e){o(!1),console.log(e.response),400===e.response.status?(c(e.response.data.message),alert("usuario existente")):c("Something went wrong. Please try again later.")}))},children:"Registrarse"}),Object(W.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(W.jsx)(w.a,{item:!0,children:Object(W.jsx)(y.a,{href:"/login",variant:"body2",children:"Ya tienes una cuenta? Accede"})})})]})]})}),Object(W.jsx)(k.a,{mt:5,children:Object(W.jsx)(L,{})})]})}var K,Z,$,ee,ae=t(16),te=t(15),ne=t(498),oe=t(499),re=(te.a.button(K||(K=Object(ae.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),te.a.div(Z||(Z=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),te.a.nav($||($=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 2rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),ie=(te.a.a(ee||(ee=Object(ae.a)(["\n  font-size: 2rem;\n  text-transform: uppercase;\n  padding: 2rem 0;\n  font-weight: bold;\n  letter-spacing: 0.5rem;\n  color: #0D0C1D;\n  text-decoration: none;\n  transition: color 0.3s linear;\n  \n\n  @media (max-width: 576px) {\n    font-size: 1.5rem;\n    text-align: center;\n  }\n\n  &:hover {\n    color: #343078;\n    \n  }\n"]))),Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));var se=function(){return ie(),Object(W.jsx)(ne.a,{children:Object(W.jsx)(oe.a,{children:Object(W.jsxs)(re,{open:!0,children:[Object(W.jsx)("h1",{children:"UNITRIVIA"}),Object(W.jsx)("h2",{children:"MEN\xda"}),Object(W.jsxs)(m.a,{href:"/Play",children:[Object(W.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83c\udfae\ufe0f"}),"JUGAR"]}),Object(W.jsxs)(m.a,{href:"/profile",disabled:null==j(),children:[Object(W.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udc87\u200d\u2640\ufe0f"}),"PERFIL"]}),Object(W.jsxs)(m.a,{href:"/Login",onClick:g,children:[Object(W.jsx)("span",{role:"img","aria-label":"contact",children:"\u274c"}),"CERRAR SESI\xd3N"]})]})})})},ce=t(200),le=(t(250),t(251),Object(A.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(13),height:e.spacing(13)}}})));var de=function(e){var a=le(),t=e,n="/images/avatars/"+e.avatar+".jpg",o="/images/banners/"+e.banner+".jpg",r="/images/fichas/"+e.ficha+".png";return console.log(n),console.log(o),console.log(r),Object(W.jsx)(ne.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(W.jsx)(oe.a,{children:Object(W.jsxs)(k.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(W.jsxs)(w.a,{container:!0,spacing:3,children:[Object(W.jsx)(w.a,{item:!0,md:6,xs:6,children:Object(W.jsx)(p.a,{title:"Avatar",src:n,className:a.large})}),Object(W.jsx)(w.a,{item:!0,sm:3,xs:6,children:Object(W.jsx)(p.a,{title:"Forma Ficha",src:r,className:a.large})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)("img",{title:"Banner",src:o,sx:{alignItems:"center",display:"flex",flexDirection:"row"},width:"800",height:"300"})})]}),Object(W.jsx)(R.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:t.user}),Object(W.jsx)(R.a,{color:"textSecondary",variant:"body1",children:"".concat(t.mail," ")})]})})}))},ue=t(500),he=t(501);var je=function(e){var a=e;return Object(W.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ue.a,{subheader:"Informaci\xf3n del usuario",title:"Perfil"}),Object(W.jsx)(he.a,{}),Object(W.jsx)(oe.a,{children:Object(W.jsxs)(w.a,{container:!0,spacing:3,children:[Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,value:a.user,disabled:!0,id:"outlined-disabled",label:"Usuario",defaultValue:"Hello World",variant:"outlined"})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,value:a.mail,disabled:!0,id:"outlined-disabled",label:"Email",defaultValue:"Hello World",variant:"outlined"})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,value:a.pregu,disabled:!0,id:"outlined-disabled",label:"Pregunta de seguridad",defaultValue:"Hello World",variant:"outlined"})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,value:a.resu,disabled:!0,id:"outlined-disabled",label:"Respuesta",defaultValue:"Hello World",variant:"outlined"})})]})}),Object(W.jsx)(he.a,{})]})}))},be=t(49),ge=function(e){var a=Object(n.useState)({oldpassword:"",password:"",confirm:""}),t=Object(s.a)(a,2),o=t[0],r=t[1],i=function(e){r(Object(h.a)(Object(h.a)({},o),{},Object(be.a)({},e.target.name,e.target.value)))},c=function(){u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/password",{},{headers:{jwt:b(),newpassword:o.password,oldpassword:o.oldpassword}}).then((function(e){console.log(e),alert("Contrase\xf1a cambiada exitosamente"),window.location.reload(!0)})).catch((function(e){alert(e.message)}))};return Object(W.jsx)("form",Object(h.a)(Object(h.a)({},e),{},{onSubmit:c,children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ue.a,{subheader:"Update password",title:"Password"}),Object(W.jsx)(he.a,{}),Object(W.jsxs)(oe.a,{children:[Object(W.jsx)(x.a,{fullWidth:!0,label:"Old password",margin:"normal",name:"oldpassword",onChange:i,type:"password",value:o.oldpassword,variant:"outlined"}),Object(W.jsx)(x.a,{fullWidth:!0,label:"New Password",margin:"normal",name:"password",onChange:i,type:"password",value:o.password,variant:"outlined"}),Object(W.jsx)(x.a,{fullWidth:!0,label:"Confirm new password",margin:"normal",name:"confirm",onChange:i,type:"password",value:o.confirm,variant:"outlined"})]}),Object(W.jsx)(he.a,{}),Object(W.jsx)(k.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(W.jsx)(m.a,{color:"primary",variant:"contained",onClick:c,children:"Update"})})]})}))};var pe=function(e){var a=e;return Object(W.jsx)("form",Object(h.a)(Object(h.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ue.a,{subheader:"Estad\xedsticas del usuario",title:"Estad\xedsticas"}),Object(W.jsx)(he.a,{}),Object(W.jsx)(oe.a,{children:Object(W.jsxs)(w.a,{container:!0,spacing:3,children:[Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,label:"Partidas jugadas",name:"firstName",defaultValue:"0",value:a.jugadas,variant:"outlined",disabled:!0})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,label:"Coins",name:"question",value:a.coins,defaultValue:"0",variant:"outlined",disabled:!0})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,label:"Partidas ganadas",name:"email",defaultValue:"0",value:a.ganadas,variant:"outlined",disabled:!0})}),Object(W.jsx)(w.a,{item:!0,md:6,xs:12,children:Object(W.jsx)(x.a,{fullWidth:!0,label:"Partidas Perdidas",name:"question",value:a.jugadas-a.ganadas,defaultValue:"0",variant:"outlined",disabled:!0})})]})}),Object(W.jsx)(he.a,{})]})}))},me=t(491),fe=t(502),xe=t(503),Oe=t(504),ve=t(507),ye=t(508),ke=t(83),we=t(505),Ce=t(506),Se=[],Re=[],Ae=[],We=Object(A.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}}));function Pe(e){var a=e.index,t=e.style,n="/images/avatars/"+Se[a]+".jpg";return Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:function(){console.log("avatar clickado"),console.log(String(Se[a])),!0===window.confirm("Presione en OK para cambiar su Avatar")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/avatar",{},{headers:{jwt:b(),idavatar:String(Se[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar avatar")}))},children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{src:n})}),Object(W.jsx)(Oe.a,{primary:Se[a]})]},a)}function Ie(e){var a=e.index,t=e.style,n="/images/banners/"+Re[a]+".jpg";return Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:function(){console.log("banner clickado"),console.log(String(Re[a])),!0===window.confirm("Presione en OK para cambiar su Banner")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/banner",{},{headers:{jwt:b(),idbanner:String(Re[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar banner")}))},children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)("img",{src:n,width:"300",height:"50"})}),Object(W.jsx)(Oe.a,{primary:Re[a]})]},a)}function Ee(e){var a=e.index,t=e.style,n="/images/fichas/"+Ae[a]+".png";return Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:function(){console.log("ficha clickado"),console.log(String(Ae[a])),!0===window.confirm("Presione en OK para cambiar su Forma de Ficha")&&u.a.post("https://unitrivia.herokuapp.com/api/profile/modify/formFicha",{},{headers:{jwt:b(),idformficha:String(Ae[a])}}).then((function(e){window.location.reload(!0)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{src:n})}),Object(W.jsx)(Oe.a,{primary:Ae[a]})]},a)}var ze=function(e){var a=e.comprados,t=e.coins,o=We(),r=Object(n.useState)(!1),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),p=g[0],f=g[1];if(null!=a){console.log(a),console.log(t),Se=[],Re=[],Ae=[];for(var x=0;x<a.length;x++){var O=a[x];"a"==O[0]?Se.push(O):"b"==O[0]?Re.push(O):"f"==O[0]&&Ae.push(O)}}return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ue.a,{subheader:"Objetos adquiridos por el usuario",title:"Objetos"}),Object(W.jsxs)(me.a,{children:[Object(W.jsxs)("div",{className:o.demo,children:[Object(W.jsxs)(fe.a,{button:!0,onClick:function(){l(!c)},children:[Object(W.jsx)(Oe.a,{primary:"Avatares"}),c?Object(W.jsx)(we.a,{}):Object(W.jsx)(Ce.a,{})]}),Object(W.jsx)(ve.a,{in:c,timeout:"auto",children:Object(W.jsx)(ke.a,{height:100,width:800,itemSize:46,itemCount:Se.length,children:Pe})})]}),Object(W.jsxs)("div",{className:o.demo,children:[Object(W.jsxs)(fe.a,{button:!0,onClick:function(){j(!h)},children:[Object(W.jsx)(Oe.a,{primary:"Banners"}),h?Object(W.jsx)(we.a,{}):Object(W.jsx)(Ce.a,{})]}),Object(W.jsx)(ve.a,{in:h,timeout:"auto",children:Object(W.jsx)(ke.a,{height:100,width:800,itemSize:46,itemCount:Re.length,children:Ie})})]}),Object(W.jsxs)("div",{className:o.demo,children:[Object(W.jsxs)(fe.a,{button:!0,onClick:function(){f(!p)},children:[Object(W.jsx)(Oe.a,{primary:"Formas de ficha"}),p?Object(W.jsx)(we.a,{}):Object(W.jsx)(Ce.a,{})]}),Object(W.jsx)(ve.a,{in:p,timeout:"auto",children:Object(W.jsx)(ke.a,{height:100,width:800,itemSize:46,itemCount:Ae.length,children:Ee})})]})]}),Object(W.jsxs)(ye.a,{children:[Object(W.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Avatar")},children:"Obtener Avatares"}),Object(W.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Banner")},children:"Obtener Banners"}),Object(W.jsx)(m.a,{color:"primary",fullWidth:!0,variant:"text",onClick:function(){e.onResponse("Ficha")},children:"Obtener Fichas"})]})]})},Te=t(509),De=(t(252),Object(A.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}})));var Ne=function(e){var a=[],t=[],o=Object(n.useState)(null),r=Object(s.a)(o,2),i=r[0],c=r[1],l=Object(n.useState)(null),d=Object(s.a)(l,2),h=d[0],j=d[1],g=void 0,m=De(),f=e.location.state.actual_coins;console.log(f);var x=e.location.state.comprados;console.log(x);var O=e.location.state.tipo;console.log(O);var v=null;if("Avatar"==O){v="Bienvenido a la Tienda de Avatares";for(var y=0;y<x.length;y++){var k=x[y];"a"==k[0]&&a.push(k)}}else if("Banner"==O){v="Bienvenido a la Tienda de Banners";for(var C=0;C<x.length;C++){var S=x[C];"b"==S[0]&&a.push(S)}}else if("Ficha"==O){v="Bienvenido a la Tienda de Formas de Ficha";for(var R=0;R<x.length;R++){var A=x[R];"f"==A[0]&&a.push(A)}}return console.log(a),Object(n.useEffect)((function(){u.a.get("https://unitrivia.herokuapp.com/api/tienda/catalogo",{headers:{tipo:O}}).then((function(e){g=e.data,console.log(g),console.log(e.data),console.log(e);for(var n=0,o=0;o<g.length;o++){for(var r=!1,i=0;i<a.length;i++)console.log(g[o].nombre),g[o].nombre==a[i]&&(r=!0);r||(t[n]=g[o],n++)}0==t.length&&alert("Ya tienes todos los objetos"),console.log(t.length),j(t),c(t.length)})).catch((function(e,a){console.log(e.response),console.log(a)}))}),[]),Object(W.jsxs)(ne.a,{children:[Object(W.jsxs)(N.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/profile",children:[Object(W.jsx)(Te.a,{color:"primary"}),"Volver"]}),Object(W.jsxs)(w.a,{container:!0,spacing:2,children:[Object(W.jsx)(w.a,{xs:6,children:Object(W.jsx)(ue.a,{subheader:"Objetos que hay actualmente en la tienda",title:v})}),Object(W.jsx)(w.a,{xs:6,children:Object(W.jsx)(ue.a,{subheader:f,title:"Coins"})})]}),Object(W.jsx)(me.a,{children:Object(W.jsx)("div",{className:m.demo,children:Object(W.jsx)(ke.a,{height:300,width:1500,itemSize:80,itemCount:i,children:function(e){var a=e.index,t=e.style;console.log(h);var n=h[a].precio+" coins",o=function(){(console.log("clickado "+h[a].nombre),h[a].precio>f)?alert("No dispone de suficientes coins para comprar este objeto"):!0===window.confirm("Presione en OK para comprar "+h[a].nombre+" por "+h[a].precio+" coins")&&u.a.post("https://unitrivia.herokuapp.com/api/tienda/comprar",{},{headers:{nombre:h[a].nombre,jwt:b()}}).then((function(e){alert("Adquirido"),setTimeout((function(){console.log("esperamos server reaccione")}),1e3),window.history.go(-1)})).catch((function(e){alert("Error al cambiar forma de ficha")}))},r=void 0;return"Avatar"==O?(r="/images/avatars/"+h[a].nombre+".jpg",Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:o,children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{src:r})}),Object(W.jsx)(Oe.a,{primary:h[a].nombre,secondary:n})]},a)):"Banner"==O?(r="/images/banners/"+h[a].nombre+".jpg",Object(W.jsx)("div",{children:Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:o,children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)("img",{src:r,width:"600",height:"75"})}),Object(W.jsx)(Oe.a,{primary:h[a].nombre,secondary:n})]},a)})):"Ficha"==O?(r="/images/fichas/"+h[a].nombre+".png",Object(W.jsxs)(fe.a,{button:!0,style:t,onClick:o,children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{src:r})}),Object(W.jsx)(Oe.a,{primary:h[a].nombre,secondary:n})]},a)):null}})})})]})},Je=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Fe=function(e){Je();var a=Object(n.useState)(null),t=Object(s.a)(a,2),o=t[0],r=t[1],i=Object(n.useState)(),c=Object(s.a)(i,2),l=c[0],d=c[1],h=Object(n.useState)(null),j=Object(s.a)(h,2),p=j[0],f=j[1],x=Object(n.useState)(null),O=Object(s.a)(x,2),v=O[0],y=O[1],C=Object(n.useState)(null),S=Object(s.a)(C,2),R=S[0],A=S[1],P=Object(n.useState)(null),I=Object(s.a)(P,2),E=I[0],z=I[1],T=Object(n.useState)(null),D=Object(s.a)(T,2),J=D[0],F=D[1],q=Object(n.useState)(null),M=Object(s.a)(q,2),B=M[0],V=M[1],_=Object(n.useState)(null),G=Object(s.a)(_,2),H=G[0],L=G[1],Y=Object(n.useState)(null),X=Object(s.a)(Y,2),Q=X[0],K=X[1],Z=Object(n.useState)(null),$=Object(s.a)(Z,2),ee=$[0],ae=$[1];return Object(n.useEffect)((function(){console.log(b()),u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){r(e.data.preg),d(e.data.res),f(e.data.cns),y(e.data.ng),A(e.data.fich),z(e.data.bnr),F(e.data.rfs),V(e.data.avtr),L(e.data.nj),K(e.data.mail),ae(e.data._id),console.log(e.data),console.log(e)})).catch((function(e,a){console.log(e.response)}))}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ce.a,{children:Object(W.jsx)("title",{children:"Account | Material Kit"})}),Object(W.jsxs)(N.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/menu",children:[Object(W.jsx)(Te.a,{color:"primary"}),"Volver"]}),Object(W.jsx)(k.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(W.jsx)(U.a,{maxWidth:"lg",children:Object(W.jsxs)(w.a,{container:!0,spacing:3,children:[Object(W.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(W.jsx)(de,{user:ee,mail:Q,avatar:B,banner:E,ficha:R})}),Object(W.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(W.jsx)(je,{user:ee,mail:Q,pregu:o,resu:l})}),Object(W.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(W.jsx)(pe,{jugadas:H,ganadas:v,coins:p})}),Object(W.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(W.jsx)(ze,{comprados:J,coins:p,onResponse:function(a){console.log(a),"Avatar"==a?e.history.push({pathname:"/Tienda",state:{actual_coins:p,comprados:J,tipo:"Avatar"}}):"Banner"==a?e.history.push({pathname:"/Tienda",state:{actual_coins:p,comprados:J,tipo:"Banner"}}):"Ficha"==a&&e.history.push({pathname:"/Tienda",state:{actual_coins:p,comprados:J,tipo:"Ficha"}})}.bind()})}),Object(W.jsx)(w.a,{item:!0,lg:8,md:6,xs:12,children:Object(W.jsx)(k.a,{sx:{pt:3},children:Object(W.jsx)(ge,{})})}),Object(W.jsx)(m.a,{color:"primary",variant:"contained",onClick:function(){try{!0===window.confirm("Presione en OK para borrar cuenta para siempre")&&u.a.delete("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(a){console.log(a),g(),e.history.push("/login")})).catch((function(e){alert(e.message),console.log(e)}))}catch(a){alert(a.message)}},children:"Borrar usuario"})]})})})]})};var qe,Me,Be,Ue=function(e){var a=e.component,t=Object(M.a)(e,["component"]);return Object(W.jsx)(l.b,Object(h.a)(Object(h.a)({},t),{},{render:function(e){return b()&&j()?Object(W.jsx)(a,Object(h.a)({},e)):Object(W.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ve=t(66),_e=(t(280),t(521)),Ge=t(510),He=t(511),Le=t(512),Ye="http://unitrivia.herokuapp.com/api/partida",Xe=void 0,Qe=(te.a.button(qe||(qe=Object(ae.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),te.a.div(Me||(Me=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),te.a.nav(Be||(Be=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background: #effaff;\n  transform: ",";\n  height: 90vh;\n  text-align: center;\n  padding: 1rem;\n\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (max-width: 576px) {\n    width: 100%;\n  }\n\n  a {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  button {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 1rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n    &:hover {\n      color: #343078;\n      cursor: pointer;\n    }\n  }\n\n  H1 {\n    font-size: 4rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n  H2 {\n    font-size: 2rem;\n    text-transform: uppercase;\n    padding: 2rem 0;\n    font-weight: bold;\n    letter-spacing: 0.5rem;\n    color: #0D0C1D;\n    text-decoration: none;\n    transition: color 0.3s linear;\n\n    @media (max-width: 576px) {\n      font-size: 1.5rem;\n      text-align: center;\n    }\n\n\n  }\n\n"])),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}))),Ke=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Ze=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){r(e.target.value)}}},$e=function(e){var a=Ke(),t=Object(n.useState)(null),o=Object(s.a)(t,2),r=(o[0],o[1],Object(n.useState)(!1)),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),j=Object(s.a)(d,2),g=j[0],p=j[1],f=Ze("");Object(n.useEffect)((function(){}),[]);var O=function(){l(!c)};return u.a.get(Ye+"/reconexion",{headers:{jwt:b()}}).then((function(e){p(""!==e.data)})).catch((function(e,a){console.log(e.response)})),Object(W.jsx)(ne.a,{children:Object(W.jsx)(oe.a,{children:Object(W.jsxs)(Qe,{open:!0,children:[Object(W.jsx)("h1",{children:"UNITRIVIA"}),Object(W.jsx)("h2",{children:"JUGAR"}),Object(W.jsxs)(m.a,{onClick:function(){(Xe=Object(Ve.io)(Ye,{extraHeaders:{jwt:b(),operacion:"buscarPartida"}})).on("connect",(function(){console.log(Xe.connected),console.log(Xe.disconnected),console.log(Xe.nsp),console.log(Xe),!0===Xe.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:g,children:[Object(W.jsx)("span",{role:"img","aria-label":"about us",children:"\ud83d\udd0e"}),"PARTIDA ALEATORIA"]}),Object(W.jsxs)(m.a,{onClick:function(){console.log("comienza crearSala"),(Xe=Object(Ve.io)(Ye,{extraHeaders:{jwt:b(),operacion:"crearSala",priv:"true"}})).on("connect",(function(){console.log(Xe.connected),console.log(Xe.disconnected),console.log(Xe.nsp),console.log(Xe),!0===Xe.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},disabled:g,children:[Object(W.jsx)("span",{role:"img","aria-label":"price",children:"\ud83d\udee0"}),"CREAR SALA"]}),Object(W.jsxs)(m.a,{onClick:O,disabled:g,children:[Object(W.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83e\udd1d"}),"UNIRSE A SALA"]}),Object(W.jsxs)(_e.a,{isOpen:1==c,children:[Object(W.jsx)(Ge.a,{children:"Escriba el c\xf3digo de sala"}),Object(W.jsx)(He.a,{children:Object(W.jsx)("form",{className:a.form,noValidate:!0,children:Object(W.jsx)(x.a,Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"C\xf3digo",name:"code",autoComplete:"Codigo",autoFocus:!0},f))})}),Object(W.jsxs)(Le.a,{children:[Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var a=f.value;console.log(a),(Xe=Object(Ve.io)(Ye,{extraHeaders:{jwt:b(),operacion:"unirseSala",sala:a}})).on("connect",(function(){console.log(Xe.connected),console.log(Xe.disconnected),console.log(Xe.nsp),console.log(Xe),!0===Xe.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("No conectado"),alert("Fallo al conectar con el servidor"))}))},children:"Confirmar C\xf3digo"}),Object(W.jsx)(m.a,{type:"submit",variant:"contained",color:"secondary",onClick:O,children:"Cerrar"})]})]}),Object(W.jsxs)(m.a,{onClick:function(){console.log(Xe),Xe=void 0,console.log(Xe);Xe=Object(Ve.io)(Ye,{extraHeaders:{jwt:b(),operacion:"reconexion"}}),console.log(Xe),Xe.on("connect",(function(){1==Xe.connected?(console.log("Conectado"),e.history.push("/Game")):(console.log("no conectado"),alert("Fallo al reconectar a partida"))}))},disabled:!g,children:[Object(W.jsx)("span",{role:"img","aria-label":"contact",children:"\ud83d\udd04"}),"RECONECTAR"]}),Object(W.jsxs)("a",{href:"/Menu",children:[Object(W.jsx)("span",{role:"img","aria-label":"contact",children:"\u2b05"}),"ATR\xc1S"]})]})})})},ea=t(68);t(288),t(66),t(176);var aa=function(e){return console.log("estoy en chat"),console.log(Xe),Xe.on("nuevoJugador",(function(e){var a=e.jugador;Object(ea.addResponseMessage)("El jugador "+a+" ha entrado a la sala.")})),Xe.on("reconexionJugador",(function(e){var a=e.jugador;Object(ea.addResponseMessage)("El jugador "+a+" se ha reconectado.")})),Xe.on("abandonoSala",(function(e){Object(ea.addResponseMessage)("El jugador "+e+" ha abandonado la sala.")})),Xe.on("jugadorSale",(function(e){Object(ea.addResponseMessage)("El jugador "+e+" ha abandonado la partida")})),Xe.on("chat",(function(e){var a="Mensaje de "+e.usuario+": "+e.msg;Object(ea.addResponseMessage)(a)})),Object(W.jsx)("div",{className:"Chat",children:Object(W.jsx)(ea.Widget,{handleNewUserMessage:function(e){console.log("New message incomig! ".concat(e)),Xe.emit("mensaje","".concat(e))},title:"CHAT",subtitle:"Chat de la sala actual"})})};t(305),t(437);var ta=function(e){var a=[];return console.log(e.color),e.color.forEach((function(e){a.push(Object(W.jsx)("div",{className:"piece "+e}))})),Object(W.jsx)("div",{className:"cheese",children:a})},na=t(513);t(66),t(176),Object(A.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var oa,ra,ia=t(56),sa=t(57),ca=t(110),la=t(109),da=t(93),ua=t(207),ha=t.n(ua),ja=t(25),ba=te.a.h1(oa||(oa=Object(ae.a)(["\n  margin-top: 4em;\n  font-size: 48px;\n"]))),ga=te.a.p(ra||(ra=Object(ae.a)(["\n  font-size: 24px;\n  margin-bottom: 3em;\n"])));var pa,ma,fa,xa,Oa=function(e){var a;return a=1===e.pts?"CORRECTA":"INCORRECTA",Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ba,{children:"Resultado"}),Object(W.jsxs)(ga,{children:["Respuesta ",a]})]})},va=te.a.div(pa||(pa=Object(ae.a)(["\n  text-align: center;\n  font-size: clamp(20px, 2.5vw, 24px);\n  margin-top: 10vh;\n"]))),ya=te.a.div(ma||(ma=Object(ae.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  margin: 2em auto;\n  @media screen and (min-width: 1180px) {\n    width: 50%;\n  }\n"]))),ka=te.a.button(fa||(fa=Object(ae.a)(["\n  display: block;\n  border: 1px solid #616A94;\n  border-radius: 15px;\n  padding: 15px 30px;\n  text-decoration: none;\n  color: #616A94;\n  background-color: #161A31;\n  transition: 0.3s;\n  font-size: 1em;\n  outline: none;\n  user-select: none;\n  margin-top: 1em;\n  cursor: pointer;\n\n  @media screen and (min-width: 1180px) {\n    &:hover {\n      color: white;\n      background-color: #616A94;\n    }\n  }\n"]))),wa=te.a.div(xa||(xa=Object(ae.a)(["\n  width: 70%;\n  margin: 0 auto;\n"])));var Ca=function(e){var a=e.pregunta.pregunta.pregunta,t=e.pregunta.pregunta.resps_inc,o=e.pregunta.pregunta.resp_c;console.log(o);var r=Object(n.useState)([]),i=Object(s.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(0),u=Object(s.a)(d,2),h=u[0],j=u[1],b=Object(n.useState)(0),g=Object(s.a)(b,2),p=g[0],m=g[1],f=function(a){console.log(a);var t=a.target.innerText;console.log(a.target.innerText),console.log(c[h]),console.log(t),c[h].answer===t?(m(p+1),e.onResponse({result:1,casillaInfo:e.pregunta})):(console.log("fallaste"+c[h].answer+" "+t),e.onResponse({result:0,casillaInfo:e.pregunta})),j(h+1)};return Object(n.useEffect)((function(){var e,n={question:a,options:(e=[].concat(Object(ja.a)(t),[o]),e.sort((function(){return Math.random()-.5}))),answer:o};l([n])}),[]),Object(W.jsx)("div",{children:Object(W.jsxs)(va,{children:[c[h]&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(wa,{dangerouslySetInnerHTML:{__html:c[h].question}}),Object(W.jsx)(ya,{children:c[h].options.map((function(e,a){return Object(W.jsx)(ka,{dangerouslySetInnerHTML:{__html:e},onClick:f},a)}))})]}),1===h&&Object(W.jsx)(Oa,{pts:p})]})})},Sa=t(94),Ra=t.n(Sa);function Aa(e,a,t,n){for(var o=[],r=Ra()("rgb(".concat(e,", ").concat(a,", ").concat(t,")")).toHsl(),i=9;i>1;i-=8/n)r.l=.1*i,o.push(Ra()(r).toRgb());return o}function Wa(e){return Ra()(e).toRgb()}function Pa(e,a){return{inside:function(t){return t>=e&&t<=a}}}function Ia(e){return Ra()(e).toRgbString()}function Ea(e,a){return e-a/2}function za(e,a,t){var n;return 59===e&&56===a&&135===t?n=0:255===e&&255===a&&255===t?n=1:0===e&&136===a&&19===t?n=2:0===e&&145===a&&226===t?n=3:255===e&&100===a&&0===t?n=10:255===e&&255===a&&254===t?n=11:236===e&&215===a&&0===t?n=12:0===e&&136===a&&18===t?n=13:0===e&&145===a&&225===t?n=20:255===e&&255===a&&253===t?n=21:255===e&&100===a&&1===t?n=22:0===e&&145===a&&224===t?n=23:0===e&&136===a&&17===t?n=30:255===e&&255===a&&252===t?n=31:236===e&&215===a&&1===t?n=32:59===e&&56===a&&134===t?n=33:255===e&&0===a&&235===t?n=40:255===e&&255===a&&251===t?n=41:255===e&&0===a&&234===t?n=42:59===e&&56===a&&133===t?n=43:236===e&&215===a&&2===t?n=50:255===e&&255===a&&250===t?n=51:255===e&&0===a&&233===t?n=52:255===e&&100===a&&2===t?n=53:255===e&&100===a&&3===t?n=63:236===e&&215===a&&3===t?n=62:0===e&&145===a&&223===t?n=61:255===e&&0===a&&237===t?n=73:0===e&&136===a&&16===t?n=72:0===e&&145===a&&221===t?n=71:59===e&&56===a&&132===t?n=83:255===e&&0===a&&238===t?n=82:255===e&&100===a&&4===t?n=81:236===e&&215===a&&4===t?n=93:255===e&&0===a&&236===t?n=92:0===e&&145===a&&222===t?n=91:255===e&&100===a&&5===t?n=103:59===e&&56===a&&131===t?n=102:0===e&&136===a&&15===t?n=101:0===e&&136===a&&14===t?n=113:59===e&&56===a&&130===t?n=112:255===e&&0===a&&239===t&&(n=111),n}function Ta(e,a){var t={x:0,y:0};switch(e){case 0:t.x=222.5,t.y=4.6875+7*a;break;case 1:t.x=284.5,t.y=11.6875+7*a;break;case 2:t.x=344.5,t.y=23.6875+7*a;break;case 3:t.x=401.5,t.y=57.6875+7*a;break;case 10:t.x=435.5,t.y=111.6875+7*a;break;case 11:t.x=449.5,t.y=166.6875+7*a;break;case 12:t.x=454.5,t.y=220.6875+7*a;break;case 13:t.x=451.5,t.y=278.6875+7*a;break;case 20:t.x=436.5,t.y=332.6875+7*a;break;case 21:t.x=404.5,t.y=378.6875+7*a;break;case 22:t.x=343.5,t.y=428.6875+7*a;break;case 23:t.x=287.5,t.y=448.6875+7*a;break;case 30:t.x=229.5,t.y=450.6875+7*a;break;case 31:t.x=175.5,t.y=443.6875+7*a;break;case 32:t.x=124.5,t.y=423.6875+7*a;break;case 33:t.x=82.5,t.y=385.6875+7*a;break;case 40:t.x=38.5,t.y=341.6875+7*a;break;case 41:t.x=15.5,t.y=286.6875+7*a;break;case 42:t.x=5.5,t.y=223.6875+7*a;break;case 43:t.x=15.5,t.y=167.6875+7*a;break;case 50:t.x=49.5,t.y=108.6875+7*a;break;case 51:t.x=82.5,t.y=67.6875+7*a;break;case 52:t.x=118.5,t.y=38.6875+7*a;break;case 53:t.x=169.5,t.y=13.6875+7*a;break;case 61:t.x=230.5,t.y=62.6875+7*a;break;case 62:t.x=230.5,t.y=113.6875+7*a;break;case 63:t.x=231.5,t.y=161.6875+7*a;break;case 71:t.x=377.5,t.y=145.6875+7*a;break;case 72:t.x=330.5,t.y=170.6875+7*a;break;case 73:t.x=293.5,t.y=194.6875+7*a;break;case 81:t.x=390.5,t.y=300.6875+7*a;break;case 82:t.x=343.5,t.y=277.6875+7*a;break;case 83:t.x=310.5,t.y=259.6875+7*a;break;case 91:t.x=232.5,t.y=392.6875+7*a;break;case 92:t.x=236.5,t.y=340.6875+7*a;break;case 93:t.x=235.5,t.y=309.6875+7*a;break;case 101:t.x=92.5,t.y=319.6875+7*a;break;case 102:t.x=135.5,t.y=293.6875+7*a;break;case 103:t.x=179.5,t.y=267.6875+7*a;break;case 111:t.x=94.5,t.y=145.6875+7*a;break;case 112:t.x=136.5,t.y=169.6875+7*a;break;case 113:t.x=179.5,t.y=195.6875+7*a;break;case 777:t.x=250,t.y=250+7*a}return t}var Da=t(522),Na=(t(438),t(124)),Ja=t(111),Fa=t(125),qa=2*Math.PI,Ma=qa/4,Ba=function(e){Object(ca.a)(t,e);var a=Object(la.a)(t);function t(e){var n;return Object(ia.a)(this,t),(n=a.call(this,e)).pregunta=!0,n.handleResponseFromQuiz=function(e){console.log(e),console.log(e.result),n.setState({botonCerrar:!1}),n.setState({pintarQuesito:!0}),Xe.emit("actualizarJugada",{casilla:e.casillaInfo.casilla.num,quesito:"Quesito"===e.casillaInfo.casilla.tipo&&1===e.result?e.casillaInfo.casilla.categoria:"",finTurno:0===e.result},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),console.log(e.info)})),1===e.result&&(n.props.activarDado(),u.a.post("https://unitrivia.herokuapp.com/api/tienda/insertarMonedas",{},{headers:{cantidad:1,jwt:b()}}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))),1===e.result&&"Quesito"===e.casillaInfo.casilla.tipo&&n.props.onResponse({quesito:e.casillaInfo.casilla.categoria,user:j()})},n.handleOpen=function(){n.state.open=!0},n.handleClose=function(){n.setState({open:!1}),n.setState({botonCerrar:!0})},n.state={rgb:null,innerWheelOpen:!1,centerCircleOpen:!1,numPlayers:0,positionsX:[250,250,250,250,250,250],positionsY:[250,260,270,280,290,300],puedoMover:!1,playerName:["1","2","3","4","5","6"],dado:0,quienSoy:0,posiblesJugadas:null,casillaActualInfo:null,desactivado:!0,open:!1,imagenes:[],mostrarFicha:!1,pintarQuesito:!1,prueba:!1,botonCerrar:!0},n.outerWheelBounds=null,n.innerWheelBounds=null,n.centerCircleBounds=null,n.outerWheelRadius=null,n.innerWheelRadius=null,n.centerCircleRadius=null,n.firstSpacerRadius=null,n.secondSpacerRadius=null,n.canvasEl=null,n.ctx=null,n.onCanvasHover=n.onCanvasHover.bind(Object(da.a)(n)),n.onCanvasClick=n.onCanvasClick.bind(Object(da.a)(n)),n}return Object(sa.a)(t,[{key:"getRelativeMousePos",value:function(e,a){var t=this.props.radius,n=this.canvasEl.getBoundingClientRect(),o=2*t,r=2*t,i={x:e-n.left,y:a-n.top};return{fromCenter:Math.sqrt((i.x-r/2)*(i.x-r/2)+(i.y-o/2)*(i.y-o/2)),onCanvas:i}}},{key:"initCanvas",value:function(){this.state.numPlayers=this.props.numPlayers;var e=this.props.radius,a=2*e,t=2*e;this.ctx.clearRect(0,0,a,t),this.drawOuterWheel(1),this.drawSpacers()}},{key:"componentWillMount",value:function(){var e=this.props,a=e.radius,t=e.lineWidth,n=e.padding;this.outerWheelRadius=a,this.innerWheelRadius=this.outerWheelRadius-t-n,this.centerCircleRadius=this.innerWheelRadius-t-n,this.firstSpacerRadius=this.outerWheelRadius-t,this.secondSpacerRadius=this.innerWheelRadius-t,this.outerWheelBounds=Pa(a-t,a),this.innerWheelBounds=Pa(this.innerWheelRadius-this.centerCircleRadius,this.innerWheelRadius),this.centerCircleBounds=Pa(0,this.centerCircleRadius),this.firstSpacerBounds=Pa(this.firstSpacerRadius-n,this.firstSpacerRadius),this.secondSpacerBounds=Pa(this.secondSpacerRadius-n,this.secondSpacerRadius)}},{key:"componentDidMount",value:function(){var e=this;if(this.props.onRef(this),this.canvasEl=document.getElementById("colour-picker"),this.ctx=this.canvasEl.getContext("2d"),this.props.preset){var a=Wa(this.props.presetColour);this.setState({rgb:a},(function(){e.drawInnerWheel(),e.drawOuterWheel(1),e.drawRadius(),e.drawSpacers(),e.drawCenterCircle()}))}else this.drawOuterWheel(1),this.drawSpacers();Xe.on("jugada",(function(a){console.log(a);for(var t=0,n=0;n<e.state.numPlayers;n++)e.state.playerName[n]===a.user&&(t=n);var o=Ta(a.casilla,t),r=e.state.positionsX;r[t]=o.x;var i=e.state.positionsY;i[t]=o.y,e.setState({positionsX:r,positionsY:i}),e.inicializarTablero(),console.log("AQUIIIII "+a.ques),e.props.onResponse({quesito:a.ques,user:a.user})}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCanvasHover",value:function(e){var a=e.clientX,t=e.clientY,n=this.getRelativeMousePos(a,t);this.outerWheelBounds.inside(n.fromCenter)||this.innerWheelBounds.inside(n.fromCenter)&&this.state.innerWheelOpen?this.canvasEl.style.cursor="crosshair":this.centerCircleBounds.inside(n.fromCenter)&&this.state.centerCircleOpen?this.canvasEl.style.cursor="pointer":this.canvasEl.style.cursor="auto"}},{key:"onCanvasClick",value:function(e){var a=e.clientX,t=e.clientY,n=this.getRelativeMousePos(a,t);this.outerWheelBounds.inside(n.fromCenter)?this.outerWheelClicked(n.onCanvas):this.innerWheelBounds.inside(n.fromCenter)&&this.innerWheelClicked(n.onCanvas)}},{key:"outerWheelClicked",value:function(e){var a=this,t=this.props,n=(t.radius,t.colours),o=this.ctx.getImageData(e.x,e.y,1,1).data,r=Object(s.a)(o,4),i=r[0],c=r[1],l=r[2],d=r[3];console.log("opac="+d);var u={r:i,g:c,b:l},h=Ia(u);if(this.pregunta=!1,this.props.onColourSelected(h),console.log(o),1,console.log(za(i,c,l)),console.log(n[7]),console.log(Ia(n[7])),console.log(e.x+" "+e.y),console.log(this.state.puedoMover),this.state.desactivado=!1,255===d&&!0===this.state.puedoMover){for(var j=0;j<this.state.posiblesJugadas.length;j++){console.log("nume"+this.state.posiblesJugadas[j].casilla.num);var b=this.state.posiblesJugadas;b[j].casilla.num===za(i,c,l)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[j],this.setState({casillaActualInfo:b[j]}))}"Dado"===this.state.casillaActualInfo.casilla.tipo?(this.props.activarDado(),this.state.desactivado=!0,this.state.puedoMover=!0,Xe.emit("actualizarJugada",{casilla:this.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!1},(function(e){console.log("Jugada actualizada: "+e.res+" "+e.info),a.props.activarDado()}))):(this.state.puedoMover=!1,this.handleOpen()),this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}this.setState({rgb:u,innerWheelOpen:!0,centerCircleOpen:!1},(function(){}))}},{key:"innerWheelClicked",value:function(e){var a=this.ctx.getImageData(e.x,e.y,1,1).data,t=Object(s.a)(a,4),n=t[0],o=t[1],r=t[2],i=t[3],c={r:n,g:o,b:r},l=Ia(c);if(console.log(a),console.log(za(n,o,r)),console.log(e.x+" "+e.y),this.props.onColourSelected(l),this.state.desactivado=!1,this.setState({rgb:c,centerCircleOpen:!0},(function(){})),255===i&&!0===this.state.puedoMover){console.log("asdf"),this.state.puedoMover=!1,this.handleOpen();for(var d=0;d<this.state.posiblesJugadas.length;d++)console.log("nume"+this.state.posiblesJugadas[d].casilla.num),this.state.posiblesJugadas[d].casilla.num===za(n,o,r)&&(this.state.casillaActualInfo=this.state.posiblesJugadas[d]);this.drawInnerWheel(),this.drawOuterWheel(1),this.changePosition(e.x,e.y,this.state.quienSoy),this.drawRadius(),this.drawSpacers(),this.drawCenterCircle()}}},{key:"clear",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({rgb:"#ffffff",innerWheelOpen:!1,centerCircleOpen:!1},(function(){e.initCanvas(),e.drawCenterCircle(),a&&a()}))}},{key:"dibujarTablero",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.drawInnerWheel();Math.floor(24*Math.random()),Math.floor(24*Math.random());this.drawOuterWheel(1,e),this.drawRadius(.1,e),this.drawSpacers(),this.drawCenterCircle(),this.drawPlayers()}},{key:"jugada",value:function(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){t&&t()})),console.log("dado"+e),Xe.emit("posiblesJugadas",e,(function(t){if(console.log("Posibles jugadas con dado: "+e.toString()),console.log(t.res),console.log(t.info),a.state.posiblesJugadas=t.info,console.log(a.state.posiblesJugadas),"err"!=t.res){"No es el turno."===t.info?(console.log("no turno"),a.state.puedoMover=!1,alert("No es tu turno")):a.state.puedoMover=!0,console.log(t.info.length),console.log(t.info[0]);for(var n=[],o=0;o<t.info.length;o++)n[o]=t.info[o].casilla.num;console.log(n[0]),a.state.puedoMover&&a.dibujarTablero(n)}else"No es el turno."===t.info&&(console.log("no turno"),a.state.puedoMover=!1,alert("No es tu turno"));a.props.desactivarDado()}))}},{key:"inicializarTablero",value:function(){this.drawInnerWheel(),this.drawOuterWheel(1),this.drawRadius(),this.drawSpacers(),console.log("inicializando"),this.drawCenterCircle()}},{key:"setQuienSoy",value:function(e){this.setState({quiensoy:e})}},{key:"setValores",value:function(e,a,t){var n=[],o=[];console.log(e);for(var r=0;r<a;r++)o.push(e[r].nombre),n.push(e[r].ficha);console.log("quiensoy: "+t),this.setState({quienSoy:t}),this.setState({playerName:o,numPlayers:a}),this.setState({imagenes:n}),console.log(this.state.imagenes)}},{key:"iniciarPartida",value:function(){var e=this;this.props.radius;console.log(this.state.playerName),this.setState({rgb:"#ffffff",innerWheelOpen:!0,centerCircleOpen:!1},(function(){})),console.log(this.state.positionsX),console.log(this.state.positionsY),Xe.emit("comenzarPartida",(function(a){console.log(a),console.log("Al comenzar partida: "+a.res+" "+a.info),"ok"===a.res&&e.inicializarTablero()}))}},{key:"cargarPartida",value:function(e,a){console.log(e);for(var t=0;t<e.length;t++){var n=Ta(e[t],t),o=this.state.positionsX;o[t]=n.x;var r=this.state.positionsY;r[t]=n.y,this.setState({positionsX:o,positionsY:r})}console.log(this.state.positionsX),console.log(this.state.playerName),this.inicializarTablero()}},{key:"drawOuterWheel",value:function(e,a){var t=this,n=this.props,o=n.radius,r=n.colours,i=n.lineWidth,s=2*o,c=2*o,l=Ea(o,i),d=r.map((function(e){return Wa(e)}));d.forEach((function(n,o){t.ctx.beginPath();var r=qa/d.length*o,u=qa/d.length*(o+1);if(t.ctx.arc(c/2,s/2,l,r+3,u+3),t.ctx.lineWidth=i,null!=a){var h=.1;a.forEach((function(e,a){za(n.r,n.g,n.b)===e&&(h=1),t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")")})),1!=h&&(t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(h,")")),console.log("opacidad= "+h)}else t.ctx.strokeStyle="rgb(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",").concat(e,")");t.ctx.stroke(),t.ctx.closePath()}))}},{key:"drawSpacers",value:function(){this.props.spacers&&this.drawSpacer(this.firstSpacerRadius)}},{key:"drawSpacer",value:function(e){var a=this.props,t=a.radius,n=a.padding,o=a.spacers,r=o.colour,i=o.shadowColour,s=o.shadowBlur,c=2*t,l=2*t,d=Ea(e,n);this.ctx.beginPath(),this.ctx.arc(l/2,c/2,d,0,qa),this.ctx.lineWidth=n,this.ctx.shadowColor=i,this.ctx.shadowBlur=s,this.ctx.strokeStyle=r,this.ctx.stroke(),this.ctx.closePath(),this.ctx.shadowColor="transparent"}},{key:"drawRadius",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.drawRad(-27,-90,0,["#ff6403","#ecd703","#0091df"],e,a),this.drawRad(27,90,180,["#ecd704","#ff00ec","#0091de"],e,a),this.drawRad(65,-70,60,["#ff00ed","#008810","#0091dd"],e,a),this.drawRad(94,20,120,["#3b3884","#ff00ee","#ff6404"],e,a),this.drawRad(-65,70,240,["#ff6405","#3b3883","#00880f"],e,a),this.drawRad(-94,-20,-60,["#00880e","#3b3882","#ff00ef"],e,a)}},{key:"drawRad",value:function(e,a,t,n){var o=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=this.props.radius;this.ctx.beginPath();var c=[e],l=[a];this.ctx.translate(s+c[0],s+l[0]),this.ctx.rotate(t*Math.PI/180),this.ctx.translate(-(s+c[0]),-(s+l[0]));for(var d=function(){var e=Wa(n[u]);if(0!=i.length){var a=0;i.forEach((function(t,n){za(e.r,e.g,e.b)===t&&(o.ctx.fillStyle="rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,",",1,")"),a=1)})),1!=a&&(o.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",",.1,")"))}else o.ctx.fillStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",").concat(r,")");o.ctx.fillRect(s+c[0],s+l[0]-50*u,50,50),o.ctx.stroke()},u=0;u<3;u++)d();this.ctx.setTransform(1,0,0,1,0,0),this.ctx.closePath()}},{key:"changePosition",value:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Ta(this.state.casillaActualInfo.casilla.num,t);console.log("player"+t);var o=this.state.positionsX;o[t]=n.x;var r=this.state.positionsY;r[t]=n.y,this.setState({positionsX:o,positionsY:r})}},{key:"drawInnerWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=a;var t=this.state.rgb,n=t.r,o=t.g,r=t.b,i=this.props,s=i.radius,c=i.lineWidth,l=i.shades,d=(i.animated,2*s),u=2*s,h=Ea(this.innerWheelRadius,c);this.ctx.clearRect(0,0,u,d);var j=Aa(n,o,r,l);function b(){var e=this;j.forEach((function(a,t){e.ctx.beginPath();var n=qa/j.length*t+Ma,o=qa/j.length*(t+1)+.5*Math.PI;e.ctx.arc(u/2,d/2,h,n,o),e.ctx.lineWidth=c,e.ctx.strokeStyle="rgb(".concat(a.r,", ").concat(a.g,", ").concat(a.b,")"),e.ctx.stroke(),e.ctx.closePath()}))}function g(){var t=this;j.forEach((function(a,n){t.ctx.beginPath();var o=qa/j.length*n+Ma,r=qa/j.length*(n+1)+.5*Math.PI;t.ctx.arc(u/2,d/2,h,o,r),t.ctx.lineWidth=c*e,t.ctx.strokeStyle="rgb(".concat(a.r,", ").concat(a.g,", ").concat(a.b,")"),t.ctx.stroke(),t.ctx.closePath()})),(e+=.1)<1&&a(g)}g=g.bind(this),b=b.bind(this)}},{key:"drawCenterCircle",value:function(){var e=this.state.rgb,a=this.props.radius,t=2*a,n=2*a;this.ctx.lineWidth=0,this.ctx.beginPath(),this.ctx.arc(n/2,t/2,50,0,2*Math.PI),this.ctx.fillStyle="rgb(".concat(255,", ",255,", ",255,")"),this.ctx.fill(),this.ctx.lineWidth=.1,this.ctx.strokeStyle="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"),this.ctx.stroke(),this.ctx.closePath(),this.drawPlayers()}},{key:"cargarImagen",value:function(){for(var e=this,a=[],t=0;t<this.state.imagenes.length;t++){var n=new Image;n.onload=function(){e.setState({prueba:!e.state.prueba})},n.src="/images/fichas/"+this.state.imagenes[t]+".png",a.push(n)}return a}},{key:"drawPlayers",value:function(){console.log("dibujando players");this.props.radius;this.ctx.beginPath(),console.log("imagen");var e=this.cargarImagen();console.log(this.state.numPlayers),console.log("imagenes"),console.log(this.state.imagenes),console.log(e);for(var a=0;a<this.state.numPlayers;a++)console.log(this.state.positionsX[a]),console.log(this.state.positionsY[a]),this.ctx.drawImage(e[a],this.state.positionsX[a],this.state.positionsY[a],25,25);this.ctx.closePath()}},{key:"getPosiblesJugadas",value:function(){return this.state.casillaActualInfo}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this,a=this.props,t=a.radius;return a.dynamicCursor?Object(W.jsxs)("div",{children:[Object(W.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,onMouseMove:this.onCanvasHover,width:"".concat(2*t,"px"),height:"".concat(2*t,"px")}),Object(W.jsx)("div",{children:Object(W.jsx)(ha.a,{variant:"popover",popupId:"demo-popup-popover",children:function(a){return Object(W.jsx)("div",{children:Object(W.jsx)(Da.a,{open:e.getOpen(),onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:e.getOpen(),children:Object(W.jsx)(ne.a,{style:{color:Ja.a[500]},children:Object(W.jsxs)(oe.a,{children:[Object(W.jsx)(R.a,{align:"left",children:"Responda a la pregunta."}),Object(W.jsx)("div",{align:"right",children:Object(W.jsx)(Fa.CountdownCircleTimer,{onComplete:function(){console.log("timer"),Xe.emit("actualizarJugada",{casilla:e.state.casillaActualInfo.casilla.num,quesito:"",finTurno:!0},(function(a){console.log("Jugada actualizada: "+a.res+" "+a.info),e.props.activarDado()})),e.handleClose()},isPlaying:!0,duration:60,initialRemainingTime:60,colors:"#A30000",size:80})}),Object(W.jsx)(Ca,{pregunta:e.getPosiblesJugadas(),onResponse:e.handleResponseFromQuiz,children:" "}),Object(W.jsx)(m.a,{onClick:e.handleClose,style:{color:"red"},disabled:e.state.botonCerrar,children:"CERRAR"})]})})})})}})})]}):Object(W.jsx)("canvas",{id:"colour-picker",onClick:this.onCanvasClick,width:"".concat(2*t,"px"),height:"".concat(2*t,"px")})}}]),t}(n.Component);Ba.defaultProps={colours:["#ff00ea","#3b3885","#ecd702","#fffffa","#ff00e9","#ff6402","#3b3887","#ffffff","#008813","#0091e2","#ff6400","#fffffe","#ecd700","#008812","#0091e1","#fffffd","#ff6401","#0091e0","#008811","#fffffc","#ecd701","#3b3886","#ff00eb","#fffffb"],shades:16,padding:0,dynamicCursor:!0,preset:!1,animate:!1};var Ua=Ba,Va=t(208),_a=t.n(Va),Ga=(t(446),t.p+"static/media/dado.80ec73e2.mp3"),Ha=(t(447),t(514)),La=t(515),Ya=t(516),Xa=t(517),Qa=t(518),Ka=t(6),Za=t.p+"static/media/ascensor.a3d7c97f.mp3",$a=t(114),et=t.n($a),at="rgb(255, 255, 255)",tt=function(e){Object(ca.a)(t,e);var a=Object(la.a)(t);function t(e){var n;return Object(ia.a)(this,t),(n=a.call(this,e)).state={selectedColour:at,dado:0,play:!1,turno:"",admin:"",open:!1,datosJugadores:[{avatar:"",nombre:"",coloresAcertados:[],banner:"",ficha:""}],desconectados:[],coloresAcertados:[],jugadores:[],codigoSala:null,username:"",esprimero:!0,nuevoJugador:!1,puedoTirar:!1,sounds:!1,music:!1,partidaEmpezada:!1,yes:!0},n.cambiarSonido=function(){n.setState({sounds:!n.state.sounds})},n.cambiarMusica=function(){n.setState({music:!n.state.music})},n.audio=new Audio(Ga),n.rellenarQuesitos=function(e){},n.listarJugadores=function(e){console.log("Entrando a listar jugadores...");var a=n.state.desconectados,t=n.state.datosJugadores;return console.log(a),Object(W.jsx)(me.a,{dense:!0,className:e.root,children:t.map((function(e){var t="";t=a.includes(e.nombre)?"#D64728":"#000000",console.log(t);var n,o="checkbox-list-secondary-label-".concat(e);return n="banner0"===e.banner||"banner4"===e.banner?"black":"white",Object(W.jsx)("div",{style:{backgroundImage:"url(/images/banners/"+e.banner+".jpg)",backgroundSize:"cover",color:n,blockSize:100,alignContent:"stretch",border:"solid",borderColor:"black",textSizeAdjust:"auto"},children:Object(W.jsxs)(fe.a,{children:[Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{altP:"Remy Sharp",src:"/images/fichas/"+e.ficha+".png"})}),Object(W.jsx)(xe.a,{children:Object(W.jsx)(p.a,{altP:"Remy Sharp",src:"/images/avatars/"+e.avatar+".jpg"})}),Object(W.jsx)(Oe.a,{id:o,disableTypography:!0,primary:Object(W.jsx)(R.a,{type:"body2",style:{color:t},children:e.nombre})}),Object(W.jsx)(na.a,{children:Object(W.jsx)(ta,{color:e.coloresAcertados})})]},e)})}))})},n.botonEmpezar=function(){if(n.state.username===n.state.admin&&!n.state.partidaEmpezada)return Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:n.iniciarPartidaa,children:"Empezar Partida"})},n.togglePlay=function(){n.setState({play:!n.state.play},(function(){n.state.sounds?n.audio.play():n.audio.pause()}))},n.iniciarPartidaa=function(){for(var e=0,a=0;a<n.state.jugadores.length;a++)n.state.jugadores[a]===j()&&(e=a);console.log(n.state.jugadores),console.log(n.colourWheel),n.colourWheel.setValores(n.state.datosJugadores,n.state.datosJugadores.length,e),n.colourWheel.iniciarPartida((function(){n.setState({selectedColour:at})})),n.setState({partidaEmpezada:!0})},n.jugada=function(){var e=n.state.dado;console.log("num"+n.state.dado),n.colourWheel.jugada(e,(function(){n.setState({selectedColour:at})}))},n.rollDoneCallback=function(e){console.log("You rolled a ".concat(e)),n.setState({dado:e}),console.log("sacaste un "+n.state.dado),n.jugada()},n.rollDoneCallback2=function(e){setTimeout((function(){n.rollDoneCallback(e)}),1e3)},n.turn=function(){return Object(W.jsx)("h1",{children:n.state.turno})},n.handleOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1});n.heGanado()},n.handleQuesitos=function(e){var a;switch(console.log(e),console.log("quesito de"+e.quesito),e.quesito){case"Historia":a="yellow";break;case"Deportes":a="orange";break;case"Entretenimiento":a="pink";break;case"Ciencias":a="green";break;case"Geografia":a="blue";break;case"Cultura General":a="purple"}for(var t=!1,o=0;o<n.state.coloresAcertados.length;o++)console.log(n.state.coloresAcertados[o]),console.log(e.quesito),n.state.coloresAcertados[o]===a&&(t=!0);if(""!==e.quesito&&!t){var r=n.state.coloresAcertados;r.push(a),n.setState({coloresAcertados:r});for(var i=n.state.datosJugadores,s=0;s<i.length;s++)i[s].nombre===e.user&&i[s].coloresAcertados.push(a);n.setState({datosJugadores:i})}},u.a.get("https://unitrivia.herokuapp.com/api/profile",{headers:{jwt:b()}}).then((function(e){if(n.setState({username:e.data._id}),console.log(n.state.jugadores),console.log(e.data._id),console.log("no se que poner ",e.data._id,n.state.esprimero,n.state.jugadores.length,n.state.jugadores),0==n.state.jugadores.length&&n.state.esprimero){console.log("Es el primero, lo ponemos como admin");var a=n.state.jugadores.concat(e.data._id);n.setState({jugadores:a,admin:e.data._id,datosJugadores:[{avatar:e.data.avtr,banner:e.data.bnr,ficha:e.data.fich,nombre:e.data._id,coloresAcertados:[]}]})}else 1==n.state.jugadores.length&&n.state.esprimero?n.setState({admin:e.data._id}):console.log("Se intenta meter un usuario que ya estaba")})).catch((function(e){console.log(e.response)})),n}return Object(sa.a)(t,[{key:"activarDado",value:function(){this.setState({puedoTirar:!0})}},{key:"desactivarDado",value:function(){this.setState({puedoTirar:!1})}},{key:"componentDidMount",value:function(){var e=this;Xe.on("nuevoJugador",(function(a){console.log("Cargando nuevo jugador...");var t=a.jugador;if(!e.state.jugadores.includes(t)){var n,o,r;null==a.imgs||""==a.imgs.ficha?(n="ficha0",o="banner0",r="avatar0"):(n=a.imgs.ficha,o=a.imgs.banner,r=a.imgs.avatar);var i=e.state.datosJugadores.concat({ficha:n,nombre:a.jugador,banner:o,avatar:r,coloresAcertados:[]});console.log(i),e.setState({datosJugadores:i});var s=e.state.jugadores.concat(t);e.setState({jugadores:s})}})),Xe.on("cargarJugadores",(function(a){console.log(a),console.log(a.jugadores.usuario);for(var t=[],n=[],o=0;o<a.jugadores.length;o++){var r=void 0,i=void 0,s=void 0;null==a.jugadores[o].imgs||""==a.jugadores[o].imgs?(r="ficha0",i="banner0",s="avatar0"):(r=a.jugadores[o].imgs.ficha,i=a.jugadores[o].imgs.banner,s=a.jugadores[o].imgs.avatar),t.push(a.jugadores[o]),n.push({nombre:a.jugadores[o].usuario,ficha:r,banner:i,avatar:s,coloresAcertados:[]})}console.log(t),console.log(n),t.length>1?e.setState({admin:"",esprimero:!1,datosJugadores:n}):e.setState({admin:e.state.username,esprimero:!0,datosJugadores:n})})),Xe.on("reconexionJugador",(function(a){var t=e.state.desconectados,n=e.state.datosJugadores,o=a.jugador,r=t.indexOf(o);r>-1?(t.splice(r,1),e.setState({desconectados:t})):n.some((function(e){return e.nombre===o}))?console.log("AVISO AL ENCONTRAR JUGADOR: NO ESTABA EN DESCONECTADOS"):console.log("ERROR AL ENCONTRAR JUGADOR: NO ESTABA EN LA PARTIDA")})),Xe.on("estadoPartida",(function(a){console.log(a);for(var t=[],n=0;n<a.jugadores.length;n++){for(var o=[],r=0;r<a.jugadores[n].quesitos.length;r++)switch(a.jugadores[n].quesitos[r]){case"Historia":o.push("yellow");break;case"Deportes":o.push("orange");break;case"Entretenimiento":o.push("pink");break;case"Ciencias":o.push("green");break;case"Geografia":o.push("blue");break;case"Cultura General":o.push("purple")}t.push({ficha:a.jugadores[n].imgs.ficha,nombre:a.jugadores[n].usuario,banner:a.jugadores[n].imgs.banner,avatar:a.jugadores[n].imgs.avatar,coloresAcertados:o})}console.log(t),e.setState({admin:t[0].nombre,esprimero:!1,datosJugadores:t}),console.log("Volviendo a la partida");for(var i=[],s=0;s<a.jugadores.length;s++)i.push(a.jugadores[s].casilla);for(var c=0,l=0;l<e.state.datosJugadores.length;l++)e.state.datosJugadores[l].nombre===j()&&(c=l);e.setState({partidaEmpezada:!0}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,c),console.log(i),e.colourWheel.cargarPartida(i,c),e.colourWheel.drawPlayers()})),Xe.on("abandonoSala",(function(a){console.log("Entramos en abandono de sala "+e.state.jugadores);for(var t,n=e.state.datosJugadores,o=0,r=n.length,i=0;i<r;i++)n[i].nombre===a&&(o=i),n[i].nombre===a&&(t=i);o>-1?(console.log("Hemos sacado el index del jugador que abandona"),n.splice(o,1),e.setState({datosJugadores:n}),e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,t)):(console.log("ha dado error el indexOf"),e.setState({jugadores:n}))})),Xe.on("jugadorSale",(function(a){console.log("Jugador saliendo...");var t=e.state.desconectados;t.includes(a)?console.log("POSIBLE ERROR AL DESCONECTAR JUGADOR: YA ESTABA DESCONECTADO"):(t.push(a),console.log(t),e.setState({desconectados:t}))})),Xe.on("cambioLider",(function(a){var t=a.antiguo,n=a.nuevo;console.log("Antiguo lider: "+t+" nuevo: "+n);var o=e.state.datosJugadores;console.log(o);var r=0,i=o.length;console.log(o[0]);for(var s=0;s<i;s++)o[s].nombre==t&&(r=s);r>-1?(console.log("Hemos sacado el index del jugador que abandona(en cambio Lider)"),o.splice(r,1),e.setState({jugadores:o,admin:n})):console.log("ha dado error el indexOf")})),this.audio.addEventListener("ended",(function(){return e.setState({play:!1})})),Xe.on("turno",(function(a){console.log("Turno de: "+a),console.log(j()),e.setState({turno:a}),a!==j()&&j()||e.activarDado()})),Xe.on("finDelJuego",(function(a){console.log("Fin del juego, gana: "+a),e.handleOpen()})),Xe.emit("obtenerIdSala",(function(a){e.setState({codigoSala:a})})),Xe.on("comienzoPartida",(function(){console.log("Comienza la partida");for(var a=0,t=0;t<e.state.datosJugadores.length;t++)e.state.datosJugadores[t].nombre===j()&&(a=t);e.colourWheel.setValores(e.state.datosJugadores,e.state.datosJugadores.length,a),console.log("dibujand"),e.colourWheel.inicializarTablero()}))}},{key:"componentWillUnmount",value:function(){var e=this;this.audio.removeEventListener("ended",(function(){return e.setState({play:!1})}))}},{key:"heGanado",value:function(){var e=this,a=this.state.datosJugadores,t=a.findIndex((function(a){return a.nombre===e.state.username}));return 6===a[t].coloresAcertados.length}},{key:"finPartida",value:function(){var e=this.state.datosJugadores;e.sort((function(e,a){var t=e.coloresAcertados.length,n=a.coloresAcertados.length;return n<t?-1:n>t?1:0}));for(var a="RESULTADOS: \n",t=1,n=0,o=0;o<e.length;o++)o>0&&e[o].coloresAcertados.length<e[o-1].coloresAcertados.length?(t+=n,n=1):n++,a+=t.toString()+". "+e[o].nombre+"\n";return a}},{key:"getOpen",value:function(){return this.state.open}},{key:"render",value:function(){var e=this,a=this.props.classes;this.state.selectedColour,new Audio("../music/dado.mp3");return Object(W.jsxs)(w.a,{container:!0,children:[Object(W.jsx)(w.a,{item:!0,xs:2,direction:"row",children:Object(W.jsx)(ne.a,{children:Object(W.jsx)(oe.a,{children:Object(W.jsxs)("div",{style:{height:"fit-content"},children:[Object(W.jsx)("h2",{children:"Sala"}),Object(W.jsx)("div",{children:this.listarJugadores(a)}),Object(W.jsx)("div",{children:Object(W.jsxs)("h6",{style:{font:"arial"},children:["C\xd3DIGO: ",this.state.codigoSala]})}),Object(W.jsx)("div",{children:this.botonEmpezar()})]})})})}),Object(W.jsx)(w.a,{item:!0,xs:8,children:Object(W.jsx)(ne.a,{style:{color:Ja.a[500]},children:Object(W.jsxs)(oe.a,{children:[Object(W.jsxs)("div",{children:[Object(W.jsxs)(N.a,{color:"secondary",variant:"contained","aria-label":"add an alarm",href:"/Play",children:[Object(W.jsx)(Te.a,{color:"primary"}),"Volver"]}),Object(W.jsx)(Na.a,{trigger:Object(W.jsx)(N.a,{color:"secondary",variant:"contained",children:Object(W.jsx)(Ha.a,{color:"primary"})}),position:"right top",children:Object(W.jsxs)("div",{children:[Object(W.jsx)("h5",{children:"INFORMACI\xd3N"}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"AMARILLO: historia"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"VERDE: Ciencias"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"ROSA: Entretenimiento"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"MORADO: Cultura General"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"NARANJA: Deportes"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"AZUL: Geografia"})}),Object(W.jsx)("li",{children:Object(W.jsx)("font",{size:2,children:"BLANCO: tira otra vez"})})]})}),Object(W.jsx)(N.a,{onClick:this.cambiarSonido,children:this.state.sounds?Object(W.jsx)(La.a,{color:"primary"}):Object(W.jsx)(Ya.a,{color:"primary"})}),Object(W.jsx)(N.a,{onClick:this.cambiarMusica,color:"secondary",children:this.state.music?Object(W.jsx)(Xa.a,{color:"primary"}):Object(W.jsx)(Qa.a,{color:"primary"})}),Object(W.jsx)(et.a,{url:Za,playStatus:this.state.music?et.a.status.PLAYING:et.a.status.PAUSED,playFromPosition:300,loop:!0,volume:20})]}),Object(W.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",backgroundColor:"#353833",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(W.jsx)("div",{style:{textAlign:"center",color:"#FFFFFF"},children:Object(W.jsx)("h1",{children:Object(W.jsx)("span",{children:"UniTrivia"})})}),Object(W.jsx)("div",{style:{textAlign:"right",color:"#FFFFFF"},children:this.state.turno===this.state.username?Object(W.jsx)("h2",{children:"Tu turno!"}):Object(W.jsxs)("h2",{children:["Turno de :",this.state.turno]})}),Object(W.jsx)(Ua,{numPlayers:this.state.jugadores.length,playerName:this.state.jugadores,radius:250,padding:10,lineWidth:50,onColourSelected:function(a){return e.setState({selectedColour:a})},onRef:function(a){return e.colourWheel=a},spacers:{colour:"#FFFFFF",shadowColour:"grey",shadowBlur:5},preset:!0,presetColour:this.state.selectedColour,animated:!0,desactivarDado:this.desactivarDado.bind(this),activarDado:this.activarDado.bind(this),onResponse:this.handleQuesitos}),Object(W.jsxs)(_e.a,{isOpen:this.getOpen(),onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:!0,children:[Object(W.jsx)("h2",{children:"Fin de la partida"}),Object(W.jsx)("div",{children:this.finPartida()}),Object(W.jsx)("div",{children:Object(W.jsx)(m.a,{variant:"primary",href:"/menu",onClick:this.handleClose,children:"Aceptar"})})]}),Object(W.jsxs)(m.a,{style:{cursor:"pointer",fontSize:20,fontWeight:"500",color:"#FFFFFF",marginTop:20},onClick:this.togglePlay,disabled:!this.state.puedoTirar,children:[Object(W.jsx)(m.a,{onClick:function(){e.reactDice.rollAll()},children:"tirar dado"}),Object(W.jsx)(_a.a,{numDice:1,rollDone:this.rollDoneCallback2,ref:function(a){return e.reactDice=a},outline:!0,faceColor:"white",dotColor:"black",rollTime:2,sound:this.state.sounds?"../music/dado.mp3":"",disableIndividual:!this.state.puedoTirar})]})]})]})})})]})}}]),t}(n.Component),nt=Object(Ka.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(tt),ot=function(e){e.children;return Object(n.useEffect)((function(){window.onpopstate=function(){alert("Acaba de abandonar la partida"),window.location.reload(!0)}})),null};var rt,it,st=function(e){return console.log("Estoy en game"),console.log(Xe),Object(W.jsxs)(w.a,{container:!0,spacing:2,children:[Object(W.jsx)(nt,{}),Object(W.jsx)(aa,{}),Object(W.jsx)(ot,{})]})},ct=(te.a.button(rt||(rt=Object(ae.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),te.a.div(it||(it=Object(ae.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),lt=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var dt,ut,ht=function(){lt();var e=function(e){return Object(W.jsxs)("h7",{children:["Jugador ",e]})};return Object(W.jsxs)(ct,{children:[Object(W.jsx)("h3",{children:"Crear Sala"}),"Codigo de la Sala",Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("h6",{children:"XWDWED"}),Object(W.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(W.jsx)("div",{style:{marginTop:100},children:Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Game",children:"Empezar Partida"})}),Object(W.jsx)("div",{style:{marginTop:100},children:Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},jt=(te.a.button(dt||(dt=Object(ae.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),te.a.div(ut||(ut=Object(ae.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),bt=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var gt,pt,mt=function(e){var a=Object(n.useState)(e),t=Object(s.a)(a,2),o=t[0],r=t[1];return{value:o,onChange:function(e){console.log(o),r(e.target.value)}}},ft=function(){bt();var e=mt("");return Object(W.jsxs)(jt,{children:[Object(W.jsx)("h3",{children:"Unirse a Sala"}),"Introduce el c\xf3digo de la sala",Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{children:Object(W.jsx)("div",{children:Object(W.jsx)(x.a,Object(h.a)(Object(h.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"codigo",label:"Codigo",name:"codigo",autoComplete:"codigo",autoFocus:!0},e),{},{label:"C\xf3digo de la sala"}))})}),Object(W.jsx)("div",{style:{marginTop:10},children:Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Sala",children:"Unirme"})}),Object(W.jsx)("div",{style:{marginTop:100},children:Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Atr\xe1s"})})]})},xt=(te.a.button(gt||(gt=Object(ae.a)(["\n  background-color: #fce2e2;\n  font-size: 32px;\n  color: #6c6ce3;\n"]))),te.a.div(pt||(pt=Object(ae.a)(["\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\nwidth: 150%;\nmargin: 2em auto;\n\n  @media screen and (min-width: 1180px) {\n    width: 70%;\n  }\n"])))),Ot=Object(A.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://img.freepik.com/vector-gratis/modelo-inconsutil-pregunta-papel-aislada-realista-decoracion-invitacion-concepto-concurso-trivia_269299-1004.jpg?size=626&ext=jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var vt=function(){Ot();var e=function(e){return Object(W.jsxs)("h7",{children:["Jugador ",e]})};return Object(W.jsxs)(xt,{children:[Object(W.jsxs)("h3",{children:["Sala ",Object(W.jsx)("h6",{children:"XWDWED"})," "]}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),Object(W.jsx)("br",{}),e(1),e(2),e(3),e(4),Object(W.jsx)("div",{style:{marginTop:100},children:Object(W.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",href:"/Play",children:"Salirse"})})]})};var yt=function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),o=t[0],r=t[1];return Object(n.useEffect)((function(){b()&&r(!1)}),[]),o&&b()?Object(W.jsx)("div",{className:"content",children:"Checking Authentication..."}):Object(W.jsx)("div",{className:"App",children:Object(W.jsx)(c.a,{children:Object(W.jsx)("div",{children:Object(W.jsx)("div",{className:"content",children:Object(W.jsxs)(l.d,{children:[Object(W.jsx)(l.b,{exact:!0,path:"/",component:q}),Object(W.jsx)(l.b,{path:"/login",component:z}),Object(W.jsx)(l.b,{exact:!0,path:"/ChangePassword",component:H}),Object(W.jsx)(l.b,{path:"/register",component:Q}),Object(W.jsx)(B,{path:"/Menu",component:se}),Object(W.jsx)(B,{path:"/Play",component:$e}),Object(W.jsx)(B,{path:"/Game",component:st}),Object(W.jsx)(B,{path:"/CrearSala",component:ht}),Object(W.jsx)(B,{path:"/UnirseSala",component:ft}),Object(W.jsx)(B,{path:"/Sala",component:vt}),Object(W.jsx)(Ue,{path:"/Profile",component:Fe}),Object(W.jsx)(Ue,{path:"/Tienda",component:Ne})]})})})})})};i.a.render(Object(W.jsx)(yt,{}),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.1a097bfa.chunk.js.map